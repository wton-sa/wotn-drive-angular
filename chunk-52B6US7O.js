import{a as Q,b as pe}from"./chunk-RPKWM7KC.js";import{$a as R,Ad as B,Bb as F,Bd as Y,Ca as S,Cb as V,Cd as Z,Da as J,Dd as fe,Ed as ve,Ha as u,Ka as m,P as me,Q as H,Rc as D,S as z,Ta as i,Ua as n,Ub as j,Va as h,X as f,Y as v,Za as T,ab as _,cc as de,cd as A,ed as ge,fd as I,gd as X,hd as ue,jc as K,lb as p,ld as q,mb as l,ob as N,od as O,pd as L,qb as y,rb as P,rc as ce,rd as E,sa as s,sb as b,sc as k,tc as C,td as W,ud as x,vc as G,xa as g,xb as w}from"./chunk-IABVTHWR.js";var ye=()=>["/"],$=class t{constructor(r){this.translate=r;this.currentLang=localStorage.getItem("language")??"en",this.currentLangFlag=localStorage.getItem("language")}language="en";currentLang;currentLangFlag;languages=["ar","en"];ngOnInit(){this.translate.addLangs(["en","ar"]),this.translate.use(this.currentLang)}updateState(r){this.language=r}translateLanguageTo(r){this.currentLang=r,this.currentLangFlag=r,this.translate.use(r),localStorage.setItem("language",r),window.location.reload()}static \u0275fac=function(e){return new(e||t)(g(I))};static \u0275cmp=S({type:t,selectors:[["app-auth"]],standalone:!1,decls:17,vars:2,consts:[["id","main-wrapper"],[1,"contact-section"],[1,"container"],[1,"row"],[1,"col-lg-12","mb-4"],[3,"routerLink"],["src","assets/images/Logo-white.svg","alt","",1,"logo"],[1,"col-lg-7"],[1,"contact-form"],[1,"col-lg-5","align-self-center"],[1,"contact-info"],["src","assets/images/form-img.png","alt",""]],template:function(e,o){e&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"a",5),h(6,"img",6),n()(),i(7,"div",7)(8,"div",8),h(9,"router-outlet"),n()(),i(10,"div",9)(11,"div",10),h(12,"img",11),i(13,"h2"),l(14,"WOTN Drive is Online Cloud Storage"),n(),i(15,"h4"),l(16,"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididun. "),n()()()()()()()),e&2&&(s(5),m("routerLink",w(1,ye)))},dependencies:[ce,C],styles:[".logo[_ngcontent-%COMP%]{width:100px}"]})};var be=()=>["/auth/reset-password"],Ie=()=>["/auth/register"];function Le(t,r){t&1&&(i(0,"div"),l(1),F(2,"translate"),n()),t&2&&(s(),N(" ",V(2,1,"LogIn.emailRequired")," "))}function Ee(t,r){t&1&&(i(0,"div"),l(1),F(2,"translate"),n()),t&2&&(s(),N(" ",V(2,1,"LogIn.emailisinvalid")," "))}function xe(t,r){if(t&1&&(i(0,"div",14),u(1,Le,3,3,"div",15)(2,Ee,3,3,"div",15),n()),t&2){_();let e=p(11);s(),m("ngIf",e==null||e.errors==null?null:e.errors.required),s(),m("ngIf",e==null||e.errors==null?null:e.errors.email)}}function Me(t,r){t&1&&(i(0,"div"),l(1," Password is required "),n())}function Te(t,r){t&1&&(i(0,"div"),l(1," Password must be at least 4 characters long. "),n())}function Re(t,r){if(t&1&&(i(0,"div",14),u(1,Me,2,0,"div",15)(2,Te,2,0,"div",15),n()),t&2){_();let e=p(16);s(),m("ngIf",e==null||e.errors==null?null:e.errors.required),s(),m("ngIf",e==null||e.errors==null?null:e.errors.minlength)}}var ie=class t{constructor(r,e,o,d,c){this.authService=r;this.router=e;this.login=o;this.toaster=d;this.translate=c;o.loginEmail="",o.loginPassword="",this.setMessage()}message;microsite;setMessage(){this.message="Logged "+(this.authService.isLoggedIn?"in":"out")}onSubmit(){this.authService.login(this.login).subscribe(r=>{if(console.log("data",r),!r.userToken){this.authService.isLoggedIn=!1;return}this.authService.setAuthInLocalStorage(r),this.authService.isLoggedIn=!0,this.toaster.success("",this.translate.instant("LogIn.loginSuccess"));let e=this.router.parseUrl(this.authService.redirectUrl?this.authService.redirectUrl:"/");this.router.navigateByUrl(e)},r=>{this.toaster.error("",this.translate.instant("LogIn.loginFailure"))})}ngOnInit(){}static \u0275fac=function(e){return new(e||t)(g(D),g(k),g(Q),g(A),g(I))};static \u0275cmp=S({type:t,selectors:[["app-login"]],standalone:!1,decls:29,vars:8,consts:[["loginForm","ngForm"],["loginEmail","ngModel"],["loginPassword","ngModel"],[1,"form",3,"ngSubmit"],[1,"steps","step-1","active"],[1,"mb-4"],[1,"row"],[1,"col-lg-12"],[1,"form-group"],["type","text","id","loginEmail","name","loginEmail","placeholder","Email or Phone Number","email","","required","",1,"form-control",3,"ngModelChange","ngModel"],["class","alert alert-danger",4,"ngIf"],["type","password","id","loginPassword","name","loginPassword","placeholder","Password","minlength","4","required","",1,"form-control",3,"ngModelChange","ngModel"],[3,"routerLink"],["type","submit",1,"btn","btn-primary","my-3"],[1,"alert","alert-danger"],[4,"ngIf"]],template:function(e,o){if(e&1){let d=T();i(0,"form",3,0),R("ngSubmit",function(){f(d);let a=p(1);return v(a.form.valid&&o.onSubmit())}),i(2,"div",4)(3,"h3"),l(4,"Login"),n(),i(5,"h5",5),l(6,"Log in using the account"),n(),i(7,"div",6)(8,"div",7)(9,"div",8)(10,"input",9,1),b("ngModelChange",function(a){return f(d),P(o.login.loginEmail,a)||(o.login.loginEmail=a),v(a)}),n()(),u(12,xe,3,2,"div",10),n(),i(13,"div",7)(14,"div",8)(15,"input",11,2),b("ngModelChange",function(a){return f(d),P(o.login.loginPassword,a)||(o.login.loginPassword=a),v(a)}),n()(),u(17,Re,3,2,"div",10),n(),i(18,"div",7)(19,"a",12),l(20,"Forgot Password?"),n()(),i(21,"div",7)(22,"button",13),l(23,"Log In"),n()(),i(24,"div",7)(25,"p"),l(26,"Don't have an account? "),i(27,"a",12),l(28,"Create an account"),n()()()()()()}if(e&2){let d=p(1),c=p(11),a=p(16);s(10),y("ngModel",o.login.loginEmail),s(2),m("ngIf",c.invalid&&(c.dirty||c.touched||d.submitted)),s(3),y("ngModel",o.login.loginPassword),s(2),m("ngIf",a.invalid&&(a.dirty||a.touched||d.submitted)),s(2),m("routerLink",w(6,be)),s(8),m("routerLink",w(7,Ie))}},dependencies:[j,C,x,q,O,L,B,Z,Y,W,E,X],encapsulation:2})};var Ne=()=>["/auth/login"],ne=class t{static \u0275fac=function(e){return new(e||t)};static \u0275cmp=S({type:t,selectors:[["app-register"]],standalone:!1,decls:36,vars:2,consts:[["action","index.html",1,"form"],[1,"steps","step-1","active",2,"display","block"],[1,"mb-4"],[1,"row"],[1,"col-lg-6"],[1,"form-group"],["type","text","placeholder","First Name*",1,"form-control"],["type","text","placeholder","Last Name*",1,"form-control"],[1,"col-lg-12"],["type","text","placeholder","Mobile Number*",1,"form-control"],["type","text","placeholder","Email*",1,"form-control"],[1,"form-group","pass"],["src","./icons/eye.svg","alt","","onclick","togglePassword()"],["type","password","id","password","placeholder","Password",1,"form-control"],[1,"form-check"],["type","checkbox","value","","id","flexCheckDefault",1,"form-check-input"],["for","flexCheckDefault",1,"form-check-label"],[1,"btn","btn-primary","my-3"],[3,"routerLink"]],template:function(e,o){e&1&&(i(0,"form",0)(1,"div",1)(2,"h3"),l(3,"Sign-Up"),n(),i(4,"h5",2),l(5,"Create an Account"),n(),i(6,"div",3)(7,"div",4)(8,"div",5),h(9,"input",6),n()(),i(10,"div",4)(11,"div",5),h(12,"input",7),n()(),i(13,"div",8)(14,"div",5),h(15,"input",9),n()(),i(16,"div",8)(17,"div",5),h(18,"input",10),n()(),i(19,"div",8)(20,"div",11),h(21,"img",12)(22,"input",13),n()(),i(23,"div",8)(24,"div",14),h(25,"input",15),i(26,"label",16),l(27," I agree to the Terms & Conditions "),n()()(),i(28,"div",8)(29,"button",17),l(30,"Sign-Up"),n()(),i(31,"div",8)(32,"p"),l(33,"Already have an account? "),i(34,"a",18),l(35,"Login"),n()()()()()()),e&2&&(s(34),m("routerLink",w(1,Ne)))},dependencies:[C,x,L,E],encapsulation:2})};var Fe=()=>["/auth/login"];function Ve(t,r){t&1&&(i(0,"div"),l(1),F(2,"translate"),n()),t&2&&(s(),N(" ",V(2,1,"LogIn.emailRequired")," "))}function je(t,r){t&1&&(i(0,"div"),l(1),F(2,"translate"),n()),t&2&&(s(),N(" ",V(2,1,"LogIn.emailisinvalid")," "))}function ke(t,r){if(t&1&&(i(0,"div",12),u(1,Ve,3,3,"div",13)(2,je,3,3,"div",13),n()),t&2){_();let e=p(11);s(),m("ngIf",e==null||e.errors==null?null:e.errors.required),s(),m("ngIf",e==null||e.errors==null?null:e.errors.email)}}var re=class t{constructor(r,e,o,d,c){this.authService=r;this.router=e;this.login=o;this.toaster=d;this.translate=c;o.loginEmail=""}message;microsite;onSubmit(){this.login.loginEmail=="ehab@wotn.com"?(this.toaster.success("",this.translate.instant("ForgotPassword.resetSuccess")),this.router.navigate(["/auth/login"])):this.toaster.error("",this.translate.instant("ForgotPassword.resetFailure"))}ngOnInit(){}static \u0275fac=function(e){return new(e||t)(g(D),g(k),g(Q),g(A),g(I))};static \u0275cmp=S({type:t,selectors:[["app-reset-pass"]],standalone:!1,decls:20,vars:4,consts:[["resetForm","ngForm"],["loginEmail","ngModel"],[1,"form",3,"ngSubmit"],[1,"steps","step-1","active",2,"display","block"],[1,"mb-4"],[1,"row"],[1,"col-lg-12"],[1,"form-group"],["type","text","id","loginEmail","name","loginEmail","placeholder","Email or Phone Number","email","","required","",1,"form-control",3,"ngModelChange","ngModel"],["class","alert alert-danger",4,"ngIf"],["type","submit",1,"btn","btn-primary","my-3"],[3,"routerLink"],[1,"alert","alert-danger"],[4,"ngIf"]],template:function(e,o){if(e&1){let d=T();i(0,"form",2,0),R("ngSubmit",function(){f(d);let a=p(1);return v(a.form.valid&&o.onSubmit())}),i(2,"div",3)(3,"h3"),l(4,"Reset password"),n(),i(5,"h5",4),l(6,"Fill your mail to Reset your password"),n(),i(7,"div",5)(8,"div",6)(9,"div",7)(10,"input",8,1),b("ngModelChange",function(a){return f(d),P(o.login.loginEmail,a)||(o.login.loginEmail=a),v(a)}),n()(),u(12,ke,3,2,"div",9),n(),i(13,"div",6)(14,"button",10),l(15,"Reset password"),n()(),i(16,"div",6)(17,"p")(18,"a",11),l(19,"Return to login"),n()()()()()()}if(e&2){let d=p(1),c=p(11);s(10),y("ngModel",o.login.loginEmail),s(2),m("ngIf",c.invalid&&(c.dirty||c.touched||d.submitted)),s(6),m("routerLink",w(3,Fe))}},dependencies:[j,C,x,q,O,L,B,Y,W,E,X],encapsulation:2})};var De=()=>["/auth/login"];function Ae(t,r){t&1&&(i(0,"div"),l(1," Old Password is required "),n())}function qe(t,r){if(t&1&&(i(0,"div",15),u(1,Ae,2,0,"div",16),n()),t&2){_();let e=p(9);s(),m("ngIf",e==null||e.errors==null?null:e.errors.required)}}function Oe(t,r){t&1&&(i(0,"div"),l(1," New Password is required "),n())}function We(t,r){if(t&1&&(i(0,"div",15),u(1,Oe,2,0,"div",16),n()),t&2){_();let e=p(13);s(),m("ngIf",e==null||e.errors==null?null:e.errors.required)}}function Be(t,r){t&1&&(i(0,"div"),l(1," Confirmed Password is required "),n())}function Ue(t,r){if(t&1&&(i(0,"div",15),u(1,Be,2,0,"div",16),n()),t&2){_();let e=p(17);s(),m("ngIf",e==null||e.errors==null?null:e.errors.required)}}function Ge(t,r){t&1&&(i(0,"div",15),l(1," Passwords do not match "),n())}var oe=class t{constructor(r,e,o,d){this.authService=r;this.router=e;this.toaster=o;this.translate=d}message;microsite;changePassword=new pe;onSubmit(){this.authService.changePassword(this.changePassword).subscribe({next:r=>{console.log("data",r),this.toaster.success("",this.translate.instant("Password changed successfully")),localStorage.clear(),localStorage.setItem("TimeSeveral","yes"),localStorage.setItem("isLoggedIn","false"),this.authService.isLoggedIn=!1,this.router.navigate(["/auth/login"])},error:r=>{(r.error.status==-11||r.error.status==-10)&&this.toaster.error("",this.translate.instant("Old Password is not correct"))}})}ngOnInit(){}static \u0275fac=function(e){return new(e||t)(g(D),g(k),g(A),g(I))};static \u0275cmp=S({type:t,selectors:[["app-change-password"]],standalone:!1,decls:27,vars:9,consts:[["resetForm","ngForm"],["OldPassword","ngModel"],["Password","ngModel"],["ConfirmPassword","ngModel"],[1,"form",3,"ngSubmit"],[1,"steps","step-1","active",2,"display","block"],[1,"row"],[1,"col-lg-12"],[1,"form-group"],["type","password","id","OldPassword","name","OldPassword","placeholder","Old Password","minlength","4","required","",1,"form-control",3,"ngModelChange","ngModel"],["class","alert alert-danger",4,"ngIf"],["type","password","id","Password","name","Password","placeholder","New Password","minlength","4","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","password","id","ConfirmPassword","name","ConfirmPassword","placeholder","Confirm Password","minlength","4","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-primary","my-3"],[3,"routerLink"],[1,"alert","alert-danger"],[4,"ngIf"]],template:function(e,o){if(e&1){let d=T();i(0,"form",4,0),R("ngSubmit",function(){f(d);let a=p(1);return v(a.form.valid&&o.onSubmit())}),i(2,"div",5)(3,"h3"),l(4,"Change password"),n(),i(5,"div",6)(6,"div",7)(7,"div",8)(8,"input",9,1),b("ngModelChange",function(a){return f(d),P(o.changePassword.OldPassword,a)||(o.changePassword.OldPassword=a),v(a)}),n()(),u(10,qe,2,1,"div",10),i(11,"div",8)(12,"input",11,2),b("ngModelChange",function(a){return f(d),P(o.changePassword.Password,a)||(o.changePassword.Password=a),v(a)}),n()(),u(14,We,2,1,"div",10),i(15,"div",8)(16,"input",12,3),b("ngModelChange",function(a){return f(d),P(o.changePassword.ConfirmPassword,a)||(o.changePassword.ConfirmPassword=a),v(a)}),n()(),u(18,Ue,2,1,"div",10)(19,Ge,2,0,"div",10),n(),i(20,"div",7)(21,"button",13),l(22,"Change password"),n()(),i(23,"div",7)(24,"p")(25,"a",14),l(26,"Return to login"),n()()()()()()}if(e&2){let d=p(1),c=p(9),a=p(13),U=p(17);s(8),y("ngModel",o.changePassword.OldPassword),s(2),m("ngIf",c.invalid&&(c.dirty||c.touched||d.submitted)),s(2),y("ngModel",o.changePassword.Password),s(2),m("ngIf",a.invalid&&(a.dirty||a.touched||d.submitted)),s(2),y("ngModel",o.changePassword.ConfirmPassword),s(2),m("ngIf",U.invalid&&(U.dirty||U.touched||d.submitted)),s(),m("ngIf",o.changePassword.Password!==o.changePassword.ConfirmPassword&&(U.dirty||U.touched||d.submitted)),s(6),m("routerLink",w(8,De))}},dependencies:[j,C,x,q,O,L,B,Z,W,E],encapsulation:2})};var He=[{path:"",component:$,children:[{path:"login",component:ie},{path:"register",component:ne},{path:"reset-password",component:re},{path:"change-password",component:oe}]}],ae=class t{static \u0275fac=function(e){return new(e||t)};static \u0275mod=J({type:t});static \u0275inj=H({imports:[G.forChild(He),G]})};var Ce=(()=>{class t{http;prefix;suffix;constructor(e,o="/assets/i18n/",d=".json"){this.http=e,this.prefix=o,this.suffix=d}getTranslation(e){return this.http.get(`${this.prefix}${e}${this.suffix}`)}static \u0275fac=function(o){return new(o||t)(z(K),z(String),z(String))};static \u0275prov=me({token:t,factory:t.\u0275fac})}return t})();function ze(t){return new Ce(t,"./assets/i18n/Auth/",".json")}var _e=class t{static \u0275fac=function(e){return new(e||t)};static \u0275mod=J({type:t});static \u0275inj=H({imports:[de,ae,ve,fe,G,ue.forRoot({loader:{provide:ge,useFactory:ze,deps:[K]},isolate:!0})]})};export{_e as AuthModule,ze as createTranslateLoader};
