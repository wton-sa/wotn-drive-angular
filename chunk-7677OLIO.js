import{a as Z,b as ue}from"./chunk-WW3I3R4A.js";import{$a as k,Bd as H,Ca as P,Cb as d,Cd as $,Da as X,Db as p,Dd as ee,Ed as he,Fd as we,Ha as h,Ka as c,P as me,Q as K,S as Q,Sc as q,Ta as i,Ua as n,Va as w,Vb as A,X as S,Y as _,Za as j,ab as x,db as L,dc as ce,dd as O,fd as fe,gd as M,hd as R,id as ve,kc as Y,lb as u,mb as l,md as W,nb as v,ob as C,pd as U,qd as N,rb as b,sa as r,sb as E,sc as ge,sd as F,tb as T,tc as D,uc as I,ud as G,vd as B,wc as J,xa as f,yb as y}from"./chunk-4TEO6QN3.js";var Ie=()=>["/"],te=class e{constructor(o){this.translate=o;this.currentLang=localStorage.getItem("language")??"en",this.currentLangFlag=localStorage.getItem("language")}language="en";currentLang;currentLangFlag;languages=["ar","en"];ngOnInit(){this.translate.addLangs(["en","ar"]),this.translate.use(this.currentLang)}updateState(o){this.language=o}translateLanguageTo(o){this.currentLang=o,this.currentLangFlag=o,this.translate.use(o),localStorage.setItem("language",o),window.location.reload()}static \u0275fac=function(t){return new(t||e)(f(M))};static \u0275cmp=P({type:e,selectors:[["app-auth"]],standalone:!1,decls:19,vars:8,consts:[["id","main-wrapper"],[1,"contact-section"],[1,"container"],[1,"row"],[1,"col-lg-12","mb-4"],[3,"routerLink"],["src","assets/images/Logo-white.svg","alt","",1,"logo"],[1,"col-lg-7"],[1,"contact-form"],[1,"col-lg-5","align-self-center"],[1,"contact-info"],["src","assets/images/form-img.png","alt",""]],template:function(t,a){t&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"a",5),w(6,"img",6),n()(),i(7,"div",7)(8,"div",8),w(9,"router-outlet"),n()(),i(10,"div",9)(11,"div",10),w(12,"img",11),i(13,"h2"),l(14),d(15,"translate"),n(),i(16,"h4"),l(17),d(18,"translate"),n()()()()()()()),t&2&&(r(5),c("routerLink",y(7,Ie)),r(9),v(p(15,3,"Auth.WOTNDriveTitle")),r(3),v(p(18,5,"Auth.WOTNDriveSubtitle")))},dependencies:[ge,I,R],styles:[".logo[_ngcontent-%COMP%]{width:100px}"]})};var Le=()=>["/auth/reset-password"];function be(e,o){e&1&&(i(0,"div"),l(1),d(2,"translate"),n()),e&2&&(r(),C(" ",p(2,1,"LogIn.emailRequired")," "))}function Ee(e,o){e&1&&(i(0,"div"),l(1),d(2,"translate"),n()),e&2&&(r(),C(" ",p(2,1,"LogIn.emailisinvalid")," "))}function Te(e,o){if(e&1&&(i(0,"div",14),h(1,be,3,3,"div",15)(2,Ee,3,3,"div",15),n()),e&2){x();let t=u(13);r(),c("ngIf",t==null||t.errors==null?null:t.errors.required),r(),c("ngIf",t==null||t.errors==null?null:t.errors.email)}}function Me(e,o){e&1&&(i(0,"div"),l(1),d(2,"translate"),n()),e&2&&(r(),C(" ",p(2,1,"LogIn.PasswordRequired")," "))}function Re(e,o){e&1&&(i(0,"div"),l(1),d(2,"translate"),n()),e&2&&(r(),C(" ",p(2,1,"LogIn.PasswordMinLength")," "))}function Ne(e,o){if(e&1&&(i(0,"div",14),h(1,Me,3,3,"div",15)(2,Re,3,3,"div",15),n()),e&2){x();let t=u(19);r(),c("ngIf",t==null||t.errors==null?null:t.errors.required),r(),c("ngIf",t==null||t.errors==null?null:t.errors.minlength)}}var re=class e{constructor(o,t,a,m,g){this.authService=o;this.router=t;this.login=a;this.toaster=m;this.translate=g;a.loginEmail="",a.loginPassword="",this.setMessage()}message;microsite;setMessage(){this.message="Logged "+(this.authService.isLoggedIn?"in":"out")}onSubmit(){this.authService.login(this.login).subscribe(o=>{if(console.log("data",o),!o.userToken){this.authService.isLoggedIn=!1;return}this.authService.setAuthInLocalStorage(o),this.authService.isLoggedIn=!0,this.toaster.success("",this.translate.instant("LogIn.loginSuccess"));let t=this.router.parseUrl(this.authService.redirectUrl?this.authService.redirectUrl:"/");this.router.navigateByUrl(t)},o=>{this.toaster.error("",this.translate.instant("LogIn.loginFailure"))})}ngOnInit(){}static \u0275fac=function(t){return new(t||e)(f(q),f(D),f(Z),f(O),f(M))};static \u0275cmp=P({type:e,selectors:[["app-login"]],standalone:!1,decls:31,vars:24,consts:[["loginForm","ngForm"],["loginEmail","ngModel"],["loginPassword","ngModel"],[1,"form",3,"ngSubmit"],[1,"steps","step-1","active"],[1,"mb-4"],[1,"row"],[1,"col-lg-12"],[1,"form-group"],["type","text","id","loginEmail","name","loginEmail","email","","required","",1,"form-control",3,"ngModelChange","ngModel","placeholder"],["class","alert alert-danger",4,"ngIf"],["type","password","id","loginPassword","name","loginPassword","minlength","4","required","",1,"form-control",3,"ngModelChange","ngModel","placeholder"],[3,"routerLink"],["type","submit",1,"btn","btn-primary","my-3"],[1,"alert","alert-danger"],[4,"ngIf"]],template:function(t,a){if(t&1){let m=j();i(0,"form",3,0),k("ngSubmit",function(){S(m);let s=u(1);return _(s.form.valid&&a.onSubmit())}),i(2,"div",4)(3,"h3"),l(4),d(5,"translate"),n(),i(6,"h5",5),l(7),d(8,"translate"),n(),i(9,"div",6)(10,"div",7)(11,"div",8)(12,"input",9,1),d(14,"translate"),T("ngModelChange",function(s){return S(m),E(a.login.loginEmail,s)||(a.login.loginEmail=s),_(s)}),n()(),h(15,Te,3,2,"div",10),n(),i(16,"div",7)(17,"div",8)(18,"input",11,2),d(20,"translate"),T("ngModelChange",function(s){return S(m),E(a.login.loginPassword,s)||(a.login.loginPassword=s),_(s)}),n()(),h(21,Ne,3,2,"div",10),n(),i(22,"div",7)(23,"a",12),l(24),d(25,"translate"),n()(),i(26,"div",7)(27,"button",13),l(28),d(29,"translate"),n()(),w(30,"div",7),n()()()}if(t&2){let m=u(1),g=u(13),s=u(19);r(4),v(p(5,11,"LoginPage")),r(3),v(p(8,13,"LogIn.LogInUsingAccount")),r(5),L("placeholder",p(14,15,"LogIn.email")),b("ngModel",a.login.loginEmail),r(3),c("ngIf",g.invalid&&(g.dirty||g.touched||m.submitted)),r(3),L("placeholder",p(20,17,"LogIn.Password")),b("ngModel",a.login.loginPassword),r(3),c("ngIf",s.invalid&&(s.dirty||s.touched||m.submitted)),r(2),c("routerLink",y(23,Le)),r(),v(p(25,19,"LogIn.ForgotPassword")),r(4),v(p(29,21,"LoginPage"))}},dependencies:[A,I,B,W,U,N,H,ee,$,G,F,R],encapsulation:2})};var Fe=()=>["/auth/login"],oe=class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=P({type:e,selectors:[["app-register"]],standalone:!1,decls:36,vars:2,consts:[["action","index.html",1,"form"],[1,"steps","step-1","active",2,"display","block"],[1,"mb-4"],[1,"row"],[1,"col-lg-6"],[1,"form-group"],["type","text","placeholder","First Name*",1,"form-control"],["type","text","placeholder","Last Name*",1,"form-control"],[1,"col-lg-12"],["type","text","placeholder","Mobile Number*",1,"form-control"],["type","text","placeholder","Email*",1,"form-control"],[1,"form-group","pass"],["src","./icons/eye.svg","alt","","onclick","togglePassword()"],["type","password","id","password","placeholder","Password",1,"form-control"],[1,"form-check"],["type","checkbox","value","","id","flexCheckDefault",1,"form-check-input"],["for","flexCheckDefault",1,"form-check-label"],[1,"btn","btn-primary","my-3"],[3,"routerLink"]],template:function(t,a){t&1&&(i(0,"form",0)(1,"div",1)(2,"h3"),l(3,"Sign-Up"),n(),i(4,"h5",2),l(5,"Create an Account"),n(),i(6,"div",3)(7,"div",4)(8,"div",5),w(9,"input",6),n()(),i(10,"div",4)(11,"div",5),w(12,"input",7),n()(),i(13,"div",8)(14,"div",5),w(15,"input",9),n()(),i(16,"div",8)(17,"div",5),w(18,"input",10),n()(),i(19,"div",8)(20,"div",11),w(21,"img",12)(22,"input",13),n()(),i(23,"div",8)(24,"div",14),w(25,"input",15),i(26,"label",16),l(27," I agree to the Terms & Conditions "),n()()(),i(28,"div",8)(29,"button",17),l(30,"Sign-Up"),n()(),i(31,"div",8)(32,"p"),l(33,"Already have an account? "),i(34,"a",18),l(35,"Login"),n()()()()()()),t&2&&(r(34),c("routerLink",y(1,Fe)))},dependencies:[I,B,N,F],encapsulation:2})};var Be=()=>["/auth/login"];function Ve(e,o){e&1&&(i(0,"div"),l(1),d(2,"translate"),n()),e&2&&(r(),C(" ",p(2,1,"LogIn.emailRequired")," "))}function je(e,o){e&1&&(i(0,"div"),l(1),d(2,"translate"),n()),e&2&&(r(),C(" ",p(2,1,"LogIn.emailisinvalid")," "))}function ke(e,o){if(e&1&&(i(0,"div",12),h(1,Ve,3,3,"div",13)(2,je,3,3,"div",13),n()),e&2){x();let t=u(13);r(),c("ngIf",t==null||t.errors==null?null:t.errors.required),r(),c("ngIf",t==null||t.errors==null?null:t.errors.email)}}var ae=class e{constructor(o,t,a,m,g){this.authService=o;this.router=t;this.login=a;this.toaster=m;this.translate=g;a.loginEmail=""}message;microsite;onSubmit(){this.login.loginEmail=="ehab@wotn.com"?(this.toaster.success("",this.translate.instant("ForgotPassword.resetSuccess")),this.router.navigate(["/auth/login"])):this.toaster.error("",this.translate.instant("ForgotPassword.resetFailure"))}ngOnInit(){}static \u0275fac=function(t){return new(t||e)(f(q),f(D),f(Z),f(O),f(M))};static \u0275cmp=P({type:e,selectors:[["app-reset-pass"]],standalone:!1,decls:25,vars:19,consts:[["resetForm","ngForm"],["loginEmail","ngModel"],[1,"form",3,"ngSubmit"],[1,"steps","step-1","active",2,"display","block"],[1,"mb-4"],[1,"row"],[1,"col-lg-12"],[1,"form-group"],["type","text","id","loginEmail","name","loginEmail","email","","required","",1,"form-control",3,"ngModelChange","ngModel","placeholder"],["class","alert alert-danger",4,"ngIf"],["type","submit",1,"btn","btn-primary","my-3"],[3,"routerLink"],[1,"alert","alert-danger"],[4,"ngIf"]],template:function(t,a){if(t&1){let m=j();i(0,"form",2,0),k("ngSubmit",function(){S(m);let s=u(1);return _(s.form.valid&&a.onSubmit())}),i(2,"div",3)(3,"h3"),l(4),d(5,"translate"),n(),i(6,"h5",4),l(7),d(8,"translate"),n(),i(9,"div",5)(10,"div",6)(11,"div",7)(12,"input",8,1),d(14,"translate"),T("ngModelChange",function(s){return S(m),E(a.login.loginEmail,s)||(a.login.loginEmail=s),_(s)}),n()(),h(15,ke,3,2,"div",9),n(),i(16,"div",6)(17,"button",10),l(18),d(19,"translate"),n()(),i(20,"div",6)(21,"p")(22,"a",11),l(23),d(24,"translate"),n()()()()()()}if(t&2){let m=u(1),g=u(13);r(4),v(p(5,8,"ForgotpasswordPage")),r(3),v(p(8,10,"ForgotPassword.FillMailToReset")),r(5),L("placeholder",p(14,12,"LogIn.email")),b("ngModel",a.login.loginEmail),r(3),c("ngIf",g.invalid&&(g.dirty||g.touched||m.submitted)),r(3),v(p(19,14,"ForgotpasswordPage")),r(4),c("routerLink",y(18,Be)),r(),v(p(24,16,"ForgotPassword.ReturnToLogin"))}},dependencies:[A,I,B,W,U,N,H,$,G,F,R],encapsulation:2})};var Ae=()=>["/auth/login"];function De(e,o){e&1&&(i(0,"div"),l(1),d(2,"translate"),n()),e&2&&(r(),C(" ",p(2,1,"ChangePassword.OldPasswordRequired")," "))}function qe(e,o){if(e&1&&(i(0,"div",15),h(1,De,3,3,"div",16),n()),e&2){x();let t=u(10);r(),c("ngIf",t==null||t.errors==null?null:t.errors.required)}}function Oe(e,o){e&1&&(i(0,"div"),l(1),d(2,"translate"),n()),e&2&&(r(),C(" ",p(2,1,"ChangePassword.NewPasswordRequired")," "))}function We(e,o){if(e&1&&(i(0,"div",15),h(1,Oe,3,3,"div",16),n()),e&2){x();let t=u(15);r(),c("ngIf",t==null||t.errors==null?null:t.errors.required)}}function Ue(e,o){e&1&&(i(0,"div"),l(1),d(2,"translate"),n()),e&2&&(r(),C(" ",p(2,1,"ChangePassword.ConfirmPasswordRequired")," "))}function Ge(e,o){if(e&1&&(i(0,"div",15),h(1,Ue,3,3,"div",16),n()),e&2){x();let t=u(20);r(),c("ngIf",t==null||t.errors==null?null:t.errors.required)}}function He(e,o){e&1&&(i(0,"div",15),l(1),d(2,"translate"),n()),e&2&&(r(),C(" ",p(2,1,"ChangePassword.PasswordsDoNotMatch")," "))}var se=class e{constructor(o,t,a,m){this.authService=o;this.router=t;this.toaster=a;this.translate=m}message;microsite;changePassword=new ue;onSubmit(){this.authService.changePassword(this.changePassword).subscribe({next:o=>{console.log("data",o),this.toaster.success("",this.translate.instant("Password changed successfully")),localStorage.clear(),localStorage.setItem("TimeSeveral","yes"),localStorage.setItem("isLoggedIn","false"),this.authService.isLoggedIn=!1,this.router.navigate(["/auth/login"])},error:o=>{(o.error.status==-11||o.error.status==-10)&&this.toaster.error("",this.translate.instant("Old Password is not correct"))}})}ngOnInit(){}static \u0275fac=function(t){return new(t||e)(f(q),f(D),f(O),f(M))};static \u0275cmp=P({type:e,selectors:[["app-change-password"]],standalone:!1,decls:33,vars:27,consts:[["resetForm","ngForm"],["OldPassword","ngModel"],["Password","ngModel"],["ConfirmPassword","ngModel"],[1,"form",3,"ngSubmit"],[1,"steps","step-1","active",2,"display","block"],[1,"row"],[1,"col-lg-12"],[1,"form-group"],["type","password","id","OldPassword","name","OldPassword","minlength","4","required","",1,"form-control",3,"ngModelChange","ngModel","placeholder"],["class","alert alert-danger",4,"ngIf"],["type","password","id","Password","name","Password","minlength","4","required","",1,"form-control",3,"ngModelChange","ngModel","placeholder"],["type","password","id","ConfirmPassword","name","ConfirmPassword","minlength","4","required","",1,"form-control",3,"ngModelChange","ngModel","placeholder"],["type","submit",1,"btn","btn-primary","my-3"],[3,"routerLink"],[1,"alert","alert-danger"],[4,"ngIf"]],template:function(t,a){if(t&1){let m=j();i(0,"form",4,0),k("ngSubmit",function(){S(m);let s=u(1);return _(s.form.valid&&a.onSubmit())}),i(2,"div",5)(3,"h3"),l(4),d(5,"translate"),n(),i(6,"div",6)(7,"div",7)(8,"div",8)(9,"input",9,1),d(11,"translate"),T("ngModelChange",function(s){return S(m),E(a.changePassword.OldPassword,s)||(a.changePassword.OldPassword=s),_(s)}),n()(),h(12,qe,2,1,"div",10),i(13,"div",8)(14,"input",11,2),d(16,"translate"),T("ngModelChange",function(s){return S(m),E(a.changePassword.Password,s)||(a.changePassword.Password=s),_(s)}),n()(),h(17,We,2,1,"div",10),i(18,"div",8)(19,"input",12,3),d(21,"translate"),T("ngModelChange",function(s){return S(m),E(a.changePassword.ConfirmPassword,s)||(a.changePassword.ConfirmPassword=s),_(s)}),n()(),h(22,Ge,2,1,"div",10)(23,He,3,3,"div",10),n(),i(24,"div",7)(25,"button",13),l(26),d(27,"translate"),n()(),i(28,"div",7)(29,"p")(30,"a",14),l(31),d(32,"translate"),n()()()()()()}if(t&2){let m=u(1),g=u(10),s=u(15),z=u(20);r(4),v(p(5,14,"ChangePassword.Title")),r(5),L("placeholder",p(11,16,"ChangePassword.OldPassword")),b("ngModel",a.changePassword.OldPassword),r(3),c("ngIf",g.invalid&&(g.dirty||g.touched||m.submitted)),r(2),L("placeholder",p(16,18,"ChangePassword.NewPassword")),b("ngModel",a.changePassword.Password),r(3),c("ngIf",s.invalid&&(s.dirty||s.touched||m.submitted)),r(2),L("placeholder",p(21,20,"ChangePassword.ConfirmPassword")),b("ngModel",a.changePassword.ConfirmPassword),r(3),c("ngIf",z.invalid&&(z.dirty||z.touched||m.submitted)),r(),c("ngIf",a.changePassword.Password!==a.changePassword.ConfirmPassword&&(z.dirty||z.touched||m.submitted)),r(3),v(p(27,22,"ChangePassword.Title")),r(4),c("routerLink",y(26,Ae)),r(),v(p(32,24,"ForgotPassword.ReturnToLogin"))}},dependencies:[A,I,B,W,U,N,H,ee,G,F,R],encapsulation:2})};var ze=[{path:"",component:te,children:[{path:"login",component:re},{path:"register",component:oe},{path:"reset-password",component:ae},{path:"change-password",component:se}]}],le=class e{static \u0275fac=function(t){return new(t||e)};static \u0275mod=X({type:e});static \u0275inj=K({imports:[J.forChild(ze),J]})};var Pe=(()=>{class e{http;prefix;suffix;constructor(t,a="/assets/i18n/",m=".json"){this.http=t,this.prefix=a,this.suffix=m}getTranslation(t){return this.http.get(`${this.prefix}${t}${this.suffix}`)}static \u0275fac=function(a){return new(a||e)(Q(Y),Q(String),Q(String))};static \u0275prov=me({token:e,factory:e.\u0275fac})}return e})();function Je(e){return new Pe(e,"./assets/i18n/Auth/",".json")}var ye=class e{static \u0275fac=function(t){return new(t||e)};static \u0275mod=X({type:e});static \u0275inj=K({imports:[ce,le,we,he,J,ve.forRoot({loader:{provide:fe,useFactory:Je,deps:[Y]},isolate:!0})]})};export{ye as AuthModule,Je as createTranslateLoader};
