import{a as ne,b as xi,c as mt,d as ho,e as yi,f as Ei,g as go,h as vo}from"./chunk-MX3NFUHD.js";import{a as co}from"./chunk-XMUXJG45.js";import{$b as Yn,$c as fo,A as rt,Ba as S,Cc as re,Da as U,Fa as fn,Fc as he,G as Ne,Ga as Z,Gc as Pt,Hb as Zn,Hc as mo,Ib as te,Ic as ct,Jb as X,Jc as $t,K as Ve,Ka as o,L as ii,La as a,Lc as dt,Ma as p,Mb as qn,Mc as He,N as we,Na as ai,Nb as Te,Nc as hi,Oa as ri,Ob as pi,Oc as Tt,Pa as hn,Pb as Ht,Pc as me,Qa as L,Qc as gi,Rc as Ue,S as _,Sa as C,Sc as vi,T as w,Ta as I,Tc as bi,U as jt,Ub as ui,Uc as po,V as It,Vb as Ce,Vc as le,Wa as $,Wb as fi,Wc as se,Xa as lt,Xc as Si,Ya as pe,Za as ue,_ as Ge,_a as fe,_c as uo,a as ei,b as ti,bb as R,bc as Ut,ca as ye,cb as s,cc as Be,db as V,dc as Xn,eb as D,ec as st,f as un,fb as li,fc as je,g as _t,gb as si,gc as Gn,hb as ci,hc as Wt,ib as di,ic as Kn,jc as Qn,k as Wn,ka as N,kc as Jn,la as ni,lc as eo,m as wt,ma as h,mc as to,nb as k,nc as io,o as Re,ob as K,oc as no,pa as ae,pb as Ft,pc as oo,qa as P,qb as M,qc as gn,rb as H,rc as ao,sb as Q,sc as ro,t as Bt,tb as mi,tc as lo,ub as J,uc as so,va as W,wa as oi,wb as $n,x as Ct,ya as F}from"./chunk-GCDLNEK5.js";var We=class l{showSubject=new _t(!1);sourceSubject=new _t("");show$=this.showSubject.asObservable();source$=this.sourceSubject.asObservable();setShow(e){this.showSubject.next(e)}setSource(e){this.sourceSubject.next(e)}static \u0275fac=function(t){return new(t||l)};static \u0275prov=Ve({token:l,factory:l.\u0275fac,providedIn:"root"})};var ma=l=>({template1:l}),pa=()=>["/language"],ua=()=>["/auth/change-password"],fa=()=>["/notifications"],vn=()=>["/permissions"],ha=()=>["/support"],ga=()=>["/legal"],va=()=>["/"],ba=l=>["/",l];function Sa(l,e){if(l&1&&(o(0,"div",92),p(1,"img",93),a()),l&2){let t=I().data;h(),$("src",t==null?null:t.image,N)}}function xa(l,e){if(l&1&&(F(0,Sa,2,1,"div",92),s(1)),l&2){let t=e.data;Z(t!=null&&t.image?0:-1),h(),D(" ",t==null?null:t.name," ")}}function ya(l,e){if(l&1&&(ai(0),o(1,"span"),s(2),a(),ri()),l&2){let t=I();h(2),V(t.title)}}function Ea(l,e){if(l&1&&(o(0,"a",94),s(1),a()),l&2){let t=I(2);S("routerLink",K(2,ba,t.breadcrumb)),h(),V(t.breadcrumb)}}function _a(l,e){l&1&&p(0,"img",95)}function wa(l,e){if(l&1&&(ai(0),o(1,"a",94),s(2,"Home"),a(),p(3,"img",95),F(4,Ea,2,4,"a",96)(5,_a,1,0,"img",97),o(6,"span"),s(7),a(),ri()),l&2){let t=I();h(),S("routerLink",k(4,va)),h(3),S("ngIf",t.breadcrumb),h(),S("ngIf",t.breadcrumb),h(2),V(t.title)}}function Ca(l,e){if(l&1){let t=L();ai(0),o(1,"button",98),C("click",function(){_(t);let n=I();return w(n.goBack())}),p(2,"i",99),s(3," back "),a(),ri()}}var wi=class l{constructor(e,t,i,n,r,c,d){this.authService=e;this.router=t;this.login=i;this.toaster=n;this.translate=r;this.el=c;this.activatedRoute=d;this.router.events.pipe(Bt(m=>m instanceof Ut)).subscribe(()=>{let m=this.activatedRoute.firstChild;m&&(this.title=m.snapshot.data.title,this.breadcrumb=m.snapshot.data.breadcrumb)})}title="";breadcrumb="";data=[{options:[{value:"Omar Ezz",label:"Omar Ezz",data:{name:"Omar Ezz",email:"Omar_Ezz@exapmle.com.sa",image:"assets/images/profile/pic1.jpg"},templateId:"template1",templateSelectionId:"template1Selection",id:"1"},{value:"Emad hamdi",label:"Emad Hamdi",data:{name:"Emad hamdi",email:"emad_hamdi@exapmle.com.sa",image:"assets/images/profile/user4.jpg"},templateId:"template1",templateSelectionId:"template1Selection",id:"2"},{value:"Ehab Zakaria",label:"Ehab Zakaria",data:{name:"Ehab Zakaria",email:"ehab_zakaria@exapmle.com.sa",image:"assets/images/profile/default-profile-img.png"},templateId:"template1",templateSelectionId:"template1Selection",id:"3"},{value:"mohamed Ezz",label:"mohamed Ezz",data:{name:"mohamed Ezz",email:"mohamed@exapmle.com.sa",image:"assets/images/profile/pic1.jpg"},templateId:"template1",templateSelectionId:"template1Selection",id:"4"},{value:"Ali hamdi",label:"Ali Hamdi",data:{name:"Ali hamdi",email:"Ali@exapmle.com.sa",image:"assets/images/profile/user4.jpg"},templateId:"template1",templateSelectionId:"template1Selection",id:"5"},{value:"hassan Zakaria",label:"hassan Zakaria",data:{name:"hassan Zakaria",email:"hassan@exapmle.com.sa",image:"assets/images/profile/default-profile-img.png"},templateId:"template1",templateSelectionId:"template1Selection",id:"6"}]}];currentUser={};update(e){console.log(e)}ngOnInit(){this.currentUser.userName=localStorage.getItem("userName"),this.currentUser.email=localStorage.getItem("email"),this.currentUser.phoneNumber=localStorage.getItem("phoneNumber"),this.currentUser.imageUrl=localStorage.getItem("imageUrl")}logout(){this.authService.logout().subscribe(e=>{console.log("logout_data",e),localStorage.clear(),localStorage.setItem("TimeSeveral","yes"),localStorage.setItem("isLoggedIn","false"),this.authService.isLoggedIn=!1,this.toaster.success("",this.translate.instant("Logout")),this.router.navigate(["/auth/login"])},e=>{this.toaster.error("",this.translate.instant("LogOut.logoutFailure"))})}ngAfterViewInit(){}goBack(){this.router.navigateByUrl(this.router.url,{skipLocationChange:!0}).then(()=>{window.history.back()})}toggle(){let e=document.getElementById("main-wrapper"),t=this.el.nativeElement.querySelector(".hamburger");e?.classList.toggle("menu-toggle"),t?.classList.toggle("is-active")}filterData(){let e=document.getElementById("filterData"),t=this.el.nativeElement.querySelector(".filter");e?.classList.toggle("active"),t?.classList.toggle("is-active")}static \u0275fac=function(t){return new(t||l)(P(so),P(st),P(co),P(re),P(he),P(ye),P(Be))};static \u0275cmp=W({type:l,selectors:[["app-header"]],standalone:!1,decls:232,vars:28,consts:[["template1",""],[1,"nav-header"],["href","home.html",1,"brand-logo"],["src","assets/images/logo.svg","alt","",1,"logo-abbr"],[1,"nav-control"],[1,"hamburger",3,"click"],[1,"line"],[1,"header","home"],[1,"header-content"],[1,"navbar","navbar-expand"],[1,"collapse","navbar-collapse","justify-content-between"],[1,"header-left"],[1,"filter",3,"click"],["src","assets/icons/filter.svg","alt",""],["type","search","placeholder","Search","aria-label","Search",1,"form-control","search"],["id","filterData",1,"filterData"],[1,"head-title"],["src","assets/icons/close.svg","alt","",3,"click"],[1,"filter-body"],[1,"row"],[1,"col-lg-6"],[1,"form-group"],["for",""],["type","text","placeholder","Write Name Here........",1,"form-control"],["name","","id","",1,"form-control"],["value",""],[1,"col-lg-12"],["placeholder","Enter Name or Email address","displaySearchStatus","default","multiple","","showSelectAll","",3,"update","data","templates"],[1,"col-lg-4"],["type","date","placeholder","Enter Name or Email address",1,"form-control","date"],[1,"tags"],[1,"custom-check"],["type","checkbox","name","tag","id","tag1","checked",""],["for","tag1",1,"tag"],["type","checkbox","name","tag","id","tag2"],["for","tag2",1,"tag"],["type","checkbox","name","tag","id","tag3"],["for","tag3",1,"tag"],["type","checkbox","name","tag","id","tag4"],["for","tag4",1,"tag"],[1,"d-flex","justify-content-end"],["href","",1,"btn","btn-solid","me-3"],["href","",1,"btn","btn-primary"],[1,"navbar-nav","header-right"],[1,"nav-item","dropdown","notification_dropdown"],["href","#","role","button","data-bs-toggle","dropdown",1,"nav-link","bell","ai-icon"],["id","icon-setting1","xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"feather","feather-cms"],["cx","12","cy","12","r","3"],["d","M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"],[1,"dropdown-menu","dropdown-menu-end"],[1,"dropdown-item","ai-icon",3,"routerLink"],[1,"d-flex","align-items-center","justify-content-between"],[1,"ti","ti-angle-right"],["id","icon-lange","xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"feather","feather-flag"],["d","M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"],["x1","4","y1","22","x2","4","y2","15"],["src","assets/icons/flag-sa.svg",1,"lang","me-2"],[1,"ml-2"],["src","assets/icons/flag-us.svg",1,"lang","me-2"],["id","icon-user","xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"feather","feather-bell"],["d","M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"],["d","M13.73 21a2 2 0 0 1-3.46 0"],[1,"pulse-css"],[1,"dropdown-menu","dropdown-menu-end","noti"],["id","DZ_W_Notification1",1,"widget-media","dz-scroll","p-3",2,"height","380px"],[1,"timeline"],[1,"timeline-panel"],[1,"media","me-2"],["alt","image","width","50","src","assets/images/avatar/1.jpg"],[1,"media-body"],[1,"mb-1"],[1,"d-block"],[1,"media","me-2","media-info"],[1,"media","me-2","media-success"],[1,"media","me-2","media-danger"],[1,"media","me-2","media-primary"],[1,"nav-item","dropdown","header-profile"],["href","#","role","button","data-bs-toggle","dropdown",1,"nav-link"],["width","20","alt","",3,"src"],[1,"header-info","pl-2"],[1,"dropdown-menu","dropdown-menu-right"],[1,"d-flex","align-items-center","px-4"],["width","20","alt","",1,"me-2",3,"src"],[1,"header-info"],[1,"mx-4","limit"],[1,"progress"],["role","progressbar","aria-valuenow","25","aria-valuemin","0","aria-valuemax","100",1,"progress-bar",2,"width","25%"],[1,"pt-2","px-4"],[1,"btn","btn-primary","d-block",3,"click"],[1,"breadcrumb","d-flex","justify-content-between"],[1,"d-flex"],[4,"ngIf"],[1,"image","me-2"],["alt","",3,"src"],[3,"routerLink"],["src","assets/icons/breadcrumb.svg","alt","",1,"mx-2"],[3,"routerLink",4,"ngIf"],["src","assets/icons/breadcrumb.svg","class","mx-2","alt","",4,"ngIf"],[1,"btn","btn-primary",3,"click"],[1,"ti","ti-arrow-left"]],template:function(t,i){if(t&1){let n=L();o(0,"div",1)(1,"a",2),p(2,"img",3),a(),o(3,"div",4)(4,"div",5),C("click",function(){return _(n),w(i.toggle())}),p(5,"span",6)(6,"span",6)(7,"span",6),a()()(),o(8,"div",7)(9,"div",8)(10,"nav",9)(11,"div",10)(12,"div",11)(13,"form")(14,"a",12),C("click",function(){return _(n),w(i.filterData())}),p(15,"img",13),a(),p(16,"input",14),a(),o(17,"div",15)(18,"div",16)(19,"h3"),s(20,"Search"),a(),o(21,"img",17),C("click",function(){return _(n),w(i.filterData())}),a()(),o(22,"div",18)(23,"div",19)(24,"div",20)(25,"div",21)(26,"label",22),s(27,"Folder Name"),a(),p(28,"input",23),a()(),o(29,"div",20)(30,"div",21)(31,"label",22),s(32,"Project Type"),a(),o(33,"select",24)(34,"option",25),s(35,"Any"),a(),o(36,"option",25),s(37,"event"),a()()()(),o(38,"div",26)(39,"div",21)(40,"label",22),s(41,"Shared To"),a(),o(42,"select2",27),C("update",function(c){return _(n),w(i.update(c))}),F(43,xa,2,2,"ng-template",null,0,J),a()()(),o(45,"div",28)(46,"div",21)(47,"label",22),s(48,"Owner"),a(),o(49,"select",24)(50,"option",25),s(51,"Anyaone"),a(),o(52,"option",25),s(53,"Ehab"),a()()()(),o(54,"div",28)(55,"div",21)(56,"label",22),s(57,"Location"),a(),o(58,"select",24)(59,"option",25),s(60,"Anywhere"),a(),o(61,"option",25),s(62,"Egypt"),a()()()(),o(63,"div",28)(64,"div",21)(65,"label",22),s(66,"Date Modified"),a(),p(67,"input",29),a()()(),o(68,"div",21)(69,"label",22),s(70,"Tags"),a(),o(71,"div",30)(72,"div",31),p(73,"input",32),o(74,"label",33),s(75,"Website"),a()(),o(76,"div",31),p(77,"input",34),o(78,"label",35),s(79,"Government agencies"),a()(),o(80,"div",31),p(81,"input",36),o(82,"label",37),s(83,"Photo"),a()(),o(84,"div",31),p(85,"input",38),o(86,"label",39),s(87,"Videos"),a()()()(),o(88,"div",40)(89,"a",41),s(90,"Reset"),a(),o(91,"a",42),s(92,"Search"),a()()()()(),o(93,"ul",43)(94,"li",44)(95,"a",45),jt(),o(96,"svg",46),p(97,"circle",47)(98,"path",48),a()(),It(),o(99,"div",49)(100,"a",50)(101,"span",51),s(102,"Change Language "),p(103,"i",52),a()(),o(104,"a",50)(105,"span",51),s(106,"Change Password "),p(107,"i",52),a()(),o(108,"a",50)(109,"span",51),s(110,"Notifications "),p(111,"i",52),a()(),o(112,"a",50)(113,"span",51),s(114,"Setting Permissions "),p(115,"i",52),a()()()(),o(116,"li",44)(117,"a",45),jt(),o(118,"svg",53),p(119,"path",54)(120,"line",55),a()(),It(),o(121,"div",49)(122,"a",50),p(123,"img",56),o(124,"span",57),s(125,"\u0639\u0631\u0628\u064A"),a()(),o(126,"a",50),p(127,"img",58),o(128,"span",57),s(129,"English"),a()()()(),o(130,"li",44)(131,"a",45),jt(),o(132,"svg",59),p(133,"path",60)(134,"path",61),a(),It(),p(135,"div",62),a(),o(136,"div",63)(137,"div",64)(138,"ul",65)(139,"li")(140,"div",66)(141,"div",67),p(142,"img",68),a(),o(143,"div",69)(144,"h6",70),s(145,"You have a new notification from WOTN"),a(),o(146,"small",71),s(147,"11/7/2024 - 02:26 PM"),a()()()(),o(148,"li")(149,"div",66)(150,"div",72),s(151," WOTN "),a(),o(152,"div",69)(153,"h6",70),s(154,"You have a new notification from WOTN"),a(),o(155,"small",71),s(156,"11/7/2024 - 02:26 PM"),a()()()(),o(157,"li")(158,"div",66),p(159,"div",73),o(160,"div",69)(161,"h6",70),s(162,"You have a new notification from WOTN"),a(),o(163,"small",71),s(164,"11/7/2024 - 02:26 PM"),a()()()(),o(165,"li")(166,"div",66)(167,"div",67),p(168,"img",68),a(),o(169,"div",69)(170,"h6",70),s(171,"You have a new notification from WOTN"),a(),o(172,"small",71),s(173,"11/7/2024 - 02:26 PM"),a()()()(),o(174,"li")(175,"div",66)(176,"div",74),s(177," WOTN "),a(),o(178,"div",69)(179,"h6",70),s(180,"You have a new notification from WOTN"),a(),o(181,"small",71),s(182,"11/7/2024 - 02:26 PM"),a()()()(),o(183,"li")(184,"div",66),p(185,"div",75),o(186,"div",69)(187,"h6",70),s(188,"You have a new notification from WOTN"),a(),o(189,"small",71),s(190,"11/7/2024 - 02:26 PM"),a()()()()()()()(),o(191,"li",76)(192,"a",77),p(193,"img",78),o(194,"div",79)(195,"span")(196,"strong"),s(197),a()()()(),o(198,"div",80)(199,"div",81),p(200,"img",82),o(201,"div",83)(202,"span")(203,"strong"),s(204),a()(),p(205,"br"),o(206,"span"),s(207),a()()(),o(208,"div",84)(209,"span",51),s(210,"Limit"),o(211,"span"),s(212,"1 GB of 50 GB"),a()(),o(213,"div",85),p(214,"div",86),a()(),o(215,"a",50)(216,"span",51),s(217,"Support "),p(218,"i",52),a()(),o(219,"a",50)(220,"span",51),s(221,"Legal "),p(222,"i",52),a()(),o(223,"div",87)(224,"a",88),C("click",function(){return _(n),w(i.logout())}),s(225,"Log out"),a()()()()()()()(),o(226,"div",89)(227,"div",90),F(228,ya,3,1,"ng-container",91)(229,wa,8,5,"ng-container",91),a(),o(230,"div",90),F(231,Ca,4,0,"ng-container",91),a()()()}if(t&2){let n=R(44);h(42),S("data",i.data)("templates",K(18,ma,n)),h(58),S("routerLink",k(20,pa)),h(4),S("routerLink",k(21,ua)),h(4),S("routerLink",k(22,fa)),h(4),S("routerLink",k(23,vn)),h(10),S("routerLink",k(24,vn)),h(4),S("routerLink",k(25,vn)),h(67),S("src",i.currentUser.imageUrl,N),h(4),V(i.currentUser.userName),h(3),S("src",i.currentUser.imageUrl,N),h(4),V(i.currentUser.userName),h(3),V(i.currentUser.email),h(8),S("routerLink",k(26,ha)),h(4),S("routerLink",k(27,ga)),h(9),S("ngIf",i.title=="Home"),h(),S("ngIf",i.title!="Home"),h(2),S("ngIf",i.title!="Home")}},dependencies:[X,je,Ue,le,se,He,Tt,ne],styles:[".header-left[_ngcontent-%COMP%]   form[_ngcontent-%COMP%], .header-left[_ngcontent-%COMP%]{position:relative}.header-left[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%]{position:absolute;top:50%;right:6px;transform:translateY(-50%);z-index:1;width:40px;line-height:40px;height:40px;text-align:center;border-radius:50%}a.filter[_ngcontent-%COMP%]{cursor:pointer;transition:all .6s ease-in-out;-ms-transition:all .6s ease-in-out;-o-transition:all .6s ease-in-out;-webkit-transition:all .6s ease-in-out;-moz-transition:all .6s ease-in-out}a.filter.is-active[_ngcontent-%COMP%], a.filter[_ngcontent-%COMP%]:hover{background:#eee}.filterData[_ngcontent-%COMP%]{border-radius:20px;border:1px solid #EDEDED;background:#fff;box-shadow:0 0 22px #43434324;position:absolute;width:100%;top:70px;transform:translateY(-100%);left:0;z-index:9;height:0;opacity:0;overflow:hidden;transition:all .4s ease-in-out;-ms-transition:all .4s ease-in-out;-o-transition:all .4s ease-in-out;-webkit-transition:all .4s ease-in-out;-moz-transition:all .4s ease-in-out}.filterData.active[_ngcontent-%COMP%]{height:auto;opacity:1;transform:translateY(0)}.filterData[_ngcontent-%COMP%]   .head-title[_ngcontent-%COMP%]{padding:10px 32px;display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid #D7D7D7}.head-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#000;font-size:20px;font-style:normal;font-weight:500;line-height:150%;margin:0}.head-title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{cursor:pointer;transition:all .6s ease-in-out;-ms-transition:all .6s ease-in-out;-o-transition:all .6s ease-in-out;-webkit-transition:all .6s ease-in-out;-moz-transition:all .6s ease-in-out}.head-title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:rotate(180deg)}.filter-body[_ngcontent-%COMP%]{border-radius:20px;padding:25px 32px;position:relative;background:#fff;z-index:9}.tags[_ngcontent-%COMP%]{position:relative;display:flex;column-gap:5px}.tags[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{display:none}.tag[_ngcontent-%COMP%]{border-radius:8px;border:1px solid #D7D7D7;padding:10px 15px;color:#918c8c;font-size:13px;font-style:normal;font-weight:300;line-height:150%;cursor:pointer}.tags[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]{background:#3a5164;color:#fff}.tag[_ngcontent-%COMP%]:hover{color:#3a5164;background:#f8fafc}.select2-container--default[_ngcontent-%COMP%]   .select2-selection--multiple[_ngcontent-%COMP%]{border:none;background:transparent}"]})};var Ia=()=>["/"],Zt=()=>({exact:!0}),Fa=()=>["recent-files"],Pa=()=>["my-files"],Ta=()=>["projects"],Ma=()=>["favorite"],Ci=class l{static \u0275fac=function(t){return new(t||l)};static \u0275cmp=W({type:l,selectors:[["app-sidebar"]],standalone:!1,decls:29,vars:20,consts:[[1,"deznav"],[1,"deznav-scroll"],["id","menu",1,"metismenu","pt-5"],["routerLinkActive","active",1,"ai-icon",3,"routerLink","routerLinkActiveOptions"],["src","./assets/icons/menu/home.svg","alt","",1,"me-2"],[1,"nav-text"],["src","./assets/icons/menu/recent.svg","alt","",1,"me-2"],[1,"divider"],["src","./assets/icons/menu/mine.svg","alt","",1,"me-2"],["src","./assets/icons/menu/folder.svg","alt","",1,"me-2"],["src","./assets/icons/menu/star.svg","alt","",1,"me-2"]],template:function(t,i){t&1&&(o(0,"div",0)(1,"div",1)(2,"ul",2)(3,"li")(4,"a",3),p(5,"img",4),o(6,"span",5),s(7,"Home"),a()()(),o(8,"li")(9,"a",3),p(10,"img",6),o(11,"span",5),s(12,"recent"),a()()(),p(13,"li",7),o(14,"li")(15,"a",3),p(16,"img",8),o(17,"span",5),s(18,"My Files"),a()()(),o(19,"li")(20,"a",3),p(21,"img",9),o(22,"span",5),s(23,"Projects"),a()()(),o(24,"li")(25,"a",3),p(26,"img",10),o(27,"span",5),s(28,"favorite"),a()()()()()()),t&2&&(h(4),S("routerLink",k(10,Ia))("routerLinkActiveOptions",k(11,Zt)),h(5),S("routerLink",k(12,Fa))("routerLinkActiveOptions",k(13,Zt)),h(6),S("routerLink",k(14,Pa))("routerLinkActiveOptions",k(15,Zt)),h(5),S("routerLink",k(16,Ta))("routerLinkActiveOptions",k(17,Zt)),h(5),S("routerLink",k(18,Ma))("routerLinkActiveOptions",k(19,Zt)))},dependencies:[je,Gn],encapsulation:2})};var ji=class l{show;source;static \u0275fac=function(t){return new(t||l)};static \u0275cmp=W({type:l,selectors:[["app-project-cover"]],inputs:{show:"show",source:"source"},standalone:!1,decls:2,vars:3,consts:[[1,"project-cover"],["alt","",3,"src"]],template:function(t,i){t&1&&(o(0,"div",0),p(1,"img",1),a()),t&2&&(U("hidden",!i.show),h(),$("src",i.source,N))},encapsulation:2})};var Ii=class l{constructor(e,t,i,n){this.router=e;this.activatedRoute=t;this.projectCoverService=i;this.cdr=n;this.router.events.pipe(Bt(r=>r instanceof Ut)).subscribe(()=>{let r=this.activatedRoute.firstChild;r&&(this.title=r.snapshot.data.title,this.breadcrumb=r.snapshot.data.breadcrumb)})}title="";breadcrumb="";show=!1;source="";ngOnInit(){this.projectCoverService.show$.subscribe(e=>{this.show=e}),this.projectCoverService.source$.subscribe(e=>{this.source=e}),this.cdr.detectChanges(),this.router.events.pipe(Bt(e=>e instanceof Ut)).subscribe(()=>{setTimeout(()=>{this.projectCoverService.setShow(!1),this.projectCoverService.setSource("")})})}static \u0275fac=function(t){return new(t||l)(P(st),P(Be),P(We),P($n))};static \u0275cmp=W({type:l,selectors:[["app-pages"]],standalone:!1,decls:8,vars:2,consts:[["id","main-wrapper"],[1,"content-body"],[3,"show","source"],[1,"container-fluid"],[1,"main-body"]],template:function(t,i){t&1&&(o(0,"div",0),p(1,"app-header")(2,"app-sidebar"),o(3,"div",1),p(4,"app-project-cover",2),o(5,"div",3)(6,"div",4),p(7,"router-outlet"),a()()()()),t&2&&(h(4),S("show",i.show)("source",i.source))},dependencies:[wi,Ci,Xn,ji],encapsulation:2})};var et=(t=>(t[t.Event=0]="Event",t[t.Conference=1]="Conference",t))(et||{});var oe=class l{constructor(e){this.http=e}isLoadingSubject=new _t(!1);currentProjectsSubject=new _t(void 0);setLoading(e){this.isLoadingSubject.next(e)}createProject(e){return this.http.post(Kn,e)}createFile(e){return this.http.post(gn,e,{reportProgress:!0,observe:"events",responseType:"json"})}createFile1(e){return this.http.post(gn,e)}createFolder(e){return this.http.post(to,e,{reportProgress:!0,observe:"events"})}updateFolder(e,t){return this.http.put(io+e.toString(),t)}activateFolder(e){return this.http.post(no+e.toString(),{})}patchFolder(e,t){return this.http.patch(oo+e.toString(),t)}fetchProjects(e,t,i=null,n=null){this.setLoading(!0);let r=new ui().set("isActive","").set("pageNumber",e.toString()).set("pageSize",t.toString());return i!=null&&(r=r.set("Type",i.toString())),n&&(r=r.set("sortOrder",n)),this.http.get(Qn,{params:r,observe:"response"}).pipe(wt(c=>{let d=c.body;var m;c.headers.get("pagination")&&(m=JSON.parse(c.headers.get("pagination")??""));let u={currentPage:m?Number(m.currentPage):0,pageSize:m?Number(m.pageSize):0,numberOfPages:m?Number(m.numberOfPages):0,totalItems:m?Number(m.totalItems):0};return ti(ei({},u),{data:d})}),Ct(c=>this.handleError("fetching projects",c)),rt(()=>this.setLoading(!1)))}fetchProject(e){return this.setLoading(!0),this.http.get(Jn+e?.toString(),{observe:"response"}).pipe(wt(t=>t.body),Ct(t=>this.handleError("fetching project",t)),rt(()=>this.setLoading(!1)))}fetchFolder(e){return this.setLoading(!0),this.http.get(eo+e?.toString(),{observe:"response"}).pipe(wt(t=>t.body),Ct(t=>this.handleError("fetching folder",t)),rt(()=>this.setLoading(!1)))}fetchProjectFolders(e,t,i,n,r=null,c,d=0,m=null){this.setLoading(!0);let u=new ui().set("projectId",e.toString()).set("pageNumber",i.toString()).set("pageSize",n.toString()).set("type",(d??0).toString());return r&&(u=u.set("sortOrder",r)),t&&(u=u.set("parentId",t.toString())),c&&(u=u.set("FavUserId",c.toString())),m!=null&&(u=u.set("isActive",m.toString())),this.http.get(ao,{params:u,observe:"response"}).pipe(wt(f=>{let g=f.body;var b;f.headers.get("pagination")&&(b=JSON.parse(f.headers.get("pagination")??""));let v={currentPage:b?Number(b.currentPage):0,pageSize:b?Number(b.pageSize):0,numberOfPages:b?Number(b.numberOfPages):0,totalItems:b?Number(b.totalItems):0};return ti(ei({},v),{data:g})}),Ct(f=>this.handleError("fetching project folders",f)),rt(()=>this.setLoading(!1)))}fetchProjectFiles(e,t,i,n,r=null,c,d=!1){this.setLoading(!0);let m=new ui().set("projectId",e?.toString()??"").set("isActive","").set("pageNumber",i.toString()).set("pageSize",n.toString()).set("FavUserId",c?.toString()??"");return r&&(m=m.set("sortOrder",r)),t&&(m=m.set("folderId",t.toString())),d&&(m=m.set("ShowCurrentUserFav",d.toString())),this.http.get(ro,{params:m,observe:"response"}).pipe(wt(u=>{let f=u.body;var g;u.headers.get("pagination")&&(g=JSON.parse(u.headers.get("pagination")??""));let b={currentPage:g?Number(g.currentPage):0,pageSize:g?Number(g.pageSize):0,numberOfPages:g?Number(g.numberOfPages):0,totalItems:g?Number(g.totalItems):0};return ti(ei({},b),{data:f})}),Ct(u=>this.handleError("fetching project files",u)),rt(()=>this.setLoading(!1)))}handleError(e,t){return console.error(`Error ${e}:`,t),this.setLoading(!1),Wn(void 0)}setFavourite(e){let t={};return this.http.post(lo+"/"+e,t)}static \u0275fac=function(t){return new(t||l)(we(fi))};static \u0275prov=Ve({token:l,factory:l.\u0275fac,providedIn:"root"})};var za=l=>({template1:l});function Aa(l,e){l&1&&(o(0,"div",38),s(1),M(2,"translate"),a()),l&2&&(h(),D(" ",H(2,1,"RequieredField")," "))}function La(l,e){l&1&&(o(0,"div",38),s(1),M(2,"translate"),a()),l&2&&(h(),D(" ",H(2,1,"RequieredField")," "))}function Ra(l,e){l&1&&(o(0,"div",38),s(1),M(2,"translate"),a()),l&2&&(h(),D(" ",H(2,1,"Projects.EndDateMustBeGreater")," "))}function Na(l,e){if(l&1&&(o(0,"div",40),p(1,"img",41),a()),l&2){let t=I().data;h(),S("src",t==null?null:t.image,N)}}function Va(l,e){if(l&1&&(F(0,Na,2,1,"div",39),s(1)),l&2){let t=e.data;S("ngIf",t==null?null:t.image),h(),D(" ",t==null?null:t.name," ")}}function Ba(l,e){if(l&1&&(o(0,"div",42)(1,"h5"),s(2),M(3,"translate"),a(),p(4,"img",43),M(5,"translate"),a()),l&2){let t=I();h(2),D("",H(3,3,"Projects.ImagePreview"),":"),h(2),$("alt",H(5,5,"Projects.UploadedImage")),S("src",t.imagePreview,N)}}var Mt=class l{constructor(e,t,i,n){this.activeModal=e;this.translate=t;this.toastr=i;this.projectService=n}isSuccess=new Ge;projectForm;hasError=!1;isLoading=!1;isSubmittedItem=!1;selectedFile=null;ProjectTypes=et;imagePreview=null;subscriptions=[];data=[{options:[{value:"Omar Ezz",label:"Omar Ezz",data:{name:"Omar Ezz",email:"Omar_Ezz@exapmle.com.sa",image:"assets/images/profile/pic1.jpg"},templateId:"template1",templateSelectionId:"template1Selection",id:"1"},{value:"Emad hamdi",label:"Emad Hamdi",data:{name:"Emad hamdi",email:"emad_hamdi@exapmle.com.sa",image:"assets/images/profile/user4.jpg"},templateId:"template1",templateSelectionId:"template1Selection",id:"2"},{value:"Ehab Zakaria",label:"Ehab Zakaria",data:{name:"Ehab Zakaria",email:"ehab_zakaria@exapmle.com.sa",image:"assets/images/profile/default-profile-img.png"},templateId:"template1",templateSelectionId:"template1Selection",id:"3"},{value:"mohamed Ezz",label:"mohamed Ezz",data:{name:"mohamed Ezz",email:"mohamed@exapmle.com.sa",image:"assets/images/profile/pic1.jpg"},templateId:"template1",templateSelectionId:"template1Selection",id:"4"},{value:"Ali hamdi",label:"Ali Hamdi",data:{name:"Ali hamdi",email:"Ali@exapmle.com.sa",image:"assets/images/profile/user4.jpg"},templateId:"template1",templateSelectionId:"template1Selection",id:"5"},{value:"hassan Zakaria",label:"hassan Zakaria",data:{name:"hassan Zakaria",email:"hassan@exapmle.com.sa",image:"assets/images/profile/default-profile-img.png"},templateId:"template1",templateSelectionId:"template1Selection",id:"6"}]}];ngOnInit(){this.initializeForm()}initializeForm(){this.projectForm=new hi({title:new me("",$t.required),type:new me("",$t.required),brief:new me(""),location:new me(null),imageFile:new me(null),startDate:new me(null),endDate:new me(null),typeId:new me(10),isActive:new me(!0)},{validators:this.dateGreaterThan("startDate","endDate")})}submitProject(){if(this.isSubmittedItem=!0,this.projectForm.invalid){this.projectForm.markAllAsTouched(),this.toastr.error(this.translate.instant("Projects.EnterValidData"));return}let e=new FormData;Object.keys(this.projectForm.controls).forEach(i=>{e.append(i,this.projectForm.get(i)?.value)}),this.selectedFile&&e.append("imageFile",this.selectedFile,this.selectedFile.name);let t=this.projectService.createProject(e).subscribe(i=>{i?(this.toastr.success(this.translate.instant("Projects.ProjectAddedSuccessfully")),this.isSuccess.emit(!0),this.closeModal()):this.showError(this.translate.instant("Projects.ProjectCreationFaild"))},i=>{console.error("Error creating project:",i),this.showError(this.translate.instant("Projects.ProjectCreationFaild"))});this.subscriptions.push(t)}showError(e){this.toastr.error(e)}closeModal(){this.activeModal.close()}onDragOver(e){e.preventDefault()}onFileChange(e){let t=e.target.files[0];if(t){this.selectedFile=t;let i=new FileReader;i.onload=n=>this.imagePreview=n.target?.result,i.readAsDataURL(t)}}onDrop(e){e.preventDefault();let t=e.dataTransfer?.files;if(t&&t.length){this.selectedFile=t[0];let i=new FileReader;i.onload=n=>this.imagePreview=n.target?.result,i.readAsDataURL(this.selectedFile)}}dateGreaterThan(e,t){return i=>{let n=i.get(e)?.value,r=i.get(t)?.value;return n&&!r||!n&&r||n&&r&&new Date(r)<=new Date(n)?{dateInvalid:!0}:null}}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}static \u0275fac=function(t){return new(t||l)(P(xi),P(he),P(re),P(oe))};static \u0275cmp=W({type:l,selectors:[["app-project-create"]],outputs:{isSuccess:"isSuccess"},standalone:!1,decls:98,vars:75,consts:[["template1",""],["imageFile",""],[1,"modal-header"],[1,"d-flex","mod-head","justify-content-between"],["id","addProjectModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close","ms-2",3,"click"],[3,"ngSubmit","formGroup"],["id","typeId","formControlName","typeId","type","hidden"],["id","isActive","formControlName","isActive","type","hidden"],[1,"modal-body"],[1,"row"],[1,"col-lg-6"],[1,"form-group"],["for","title"],["id","title","type","text","formControlName","title",1,"form-control",3,"placeholder"],["class","formError",4,"ngIf"],["for","type"],["id","type","formControlName","type",1,"form-control"],["value","","disabled",""],[3,"value"],[1,"col-lg-12"],["for","brief"],["id","brief","formControlName","brief","rows","4",1,"form-control",3,"placeholder"],["for","startDate"],["id","startDate","type","date","formControlName","startDate",1,"form-control"],["for","endDate"],["id","endDate","type","date","formControlName","endDate",1,"form-control"],["for","peopleWithAccess"],["displaySearchStatus","default","multiple","","showSelectAll","",3,"data","placeholder","templates"],["for","location"],["id","location","type","text","formControlName","location",1,"form-control",3,"placeholder"],["for","imageFile"],[1,"fileset",3,"click","dragover","drop"],["src","assets/images/Upload.svg",3,"alt"],["id","imageFile","accept","image/*","formControlName","imageFile","type","file",2,"display","none",3,"change"],["class","image-preview mt-3",4,"ngIf"],[1,"d-flex","justify-content-end"],["type","submit",1,"btn","btn-primary"],[1,"formError"],["class","image me-2",4,"ngIf"],[1,"image","me-2"],["alt","",3,"src"],[1,"image-preview","mt-3"],[1,"img-thumbnail",2,"max-width","100%","height","auto",3,"src","alt"]],template:function(t,i){if(t&1){let n=L();o(0,"div",2)(1,"div",3)(2,"h5",4),s(3),M(4,"translate"),a(),o(5,"div")(6,"button",5),C("click",function(){return _(n),w(i.closeModal())}),a()()()(),o(7,"form",6),C("ngSubmit",function(){return _(n),w(i.submitProject())}),p(8,"input",7)(9,"input",8),o(10,"div",9)(11,"div",10)(12,"div",11)(13,"div",12)(14,"label",13),s(15),M(16,"translate"),o(17,"em"),s(18,"*"),a()(),p(19,"input",14),M(20,"translate"),F(21,Aa,3,3,"div",15),a()(),o(22,"div",11)(23,"div",12)(24,"label",16),s(25),M(26,"translate"),o(27,"em"),s(28,"*"),a()(),o(29,"select",17)(30,"option",18),s(31),M(32,"translate"),a(),o(33,"option",19),s(34),M(35,"translate"),a(),o(36,"option",19),s(37),M(38,"translate"),a()(),F(39,La,3,3,"div",15),a()(),o(40,"div",20)(41,"div",12)(42,"label",21),s(43),M(44,"translate"),a(),p(45,"textarea",22),M(46,"translate"),a()(),o(47,"div",11)(48,"div",12)(49,"label",23),s(50),M(51,"translate"),a(),p(52,"input",24),a()(),o(53,"div",11)(54,"div",12)(55,"label",25),s(56),M(57,"translate"),a(),p(58,"input",26),F(59,Ra,3,3,"div",15),a()(),o(60,"div",11)(61,"div",12)(62,"label",27),s(63),M(64,"translate"),a(),o(65,"select2",28),M(66,"translate"),F(67,Va,2,2,"ng-template",null,0,J),a()()(),o(69,"div",11)(70,"div",12)(71,"label",29),s(72),M(73,"translate"),a(),p(74,"input",30),M(75,"translate"),a()(),o(76,"div",20)(77,"div",12)(78,"label",31),s(79),M(80,"translate"),a(),o(81,"div",32),C("click",function(){_(n);let c=R(91);return w(c.click())})("dragover",function(c){return _(n),w(i.onDragOver(c))})("drop",function(c){return _(n),w(i.onDrop(c))}),p(82,"img",33),M(83,"translate"),o(84,"h4"),s(85),M(86,"translate"),a(),o(87,"p"),s(88),M(89,"translate"),a(),o(90,"input",34,1),C("change",function(c){return _(n),w(i.onFileChange(c))}),a()()()(),o(92,"div",20),F(93,Ba,6,7,"div",35),a()(),o(94,"div",36)(95,"button",37),s(96),M(97,"translate"),a()()()()}if(t&2){let n,r,c,d=R(68);h(3),V(H(4,33,"Projects.CreateProject")),h(4),S("formGroup",i.projectForm),h(8),D("",H(16,35,"Projects.ProjectName")," "),h(4),lt("placeholder","",H(20,37,"Projects.WriteProjectNameHere"),"..."),h(2),S("ngIf",((n=i.projectForm.get("title"))==null?null:n.invalid)&&(i.isSubmittedItem||((n=i.projectForm.get("title"))==null?null:n.touched)||((n=i.projectForm.get("title"))==null?null:n.dirty))),h(4),V(H(26,39,"Projects.ProjectType")),h(6),V(H(32,41,"Projects.SelectProjectType")),h(2),S("value",i.ProjectTypes.Event),h(),V(H(35,43,"Projects.Event")),h(2),S("value",i.ProjectTypes.Conference),h(),V(H(38,45,"Projects.Conference")),h(2),S("ngIf",((r=i.projectForm.get("type"))==null?null:r.invalid)&&(i.isSubmittedItem||((r=i.projectForm.get("type"))==null?null:r.touched)||((r=i.projectForm.get("type"))==null?null:r.dirty))),h(4),V(H(44,47,"Projects.Description")),h(2),lt("placeholder","",H(46,49,"Projects.WriteDescriptionHere"),"..."),h(5),V(H(51,51,"Projects.StartDate")),h(6),V(H(57,53,"Projects.EndDate")),h(3),S("ngIf",(i.projectForm.errors==null?null:i.projectForm.errors.dateInvalid)&&(i.isSubmittedItem||((c=i.projectForm.get("startDate"))==null?null:c.touched)||((c=i.projectForm.get("endDate"))==null?null:c.touched))),h(4),V(H(64,55,"Projects.PeopleWithAccess")),h(2),lt("placeholder","",H(66,57,"Projects.EnterNameOrEmail"),"..."),S("data",i.data)("templates",K(73,za,d)),h(7),V(H(73,59,"Projects.Location")),h(2),lt("placeholder","",H(75,61,"Projects.WriteLocationHere"),"..."),h(5),D(" ",H(80,63,"Projects.AddPropjectPhoto"),""),h(3),$("alt",H(83,65,"Upload")),h(3),V(H(86,67,"Projects.DropImageHereOrBrowse")),h(3),V(H(89,69,"Projects.PhotoInfo")),h(5),S("ngIf",i.imagePreview),h(3),D(" ",H(97,71,"Save")," ")}},dependencies:[X,Ue,le,se,ct,po,dt,He,vi,bi,ne,Pt],encapsulation:2})};var T=(l,e=1e4)=>(l=parseFloat(l+"")||0,Math.round((l+Number.EPSILON)*e)/e),zn=function(l){if(!(l&&l instanceof Element&&l.offsetParent))return!1;let e=l.scrollHeight>l.clientHeight,t=window.getComputedStyle(l).overflowY,i=t.indexOf("hidden")!==-1,n=t.indexOf("visible")!==-1;return e&&!i&&!n},Vi=function(l,e=void 0){return!(!l||l===document.body||e&&l===e)&&(zn(l)?l:Vi(l.parentElement,e))},Ye=function(l){var e=new DOMParser().parseFromString(l,"text/html").body;if(e.childElementCount>1){for(var t=document.createElement("div");e.firstChild;)t.appendChild(e.firstChild);return t}return e.firstChild},Nn=l=>`${l||""}`.split(" ").filter(e=>!!e),Xe=(l,e,t)=>{l&&Nn(e).forEach(i=>{l.classList.toggle(i,t||!1)})},ft=class{constructor(e){Object.defineProperty(this,"pageX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"pageY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"clientX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"clientY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"time",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"nativePointer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.nativePointer=e,this.pageX=e.pageX,this.pageY=e.pageY,this.clientX=e.clientX,this.clientY=e.clientY,this.id=self.Touch&&e instanceof Touch?e.identifier:-1,this.time=Date.now()}},Ot={passive:!1},An=class{constructor(e,{start:t=()=>!0,move:i=()=>{},end:n=()=>{}}){Object.defineProperty(this,"element",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"startCallback",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"moveCallback",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"endCallback",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"currentPointers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"startPointers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),this.element=e,this.startCallback=t,this.moveCallback=i,this.endCallback=n;for(let r of["onPointerStart","onTouchStart","onMove","onTouchEnd","onPointerEnd","onWindowBlur"])this[r]=this[r].bind(this);this.element.addEventListener("mousedown",this.onPointerStart,Ot),this.element.addEventListener("touchstart",this.onTouchStart,Ot),this.element.addEventListener("touchmove",this.onMove,Ot),this.element.addEventListener("touchend",this.onTouchEnd),this.element.addEventListener("touchcancel",this.onTouchEnd)}onPointerStart(e){if(!e.buttons||e.button!==0)return;let t=new ft(e);this.currentPointers.some(i=>i.id===t.id)||this.triggerPointerStart(t,e)&&(window.addEventListener("mousemove",this.onMove),window.addEventListener("mouseup",this.onPointerEnd),window.addEventListener("blur",this.onWindowBlur))}onTouchStart(e){for(let t of Array.from(e.changedTouches||[]))this.triggerPointerStart(new ft(t),e);window.addEventListener("blur",this.onWindowBlur)}onMove(e){let t=this.currentPointers.slice(),i="changedTouches"in e?Array.from(e.changedTouches||[]).map(r=>new ft(r)):[new ft(e)],n=[];for(let r of i){let c=this.currentPointers.findIndex(d=>d.id===r.id);c<0||(n.push(r),this.currentPointers[c]=r)}n.length&&this.moveCallback(e,this.currentPointers.slice(),t)}onPointerEnd(e){e.buttons>0&&e.button!==0||(this.triggerPointerEnd(e,new ft(e)),window.removeEventListener("mousemove",this.onMove),window.removeEventListener("mouseup",this.onPointerEnd),window.removeEventListener("blur",this.onWindowBlur))}onTouchEnd(e){for(let t of Array.from(e.changedTouches||[]))this.triggerPointerEnd(e,new ft(t))}triggerPointerStart(e,t){return!!this.startCallback(t,e,this.currentPointers.slice())&&(this.currentPointers.push(e),this.startPointers.push(e),!0)}triggerPointerEnd(e,t){let i=this.currentPointers.findIndex(n=>n.id===t.id);i<0||(this.currentPointers.splice(i,1),this.startPointers.splice(i,1),this.endCallback(e,t,this.currentPointers.slice()))}onWindowBlur(){this.clear()}clear(){for(;this.currentPointers.length;){let e=this.currentPointers[this.currentPointers.length-1];this.currentPointers.splice(this.currentPointers.length-1,1),this.startPointers.splice(this.currentPointers.length-1,1),this.endCallback(new Event("touchend",{bubbles:!0,cancelable:!0,clientX:e.clientX,clientY:e.clientY}),e,this.currentPointers.slice())}}stop(){this.element.removeEventListener("mousedown",this.onPointerStart,Ot),this.element.removeEventListener("touchstart",this.onTouchStart,Ot),this.element.removeEventListener("touchmove",this.onMove,Ot),this.element.removeEventListener("touchend",this.onTouchEnd),this.element.removeEventListener("touchcancel",this.onTouchEnd),window.removeEventListener("mousemove",this.onMove),window.removeEventListener("mouseup",this.onPointerEnd),window.removeEventListener("blur",this.onWindowBlur)}};function bo(l,e){return e?Math.sqrt(Math.pow(e.clientX-l.clientX,2)+Math.pow(e.clientY-l.clientY,2)):0}function So(l,e){return e?{clientX:(l.clientX+e.clientX)/2,clientY:(l.clientY+e.clientY)/2}:l}var Ln=l=>typeof l=="object"&&l!==null&&l.constructor===Object&&Object.prototype.toString.call(l)==="[object Object]",Fe=(l,...e)=>{let t=e.length;for(let i=0;i<t;i++){let n=e[i]||{};Object.entries(n).forEach(([r,c])=>{let d=Array.isArray(c)?[]:{};l[r]||Object.assign(l,{[r]:d}),Ln(c)?Object.assign(l[r],Fe(d,c)):Array.isArray(c)?Object.assign(l,{[r]:[...c]}):Object.assign(l,{[r]:c})})}return l},Sn=function(l,e){return l.split(".").reduce((t,i)=>typeof t=="object"?t[i]:void 0,e)},Rt=class{constructor(e={}){Object.defineProperty(this,"options",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),this.setOptions(e);for(let t of Object.getOwnPropertyNames(Object.getPrototypeOf(this)))t.startsWith("on")&&typeof this[t]=="function"&&(this[t]=this[t].bind(this))}setOptions(e){this.options=e?Fe({},this.constructor.defaults,e):{};for(let[t,i]of Object.entries(this.option("on")||{}))this.on(t,i)}option(e,...t){let i=Sn(e,this.options);return i&&typeof i=="function"&&(i=i.call(this,this,...t)),i}optionFor(e,t,i,...n){let r=Sn(t,e);var c;typeof(c=r)!="string"||isNaN(c)||isNaN(parseFloat(c))||(r=parseFloat(r)),r==="true"&&(r=!0),r==="false"&&(r=!1),r&&typeof r=="function"&&(r=r.call(this,this,e,...n));let d=Sn(t,this.options);return d&&typeof d=="function"?r=d.call(this,this,e,...n,r):r===void 0&&(r=d),r===void 0?i:r}cn(e){let t=this.options.classes;return t&&t[e]||""}localize(e,t=[]){e=String(e).replace(/\{\{(\w+).?(\w+)?\}\}/g,(i,n,r)=>{let c="";return r?c=this.option(`${n[0]+n.toLowerCase().substring(1)}.l10n.${r}`):n&&(c=this.option(`l10n.${n}`)),c||(c=i),c});for(let i=0;i<t.length;i++)e=e.split(t[i][0]).join(t[i][1]);return e=e.replace(/\{\{(.*?)\}\}/g,(i,n)=>n)}on(e,t){let i=[];typeof e=="string"?i=e.split(" "):Array.isArray(e)&&(i=e),this.events||(this.events=new Map),i.forEach(n=>{let r=this.events.get(n);r||(this.events.set(n,[]),r=[]),r.includes(t)||r.push(t),this.events.set(n,r)})}off(e,t){let i=[];typeof e=="string"?i=e.split(" "):Array.isArray(e)&&(i=e),i.forEach(n=>{let r=this.events.get(n);if(Array.isArray(r)){let c=r.indexOf(t);c>-1&&r.splice(c,1)}})}emit(e,...t){[...this.events.get(e)||[]].forEach(i=>i(this,...t)),e!=="*"&&this.emit("*",e,...t)}};Object.defineProperty(Rt,"version",{enumerable:!0,configurable:!0,writable:!0,value:"5.0.36"}),Object.defineProperty(Rt,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{}});var Qt=class extends Rt{constructor(e={}){super(e),Object.defineProperty(this,"plugins",{enumerable:!0,configurable:!0,writable:!0,value:{}})}attachPlugins(e={}){let t=new Map;for(let[i,n]of Object.entries(e)){let r=this.option(i),c=this.plugins[i];c||r===!1?c&&r===!1&&(c.detach(),delete this.plugins[i]):t.set(i,new n(this,r||{}))}for(let[i,n]of t)this.plugins[i]=n,n.attach()}detachPlugins(e){e=e||Object.keys(this.plugins);for(let t of e){let i=this.plugins[t];i&&i.detach(),delete this.plugins[t]}return this.emit("detachPlugins"),this}},G;(function(l){l[l.Init=0]="Init",l[l.Error=1]="Error",l[l.Ready=2]="Ready",l[l.Panning=3]="Panning",l[l.Mousemove=4]="Mousemove",l[l.Destroy=5]="Destroy"})(G||(G={}));var tt=["a","b","c","d","e","f"],qo={PANUP:"Move up",PANDOWN:"Move down",PANLEFT:"Move left",PANRIGHT:"Move right",ZOOMIN:"Zoom in",ZOOMOUT:"Zoom out",TOGGLEZOOM:"Toggle zoom level",TOGGLE1TO1:"Toggle zoom level",ITERATEZOOM:"Toggle zoom level",ROTATECCW:"Rotate counterclockwise",ROTATECW:"Rotate clockwise",FLIPX:"Flip horizontally",FLIPY:"Flip vertically",FITX:"Fit horizontally",FITY:"Fit vertically",RESET:"Reset",TOGGLEFS:"Toggle fullscreen"},Ha={content:null,width:"auto",height:"auto",panMode:"drag",touch:!0,dragMinThreshold:3,lockAxis:!1,mouseMoveFactor:1,mouseMoveFriction:.12,zoom:!0,pinchToZoom:!0,panOnlyZoomed:"auto",minScale:1,maxScale:2,friction:.25,dragFriction:.35,decelFriction:.05,click:"toggleZoom",dblClick:!1,wheel:"zoom",wheelLimit:7,spinner:!0,bounds:"auto",infinite:!1,rubberband:!0,bounce:!0,maxVelocity:75,transformParent:!1,classes:{content:"f-panzoom__content",isLoading:"is-loading",canZoomIn:"can-zoom_in",canZoomOut:"can-zoom_out",isDraggable:"is-draggable",isDragging:"is-dragging",inFullscreen:"in-fullscreen",htmlHasFullscreen:"with-panzoom-in-fullscreen"},l10n:qo},xo='<circle cx="25" cy="25" r="20"></circle>',Vn='<div class="f-spinner"><svg viewBox="0 0 50 50">'+xo+xo+"</svg></div>",Ie=l=>l&&l!==null&&l instanceof Element&&"nodeType"in l,Y=(l,e)=>{l&&Nn(e).forEach(t=>{l.classList.remove(t)})},z=(l,e)=>{l&&Nn(e).forEach(t=>{l.classList.add(t)})},Fi={a:1,b:0,c:0,d:1,e:0,f:0},Ua=1e5,Pi=1e4,Me="mousemove",yo="drag",Eo="content",Oe="auto",xn=null,yn=null,Et=class l extends Qt{get fits(){return this.contentRect.width-this.contentRect.fitWidth<1&&this.contentRect.height-this.contentRect.fitHeight<1}get isTouchDevice(){return yn===null&&(yn=window.matchMedia("(hover: none)").matches),yn}get isMobile(){return xn===null&&(xn=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)),xn}get panMode(){return this.options.panMode!==Me||this.isTouchDevice?yo:Me}get panOnlyZoomed(){let e=this.options.panOnlyZoomed;return e===Oe?this.isTouchDevice:e}get isInfinite(){return this.option("infinite")}get angle(){return 180*Math.atan2(this.current.b,this.current.a)/Math.PI||0}get targetAngle(){return 180*Math.atan2(this.target.b,this.target.a)/Math.PI||0}get scale(){let{a:e,b:t}=this.current;return Math.sqrt(e*e+t*t)||1}get targetScale(){let{a:e,b:t}=this.target;return Math.sqrt(e*e+t*t)||1}get minScale(){return this.option("minScale")||1}get fullScale(){let{contentRect:e}=this;return e.fullWidth/e.fitWidth||1}get maxScale(){return this.fullScale*(this.option("maxScale")||1)||1}get coverScale(){let{containerRect:e,contentRect:t}=this,i=Math.max(e.height/t.fitHeight,e.width/t.fitWidth)||1;return Math.min(this.fullScale,i)}get isScaling(){return Math.abs(this.targetScale-this.scale)>1e-5&&!this.isResting}get isContentLoading(){let e=this.content;return!!(e&&e instanceof HTMLImageElement)&&!e.complete}get isResting(){if(this.isBouncingX||this.isBouncingY)return!1;for(let e of tt){let t=e=="e"||e==="f"?1e-4:1e-5;if(Math.abs(this.target[e]-this.current[e])>t)return!1}return!(!this.ignoreBounds&&!this.checkBounds().inBounds)}constructor(e,t={},i={}){var n;if(super(t),Object.defineProperty(this,"pointerTracker",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"resizeObserver",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"updateTimer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"clickTimer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"rAF",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"isTicking",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ignoreBounds",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"isBouncingX",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"isBouncingY",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"clicks",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"trackingPoints",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"pwt",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"cwd",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"pmme",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"friction",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:G.Init}),Object.defineProperty(this,"isDragging",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"content",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"spinner",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"containerRect",{enumerable:!0,configurable:!0,writable:!0,value:{width:0,height:0,innerWidth:0,innerHeight:0}}),Object.defineProperty(this,"contentRect",{enumerable:!0,configurable:!0,writable:!0,value:{top:0,right:0,bottom:0,left:0,fullWidth:0,fullHeight:0,fitWidth:0,fitHeight:0,width:0,height:0}}),Object.defineProperty(this,"dragStart",{enumerable:!0,configurable:!0,writable:!0,value:{x:0,y:0,top:0,left:0,time:0}}),Object.defineProperty(this,"dragOffset",{enumerable:!0,configurable:!0,writable:!0,value:{x:0,y:0,time:0}}),Object.defineProperty(this,"current",{enumerable:!0,configurable:!0,writable:!0,value:Object.assign({},Fi)}),Object.defineProperty(this,"target",{enumerable:!0,configurable:!0,writable:!0,value:Object.assign({},Fi)}),Object.defineProperty(this,"velocity",{enumerable:!0,configurable:!0,writable:!0,value:{a:0,b:0,c:0,d:0,e:0,f:0}}),Object.defineProperty(this,"lockedAxis",{enumerable:!0,configurable:!0,writable:!0,value:!1}),!e)throw new Error("Container Element Not Found");this.container=e,this.initContent(),this.attachPlugins(Object.assign(Object.assign({},l.Plugins),i)),this.emit("attachPlugins"),this.emit("init");let r=this.content;if(r.addEventListener("load",this.onLoad),r.addEventListener("error",this.onError),this.isContentLoading){if(this.option("spinner")){e.classList.add(this.cn("isLoading"));let c=Ye(Vn);!e.contains(r)||r.parentElement instanceof HTMLPictureElement?this.spinner=e.appendChild(c):this.spinner=((n=r.parentElement)===null||n===void 0?void 0:n.insertBefore(c,r))||null}this.emit("beforeLoad")}else queueMicrotask(()=>{this.enable()})}initContent(){let{container:e}=this,t=this.cn(Eo),i=this.option(Eo)||e.querySelector(`.${t}`);if(i||(i=e.querySelector("img,picture")||e.firstElementChild,i&&z(i,t)),i instanceof HTMLPictureElement&&(i=i.querySelector("img")),!i)throw new Error("No content found");this.content=i}onLoad(){let{spinner:e,container:t,state:i}=this;e&&(e.remove(),this.spinner=null),this.option("spinner")&&t.classList.remove(this.cn("isLoading")),this.emit("afterLoad"),i===G.Init?this.enable():this.updateMetrics()}onError(){this.state!==G.Destroy&&(this.spinner&&(this.spinner.remove(),this.spinner=null),this.stop(),this.detachEvents(),this.state=G.Error,this.emit("error"))}getNextScale(e){let{fullScale:t,targetScale:i,coverScale:n,maxScale:r,minScale:c}=this,d=c;switch(e){case"toggleMax":d=i-c<.5*(r-c)?r:c;break;case"toggleCover":d=i-c<.5*(n-c)?n:c;break;case"toggleZoom":d=i-c<.5*(t-c)?t:c;break;case"iterateZoom":let m=[1,t,r].sort((f,g)=>f-g),u=m.findIndex(f=>f>i+1e-5);d=m[u]||1}return d}attachObserver(){var e;let t=()=>{let{container:i,containerRect:n}=this;return Math.abs(n.width-i.getBoundingClientRect().width)>.1||Math.abs(n.height-i.getBoundingClientRect().height)>.1};this.resizeObserver||window.ResizeObserver===void 0||(this.resizeObserver=new ResizeObserver(()=>{this.updateTimer||(t()?(this.onResize(),this.isMobile&&(this.updateTimer=setTimeout(()=>{t()&&this.onResize(),this.updateTimer=null},500))):this.updateTimer&&(clearTimeout(this.updateTimer),this.updateTimer=null))})),(e=this.resizeObserver)===null||e===void 0||e.observe(this.container)}detachObserver(){var e;(e=this.resizeObserver)===null||e===void 0||e.disconnect()}attachEvents(){let{container:e}=this;e.addEventListener("click",this.onClick,{passive:!1,capture:!1}),e.addEventListener("wheel",this.onWheel,{passive:!1}),this.pointerTracker=new An(e,{start:this.onPointerDown,move:this.onPointerMove,end:this.onPointerUp}),document.addEventListener(Me,this.onMouseMove)}detachEvents(){var e;let{container:t}=this;t.removeEventListener("click",this.onClick,{passive:!1,capture:!1}),t.removeEventListener("wheel",this.onWheel,{passive:!1}),(e=this.pointerTracker)===null||e===void 0||e.stop(),this.pointerTracker=null,document.removeEventListener(Me,this.onMouseMove),document.removeEventListener("keydown",this.onKeydown,!0),this.clickTimer&&(clearTimeout(this.clickTimer),this.clickTimer=null),this.updateTimer&&(clearTimeout(this.updateTimer),this.updateTimer=null)}animate(){this.setTargetForce();let e=this.friction,t=this.option("maxVelocity");for(let i of tt)e?(this.velocity[i]*=1-e,t&&!this.isScaling&&(this.velocity[i]=Math.max(Math.min(this.velocity[i],t),-1*t)),this.current[i]+=this.velocity[i]):this.current[i]=this.target[i];this.setTransform(),this.setEdgeForce(),!this.isResting||this.isDragging?this.rAF=requestAnimationFrame(()=>this.animate()):this.stop("current")}setTargetForce(){for(let e of tt)e==="e"&&this.isBouncingX||e==="f"&&this.isBouncingY||(this.velocity[e]=(1/(1-this.friction)-1)*(this.target[e]-this.current[e]))}checkBounds(e=0,t=0){let{current:i}=this,n=i.e+e,r=i.f+t,c=this.getBounds(),{x:d,y:m}=c,u=d.min,f=d.max,g=m.min,b=m.max,v=0,x=0;return u!==1/0&&n<u?v=u-n:f!==1/0&&n>f&&(v=f-n),g!==1/0&&r<g?x=g-r:b!==1/0&&r>b&&(x=b-r),Math.abs(v)<1e-4&&(v=0),Math.abs(x)<1e-4&&(x=0),Object.assign(Object.assign({},c),{xDiff:v,yDiff:x,inBounds:!v&&!x})}clampTargetBounds(){let{target:e}=this,{x:t,y:i}=this.getBounds();t.min!==1/0&&(e.e=Math.max(e.e,t.min)),t.max!==1/0&&(e.e=Math.min(e.e,t.max)),i.min!==1/0&&(e.f=Math.max(e.f,i.min)),i.max!==1/0&&(e.f=Math.min(e.f,i.max))}calculateContentDim(e=this.current){let{content:t,contentRect:i}=this,{fitWidth:n,fitHeight:r,fullWidth:c,fullHeight:d}=i,m=c,u=d;if(this.option("zoom")||this.angle!==0){let f=!(t instanceof HTMLImageElement)&&(window.getComputedStyle(t).maxWidth==="none"||window.getComputedStyle(t).maxHeight==="none"),g=f?c:n,b=f?d:r,v=this.getMatrix(e),x=new DOMPoint(0,0).matrixTransform(v),E=new DOMPoint(0+g,0).matrixTransform(v),y=new DOMPoint(0+g,0+b).matrixTransform(v),j=new DOMPoint(0,0+b).matrixTransform(v),O=Math.abs(y.x-x.x),A=Math.abs(y.y-x.y),B=Math.abs(j.x-E.x),ze=Math.abs(j.y-E.y);m=Math.max(O,B),u=Math.max(A,ze)}return{contentWidth:m,contentHeight:u}}setEdgeForce(){if(this.ignoreBounds||this.isDragging||this.panMode===Me||this.targetScale<this.scale)return this.isBouncingX=!1,void(this.isBouncingY=!1);let{target:e}=this,{x:t,y:i,xDiff:n,yDiff:r}=this.checkBounds(),c=this.option("maxVelocity"),d=this.velocity.e,m=this.velocity.f;n!==0?(this.isBouncingX=!0,n*d<=0?d+=.14*n:(d=.14*n,t.min!==1/0&&(this.target.e=Math.max(e.e,t.min)),t.max!==1/0&&(this.target.e=Math.min(e.e,t.max))),c&&(d=Math.max(Math.min(d,c),-1*c))):this.isBouncingX=!1,r!==0?(this.isBouncingY=!0,r*m<=0?m+=.14*r:(m=.14*r,i.min!==1/0&&(this.target.f=Math.max(e.f,i.min)),i.max!==1/0&&(this.target.f=Math.min(e.f,i.max))),c&&(m=Math.max(Math.min(m,c),-1*c))):this.isBouncingY=!1,this.isBouncingX&&(this.velocity.e=d),this.isBouncingY&&(this.velocity.f=m)}enable(){let{content:e}=this,t=new DOMMatrixReadOnly(window.getComputedStyle(e).transform);for(let i of tt)this.current[i]=this.target[i]=t[i];this.updateMetrics(),this.attachObserver(),this.attachEvents(),this.state=G.Ready,this.emit("ready")}onClick(e){var t;e.type==="click"&&e.detail===0&&(this.dragOffset.x=0,this.dragOffset.y=0),this.isDragging&&((t=this.pointerTracker)===null||t===void 0||t.clear(),this.trackingPoints=[],this.startDecelAnim());let i=e.target;if(!i||e.defaultPrevented)return;if(i.hasAttribute("disabled"))return e.preventDefault(),void e.stopPropagation();if((()=>{let v=window.getSelection();return v&&v.type==="Range"})()&&!i.closest("button"))return;let n=i.closest("[data-panzoom-action]"),r=i.closest("[data-panzoom-change]"),c=n||r,d=c&&Ie(c)?c.dataset:null;if(d){let v=d.panzoomChange,x=d.panzoomAction;if((v||x)&&e.preventDefault(),v){let E={};try{E=JSON.parse(v)}catch{console&&console.warn("The given data was not valid JSON")}return void this.applyChange(E)}if(x)return void(this[x]&&this[x]())}if(Math.abs(this.dragOffset.x)>3||Math.abs(this.dragOffset.y)>3)return e.preventDefault(),void e.stopPropagation();if(i.closest("[data-fancybox]"))return;let m=this.content.getBoundingClientRect(),u=this.dragStart;if(u.time&&!this.canZoomOut()&&(Math.abs(m.x-u.x)>2||Math.abs(m.y-u.y)>2))return;this.dragStart.time=0;let f=v=>{this.option("zoom",e)&&v&&typeof v=="string"&&/(iterateZoom)|(toggle(Zoom|Full|Cover|Max)|(zoomTo(Fit|Cover|Max)))/.test(v)&&typeof this[v]=="function"&&(e.preventDefault(),this[v]({event:e}))},g=this.option("click",e),b=this.option("dblClick",e);b?(this.clicks++,this.clicks==1&&(this.clickTimer=setTimeout(()=>{this.clicks===1?(this.emit("click",e),!e.defaultPrevented&&g&&f(g)):(this.emit("dblClick",e),e.defaultPrevented||f(b)),this.clicks=0,this.clickTimer=null},350))):(this.emit("click",e),!e.defaultPrevented&&g&&f(g))}addTrackingPoint(e){let t=this.trackingPoints.filter(i=>i.time>Date.now()-100);t.push(e),this.trackingPoints=t}onPointerDown(e,t,i){var n;if(this.option("touch",e)===!1)return!1;this.pwt=0,this.dragOffset={x:0,y:0,time:0},this.trackingPoints=[];let r=this.content.getBoundingClientRect();if(this.dragStart={x:r.x,y:r.y,top:r.top,left:r.left,time:Date.now()},this.clickTimer)return!1;if(this.panMode===Me&&this.targetScale>1)return e.preventDefault(),e.stopPropagation(),!1;let c=e.composedPath()[0];if(!i.length){if(["TEXTAREA","OPTION","INPUT","SELECT","VIDEO","IFRAME"].includes(c.nodeName)||c.closest("[contenteditable],[data-selectable],[data-draggable],[data-clickable],[data-panzoom-change],[data-panzoom-action]"))return!1;(n=window.getSelection())===null||n===void 0||n.removeAllRanges()}if(e.type==="mousedown")["A","BUTTON"].includes(c.nodeName)||e.preventDefault();else if(Math.abs(this.velocity.a)>.3)return!1;return this.target.e=this.current.e,this.target.f=this.current.f,this.stop(),this.isDragging||(this.isDragging=!0,this.addTrackingPoint(t),this.emit("touchStart",e)),!0}onPointerMove(e,t,i){if(this.option("touch",e)===!1||!this.isDragging||t.length<2&&this.panOnlyZoomed&&T(this.targetScale)<=T(this.minScale)||(this.emit("touchMove",e),e.defaultPrevented))return;this.addTrackingPoint(t[0]);let{content:n}=this,r=So(i[0],i[1]),c=So(t[0],t[1]),d=0,m=0;if(t.length>1){let A=n.getBoundingClientRect();d=r.clientX-A.left-.5*A.width,m=r.clientY-A.top-.5*A.height}let u=bo(i[0],i[1]),f=bo(t[0],t[1]),g=u?f/u:1,b=c.clientX-r.clientX,v=c.clientY-r.clientY;this.dragOffset.x+=b,this.dragOffset.y+=v,this.dragOffset.time=Date.now()-this.dragStart.time;let x=T(this.targetScale)===T(this.minScale)&&this.option("lockAxis");if(x&&!this.lockedAxis)if(x==="xy"||x==="y"||e.type==="touchmove"){if(Math.abs(this.dragOffset.x)<6&&Math.abs(this.dragOffset.y)<6)return void e.preventDefault();let A=Math.abs(180*Math.atan2(this.dragOffset.y,this.dragOffset.x)/Math.PI);this.lockedAxis=A>45&&A<135?"y":"x",this.dragOffset.x=0,this.dragOffset.y=0,b=0,v=0}else this.lockedAxis=x;if(Vi(e.target,this.content)&&(x="x",this.dragOffset.y=0),x&&x!=="xy"&&this.lockedAxis!==x&&T(this.targetScale)===T(this.minScale))return;e.cancelable&&e.preventDefault(),this.container.classList.add(this.cn("isDragging"));let E=this.checkBounds(b,v);this.option("rubberband")?(this.isInfinite!=="x"&&(E.xDiff>0&&b<0||E.xDiff<0&&b>0)&&(b*=Math.max(0,.5-Math.abs(.75/this.contentRect.fitWidth*E.xDiff))),this.isInfinite!=="y"&&(E.yDiff>0&&v<0||E.yDiff<0&&v>0)&&(v*=Math.max(0,.5-Math.abs(.75/this.contentRect.fitHeight*E.yDiff)))):(E.xDiff&&(b=0),E.yDiff&&(v=0));let y=this.targetScale,j=this.minScale,O=this.maxScale;y<.5*j&&(g=Math.max(g,j)),y>1.5*O&&(g=Math.min(g,O)),this.lockedAxis==="y"&&T(y)===T(j)&&(b=0),this.lockedAxis==="x"&&T(y)===T(j)&&(v=0),this.applyChange({originX:d,originY:m,panX:b,panY:v,scale:g,friction:this.option("dragFriction"),ignoreBounds:!0})}onPointerUp(e,t,i){if(i.length)return this.dragOffset.x=0,this.dragOffset.y=0,void(this.trackingPoints=[]);this.container.classList.remove(this.cn("isDragging")),this.isDragging&&(this.addTrackingPoint(t),this.panOnlyZoomed&&this.contentRect.width-this.contentRect.fitWidth<1&&this.contentRect.height-this.contentRect.fitHeight<1&&(this.trackingPoints=[]),Vi(e.target,this.content)&&this.lockedAxis==="y"&&(this.trackingPoints=[]),this.emit("touchEnd",e),this.isDragging=!1,this.lockedAxis=!1,this.state!==G.Destroy&&(e.defaultPrevented||this.startDecelAnim()))}startDecelAnim(){var e;let t=this.isScaling;this.rAF&&(cancelAnimationFrame(this.rAF),this.rAF=null),this.isBouncingX=!1,this.isBouncingY=!1;for(let A of tt)this.velocity[A]=0;this.target.e=this.current.e,this.target.f=this.current.f,Y(this.container,"is-scaling"),Y(this.container,"is-animating"),this.isTicking=!1;let{trackingPoints:i}=this,n=i[0],r=i[i.length-1],c=0,d=0,m=0;r&&n&&(c=r.clientX-n.clientX,d=r.clientY-n.clientY,m=r.time-n.time);let u=((e=window.visualViewport)===null||e===void 0?void 0:e.scale)||1;u!==1&&(c*=u,d*=u);let f=0,g=0,b=0,v=0,x=this.option("decelFriction"),E=this.targetScale;if(m>0){b=Math.abs(c)>3?c/(m/30):0,v=Math.abs(d)>3?d/(m/30):0;let A=this.option("maxVelocity");A&&(b=Math.max(Math.min(b,A),-1*A),v=Math.max(Math.min(v,A),-1*A))}b&&(f=b/(1/(1-x)-1)),v&&(g=v/(1/(1-x)-1)),(this.option("lockAxis")==="y"||this.option("lockAxis")==="xy"&&this.lockedAxis==="y"&&T(E)===this.minScale)&&(f=b=0),(this.option("lockAxis")==="x"||this.option("lockAxis")==="xy"&&this.lockedAxis==="x"&&T(E)===this.minScale)&&(g=v=0);let y=this.dragOffset.x,j=this.dragOffset.y,O=this.option("dragMinThreshold")||0;Math.abs(y)<O&&Math.abs(j)<O&&(f=g=0,b=v=0),(this.option("zoom")&&(E<this.minScale-1e-5||E>this.maxScale+1e-5)||t&&!f&&!g)&&(x=.35),this.applyChange({panX:f,panY:g,friction:x}),this.emit("decel",b,v,y,j)}onWheel(e){var t=[-e.deltaX||0,-e.deltaY||0,-e.detail||0].reduce(function(r,c){return Math.abs(c)>Math.abs(r)?c:r});let i=Math.max(-1,Math.min(1,t));if(this.emit("wheel",e,i),this.panMode===Me||e.defaultPrevented)return;let n=this.option("wheel");n==="pan"?(e.preventDefault(),this.panOnlyZoomed&&!this.canZoomOut()||this.applyChange({panX:2*-e.deltaX,panY:2*-e.deltaY,bounce:!1})):n==="zoom"&&this.option("zoom")!==!1&&this.zoomWithWheel(e)}onMouseMove(e){this.panWithMouse(e)}onKeydown(e){e.key==="Escape"&&this.toggleFS()}onResize(){this.updateMetrics(),this.checkBounds().inBounds||this.requestTick()}setTransform(){this.emit("beforeTransform");let{current:e,target:t,content:i,contentRect:n}=this,r=Object.assign({},Fi);for(let y of tt){let j=y=="e"||y==="f"?Pi:Ua;r[y]=T(e[y],j),Math.abs(t[y]-e[y])<(y=="e"||y==="f"?.51:.001)&&(e[y]=t[y])}let{a:c,b:d,c:m,d:u,e:f,f:g}=r,b=`matrix(${c}, ${d}, ${m}, ${u}, ${f}, ${g})`,v=i.parentElement instanceof HTMLPictureElement?i.parentElement:i;if(this.option("transformParent")&&(v=v.parentElement||v),v.style.transform===b)return;v.style.transform=b;let{contentWidth:x,contentHeight:E}=this.calculateContentDim();n.width=x,n.height=E,this.emit("afterTransform")}updateMetrics(e=!1){var t;if(!this||this.state===G.Destroy||this.isContentLoading)return;let i=Math.max(1,((t=window.visualViewport)===null||t===void 0?void 0:t.scale)||1),{container:n,content:r}=this,c=r instanceof HTMLImageElement,d=n.getBoundingClientRect(),m=getComputedStyle(this.container),u=d.width*i,f=d.height*i,g=parseFloat(m.paddingTop)+parseFloat(m.paddingBottom),b=u-(parseFloat(m.paddingLeft)+parseFloat(m.paddingRight)),v=f-g;this.containerRect={width:u,height:f,innerWidth:b,innerHeight:v};let x=parseFloat(r.dataset.width||"")||(xe=>{let at=0;return at=xe instanceof HTMLImageElement?xe.naturalWidth:xe instanceof SVGElement?xe.width.baseVal.value:Math.max(xe.offsetWidth,xe.scrollWidth),at||0})(r),E=parseFloat(r.dataset.height||"")||(xe=>{let at=0;return at=xe instanceof HTMLImageElement?xe.naturalHeight:xe instanceof SVGElement?xe.height.baseVal.value:Math.max(xe.offsetHeight,xe.scrollHeight),at||0})(r),y=this.option("width",x)||Oe,j=this.option("height",E)||Oe,O=y===Oe,A=j===Oe;typeof y!="number"&&(y=x),typeof j!="number"&&(j=E),O&&(y=x*(j/E)),A&&(j=E/(x/y));let B=r.parentElement instanceof HTMLPictureElement?r.parentElement:r;this.option("transformParent")&&(B=B.parentElement||B);let ze=B.getAttribute("style")||"";B.style.setProperty("transform","none","important"),c&&(B.style.width="",B.style.height=""),B.offsetHeight;let Ae=r.getBoundingClientRect(),ie=Ae.width*i,Le=Ae.height*i,aa=ie,ra=Le;ie=Math.min(ie,y),Le=Math.min(Le,j),c?{width:ie,height:Le}=((xe,at,la,sa)=>{let ca=la/xe,da=sa/at,Un=Math.min(ca,da);return{width:xe*=Un,height:at*=Un}})(y,j,ie,Le):(ie=Math.min(ie,y),Le=Math.min(Le,j));let Bn=.5*(ra-Le),Hn=.5*(aa-ie);this.contentRect=Object.assign(Object.assign({},this.contentRect),{top:Ae.top-d.top+Bn,bottom:d.bottom-Ae.bottom+Bn,left:Ae.left-d.left+Hn,right:d.right-Ae.right+Hn,fitWidth:ie,fitHeight:Le,width:ie,height:Le,fullWidth:y,fullHeight:j}),B.style.cssText=ze,c&&(B.style.width=`${ie}px`,B.style.height=`${Le}px`),this.setTransform(),e!==!0&&this.emit("refresh"),this.ignoreBounds||(T(this.targetScale)<T(this.minScale)?this.zoomTo(this.minScale,{friction:0}):this.targetScale>this.maxScale?this.zoomTo(this.maxScale,{friction:0}):this.state===G.Init||this.checkBounds().inBounds||this.requestTick()),this.updateControls()}calculateBounds(){let{contentWidth:e,contentHeight:t}=this.calculateContentDim(this.target),{targetScale:i,lockedAxis:n}=this,{fitWidth:r,fitHeight:c}=this.contentRect,d=0,m=0,u=0,f=0,g=this.option("infinite");if(g===!0||n&&g===n)d=-1/0,u=1/0,m=-1/0,f=1/0;else{let{containerRect:b,contentRect:v}=this,x=T(r*i,Pi),E=T(c*i,Pi),{innerWidth:y,innerHeight:j}=b;if(b.width===x&&(y=b.width),b.width===E&&(j=b.height),e>y){u=.5*(e-y),d=-1*u;let O=.5*(v.right-v.left);d+=O,u+=O}if(r>y&&e<y&&(d-=.5*(r-y),u-=.5*(r-y)),t>j){f=.5*(t-j),m=-1*f;let O=.5*(v.bottom-v.top);m+=O,f+=O}c>j&&t<j&&(d-=.5*(c-j),u-=.5*(c-j))}return{x:{min:d,max:u},y:{min:m,max:f}}}getBounds(){let e=this.option("bounds");return e!==Oe?e:this.calculateBounds()}updateControls(){let e=this,t=e.container,{panMode:i,contentRect:n,targetScale:r,minScale:c}=e,d=c,m=e.option("click")||!1;m&&(d=e.getNextScale(m));let u=e.canZoomIn(),f=e.canZoomOut(),g=i===yo&&!!this.option("touch"),b=f&&g;if(g&&(T(r)<T(c)&&!this.panOnlyZoomed&&(b=!0),(T(n.width,1)>T(n.fitWidth,1)||T(n.height,1)>T(n.fitHeight,1))&&(b=!0)),T(n.width*r,1)<T(n.fitWidth,1)&&(b=!1),i===Me&&(b=!1),Xe(t,this.cn("isDraggable"),b),!this.option("zoom"))return;let v=u&&T(d)>T(r),x=!v&&!b&&f&&T(d)<T(r);Xe(t,this.cn("canZoomIn"),v),Xe(t,this.cn("canZoomOut"),x);for(let E of t.querySelectorAll("[data-panzoom-action]")){let y=!1,j=!1;switch(E.dataset.panzoomAction){case"zoomIn":u?y=!0:j=!0;break;case"zoomOut":f?y=!0:j=!0;break;case"toggleZoom":case"iterateZoom":u||f?y=!0:j=!0;let O=E.querySelector("g");O&&(O.style.display=u?"":"none")}y?(E.removeAttribute("disabled"),E.removeAttribute("tabindex")):j&&(E.setAttribute("disabled",""),E.setAttribute("tabindex","-1"))}}panTo({x:e=this.target.e,y:t=this.target.f,scale:i=this.targetScale,friction:n=this.option("friction"),angle:r=0,originX:c=0,originY:d=0,flipX:m=!1,flipY:u=!1,ignoreBounds:f=!1}){this.state!==G.Destroy&&this.applyChange({panX:e-this.target.e,panY:t-this.target.f,scale:i/this.targetScale,angle:r,originX:c,originY:d,friction:n,flipX:m,flipY:u,ignoreBounds:f})}applyChange({panX:e=0,panY:t=0,scale:i=1,angle:n=0,originX:r=-this.current.e,originY:c=-this.current.f,friction:d=this.option("friction"),flipX:m=!1,flipY:u=!1,ignoreBounds:f=!1,bounce:g=this.option("bounce")}){let b=this.state;if(b===G.Destroy)return;this.rAF&&(cancelAnimationFrame(this.rAF),this.rAF=null),this.friction=d||0,this.ignoreBounds=f;let{current:v}=this,x=v.e,E=v.f,y=this.getMatrix(this.target),j=new DOMMatrix().translate(x,E).translate(r,c).translate(e,t);if(this.option("zoom")){if(!f){let O=this.targetScale,A=this.minScale,B=this.maxScale;O*i<A&&(i=A/O),O*i>B&&(i=B/O)}j=j.scale(i)}j=j.translate(-r,-c).translate(-x,-E).multiply(y),n&&(j=j.rotate(n)),m&&(j=j.scale(-1,1)),u&&(j=j.scale(1,-1));for(let O of tt)O!=="e"&&O!=="f"&&(j[O]>this.minScale+1e-5||j[O]<this.minScale-1e-5)?this.target[O]=j[O]:this.target[O]=T(j[O],Pi);(this.targetScale<this.scale||Math.abs(i-1)>.1||this.panMode===Me||g===!1)&&!f&&this.clampTargetBounds(),b===G.Init?this.animate():this.isResting||(this.state=G.Panning,this.requestTick())}stop(e=!1){if(this.state===G.Init||this.state===G.Destroy)return;let t=this.isTicking;this.rAF&&(cancelAnimationFrame(this.rAF),this.rAF=null),this.isBouncingX=!1,this.isBouncingY=!1;for(let i of tt)this.velocity[i]=0,e==="current"?this.current[i]=this.target[i]:e==="target"&&(this.target[i]=this.current[i]);this.setTransform(),Y(this.container,"is-scaling"),Y(this.container,"is-animating"),this.isTicking=!1,this.state=G.Ready,t&&(this.emit("endAnimation"),this.updateControls())}requestTick(){this.isTicking||(this.emit("startAnimation"),this.updateControls(),z(this.container,"is-animating"),this.isScaling&&z(this.container,"is-scaling")),this.isTicking=!0,this.rAF||(this.rAF=requestAnimationFrame(()=>this.animate()))}panWithMouse(e,t=this.option("mouseMoveFriction")){if(this.pmme=e,this.panMode!==Me||!e||T(this.targetScale)<=T(this.minScale))return;this.emit("mouseMove",e);let{container:i,containerRect:n,contentRect:r}=this,c=n.width,d=n.height,m=i.getBoundingClientRect(),u=(e.clientX||0)-m.left,f=(e.clientY||0)-m.top,{contentWidth:g,contentHeight:b}=this.calculateContentDim(this.target),v=this.option("mouseMoveFactor");v>1&&(g!==c&&(g*=v),b!==d&&(b*=v));let x=.5*(g-c)-u/c*100/100*(g-c);x+=.5*(r.right-r.left);let E=.5*(b-d)-f/d*100/100*(b-d);E+=.5*(r.bottom-r.top),this.applyChange({panX:x-this.target.e,panY:E-this.target.f,friction:t})}zoomWithWheel(e){if(this.state===G.Destroy||this.state===G.Init)return;let t=Date.now();if(t-this.pwt<45)return void e.preventDefault();this.pwt=t;var i=[-e.deltaX||0,-e.deltaY||0,-e.detail||0].reduce(function(u,f){return Math.abs(f)>Math.abs(u)?f:u});let n=Math.max(-1,Math.min(1,i)),{targetScale:r,maxScale:c,minScale:d}=this,m=r*(100+45*n)/100;T(m)<T(d)&&T(r)<=T(d)?(this.cwd+=Math.abs(n),m=d):T(m)>T(c)&&T(r)>=T(c)?(this.cwd+=Math.abs(n),m=c):(this.cwd=0,m=Math.max(Math.min(m,c),d)),this.cwd>this.option("wheelLimit")||(e.preventDefault(),T(m)!==T(r)&&this.zoomTo(m,{event:e}))}canZoomIn(){return this.option("zoom")&&(T(this.contentRect.width,1)<T(this.contentRect.fitWidth,1)||T(this.targetScale)<T(this.maxScale))}canZoomOut(){return this.option("zoom")&&T(this.targetScale)>T(this.minScale)}zoomIn(e=1.25,t){this.zoomTo(this.targetScale*e,t)}zoomOut(e=.8,t){this.zoomTo(this.targetScale*e,t)}zoomToFit(e){this.zoomTo("fit",e)}zoomToCover(e){this.zoomTo("cover",e)}zoomToFull(e){this.zoomTo("full",e)}zoomToMax(e){this.zoomTo("max",e)}toggleZoom(e){this.zoomTo(this.getNextScale("toggleZoom"),e)}toggleMax(e){this.zoomTo(this.getNextScale("toggleMax"),e)}toggleCover(e){this.zoomTo(this.getNextScale("toggleCover"),e)}iterateZoom(e){this.zoomTo("next",e)}zoomTo(e=1,{friction:t=Oe,originX:i=Oe,originY:n=Oe,event:r}={}){if(this.isContentLoading||this.state===G.Destroy)return;let{targetScale:c,fullScale:d,maxScale:m,coverScale:u}=this;if(this.stop(),this.panMode===Me&&(r=this.pmme||r),r||i===Oe||n===Oe){let g=this.content.getBoundingClientRect(),b=this.container.getBoundingClientRect(),v=r?r.clientX:b.left+.5*b.width,x=r?r.clientY:b.top+.5*b.height;i=v-g.left-.5*g.width,n=x-g.top-.5*g.height}let f=1;typeof e=="number"?f=e:e==="full"?f=d:e==="cover"?f=u:e==="max"?f=m:e==="fit"?f=1:e==="next"&&(f=this.getNextScale("iterateZoom")),f=f/c||1,t=t===Oe?f>1?.15:.25:t,this.applyChange({scale:f,originX:i,originY:n,friction:t}),r&&this.panMode===Me&&this.panWithMouse(r,t)}rotateCCW(){this.applyChange({angle:-90})}rotateCW(){this.applyChange({angle:90})}flipX(){this.applyChange({flipX:!0})}flipY(){this.applyChange({flipY:!0})}fitX(){this.stop("target");let{containerRect:e,contentRect:t,target:i}=this;this.applyChange({panX:.5*e.width-(t.left+.5*t.fitWidth)-i.e,panY:.5*e.height-(t.top+.5*t.fitHeight)-i.f,scale:e.width/t.fitWidth/this.targetScale,originX:0,originY:0,ignoreBounds:!0})}fitY(){this.stop("target");let{containerRect:e,contentRect:t,target:i}=this;this.applyChange({panX:.5*e.width-(t.left+.5*t.fitWidth)-i.e,panY:.5*e.innerHeight-(t.top+.5*t.fitHeight)-i.f,scale:e.height/t.fitHeight/this.targetScale,originX:0,originY:0,ignoreBounds:!0})}toggleFS(){let{container:e}=this,t=this.cn("inFullscreen"),i=this.cn("htmlHasFullscreen");e.classList.toggle(t);let n=e.classList.contains(t);n?(document.documentElement.classList.add(i),document.addEventListener("keydown",this.onKeydown,!0)):(document.documentElement.classList.remove(i),document.removeEventListener("keydown",this.onKeydown,!0)),this.updateMetrics(),this.emit(n?"enterFS":"exitFS")}getMatrix(e=this.current){let{a:t,b:i,c:n,d:r,e:c,f:d}=e;return new DOMMatrix([t,i,n,r,c,d])}reset(e){if(this.state!==G.Init&&this.state!==G.Destroy){this.stop("current");for(let t of tt)this.target[t]=Fi[t];this.target.a=this.minScale,this.target.d=this.minScale,this.clampTargetBounds(),this.isResting||(this.friction=e===void 0?this.option("friction"):e,this.state=G.Panning,this.requestTick())}}destroy(){this.stop(),this.state=G.Destroy,this.detachEvents(),this.detachObserver();let{container:e,content:t}=this,i=this.option("classes")||{};for(let n of Object.values(i))e.classList.remove(n+"");t&&(t.removeEventListener("load",this.onLoad),t.removeEventListener("error",this.onError)),this.detachPlugins()}};Object.defineProperty(Et,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:Ha}),Object.defineProperty(Et,"Plugins",{enumerable:!0,configurable:!0,writable:!0,value:{}});var _o=function(l,e){let t=!0;return(...i)=>{t&&(t=!1,l(...i),setTimeout(()=>{t=!0},e))}},wo=(l,e)=>{let t=[];return l.childNodes.forEach(i=>{i.nodeType!==Node.ELEMENT_NODE||e&&!i.matches(e)||t.push(i)}),t},Wa={viewport:null,track:null,enabled:!0,slides:[],axis:"x",transition:"fade",preload:1,slidesPerPage:"auto",initialPage:0,friction:.12,Panzoom:{decelFriction:.12},center:!0,infinite:!0,fill:!0,dragFree:!1,adaptiveHeight:!1,direction:"ltr",classes:{container:"f-carousel",viewport:"f-carousel__viewport",track:"f-carousel__track",slide:"f-carousel__slide",isLTR:"is-ltr",isRTL:"is-rtl",isHorizontal:"is-horizontal",isVertical:"is-vertical",inTransition:"in-transition",isSelected:"is-selected"},l10n:{NEXT:"Next slide",PREV:"Previous slide",GOTO:"Go to slide #%d"}},ce;(function(l){l[l.Init=0]="Init",l[l.Ready=1]="Ready",l[l.Destroy=2]="Destroy"})(ce||(ce={}));var En=l=>{if(typeof l=="string"||l instanceof HTMLElement)l={html:l};else{let e=l.thumb;e!==void 0&&(typeof e=="string"&&(l.thumbSrc=e),e instanceof HTMLImageElement&&(l.thumbEl=e,l.thumbElSrc=e.src,l.thumbSrc=e.src),delete l.thumb)}return Object.assign({html:"",el:null,isDom:!1,class:"",customClass:"",index:-1,dim:0,gap:0,pos:0,transition:!1},l)},$a=(l={})=>Object.assign({index:-1,slides:[],dim:0,pos:-1},l),Pe=class extends Rt{constructor(e,t){super(t),Object.defineProperty(this,"instance",{enumerable:!0,configurable:!0,writable:!0,value:e})}attach(){}detach(){}},Za={classes:{list:"f-carousel__dots",isDynamic:"is-dynamic",hasDots:"has-dots",dot:"f-carousel__dot",isBeforePrev:"is-before-prev",isPrev:"is-prev",isCurrent:"is-current",isNext:"is-next",isAfterNext:"is-after-next"},dotTpl:'<button type="button" data-carousel-page="%i" aria-label="{{GOTO}}"><span class="f-carousel__dot" aria-hidden="true"></span></button>',dynamicFrom:11,maxCount:1/0,minCount:2},Bi=class extends Pe{constructor(){super(...arguments),Object.defineProperty(this,"isDynamic",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"list",{enumerable:!0,configurable:!0,writable:!0,value:null})}onRefresh(){this.refresh()}build(){let e=this.list;if(!e){e=document.createElement("ul"),z(e,this.cn("list")),e.setAttribute("role","tablist");let t=this.instance.container;t.appendChild(e),z(t,this.cn("hasDots")),this.list=e}return e}refresh(){var e;let t=this.instance.pages.length,i=Math.min(2,this.option("minCount")),n=Math.max(2e3,this.option("maxCount")),r=this.option("dynamicFrom");if(t<i||t>n)return void this.cleanup();let c=typeof r=="number"&&t>5&&t>=r,d=!this.list||this.isDynamic!==c||this.list.children.length!==t;d&&this.cleanup();let m=this.build();if(Xe(m,this.cn("isDynamic"),!!c),d)for(let g=0;g<t;g++)m.append(this.createItem(g));let u,f=0;for(let g of[...m.children]){let b=f===this.instance.page;b&&(u=g),Xe(g,this.cn("isCurrent"),b),(e=g.children[0])===null||e===void 0||e.setAttribute("aria-selected",b?"true":"false");for(let v of["isBeforePrev","isPrev","isNext","isAfterNext"])Y(g,this.cn(v));f++}if(u=u||m.firstChild,c&&u){let g=u.previousElementSibling,b=g&&g.previousElementSibling;z(g,this.cn("isPrev")),z(b,this.cn("isBeforePrev"));let v=u.nextElementSibling,x=v&&v.nextElementSibling;z(v,this.cn("isNext")),z(x,this.cn("isAfterNext"))}this.isDynamic=c}createItem(e=0){var t;let i=document.createElement("li");i.setAttribute("role","presentation");let n=Ye(this.instance.localize(this.option("dotTpl"),[["%d",e+1]]).replace(/\%i/g,e+""));return i.appendChild(n),(t=i.children[0])===null||t===void 0||t.setAttribute("role","tab"),i}cleanup(){this.list&&(this.list.remove(),this.list=null),this.isDynamic=!1,Y(this.instance.container,this.cn("hasDots"))}attach(){this.instance.on(["refresh","change"],this.onRefresh)}detach(){this.instance.off(["refresh","change"],this.onRefresh),this.cleanup()}};Object.defineProperty(Bi,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:Za});var Ti="disabled",Mi="next",Co="prev",Hi=class extends Pe{constructor(){super(...arguments),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"prev",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"next",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"isDom",{enumerable:!0,configurable:!0,writable:!0,value:!1})}onRefresh(){let e=this.instance,t=e.pages.length,i=e.page;if(t<2)return void this.cleanup();this.build();let n=this.prev,r=this.next;n&&r&&(n.removeAttribute(Ti),r.removeAttribute(Ti),e.isInfinite||(i<=0&&n.setAttribute(Ti,""),i>=t-1&&r.setAttribute(Ti,"")))}addBtn(e){var t;let i=this.instance,n=document.createElement("button");n.setAttribute("tabindex","0"),n.setAttribute("title",i.localize(`{{${e.toUpperCase()}}}`)),z(n,this.cn("button")+" "+this.cn(e===Mi?"isNext":"isPrev"));let r=i.isRTL?e===Mi?Co:Mi:e;var c;return n.innerHTML=i.localize(this.option(`${r}Tpl`)),n.dataset[`carousel${c=e,c?c.match("^[a-z]")?c.charAt(0).toUpperCase()+c.substring(1):c:""}`]="true",(t=this.container)===null||t===void 0||t.appendChild(n),n}build(){let e=this.instance.container,t=this.cn("container"),{container:i,prev:n,next:r}=this;i||(i=e.querySelector("."+t),this.isDom=!!i),i||(i=document.createElement("div"),z(i,t),e.appendChild(i)),this.container=i,r||(r=i.querySelector("[data-carousel-next]")),r||(r=this.addBtn(Mi)),this.next=r,n||(n=i.querySelector("[data-carousel-prev]")),n||(n=this.addBtn(Co)),this.prev=n}cleanup(){this.isDom||(this.prev&&this.prev.remove(),this.next&&this.next.remove(),this.container&&this.container.remove()),this.prev=null,this.next=null,this.container=null,this.isDom=!1}attach(){this.instance.on(["refresh","change"],this.onRefresh)}detach(){this.instance.off(["refresh","change"],this.onRefresh),this.cleanup()}};Object.defineProperty(Hi,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{classes:{container:"f-carousel__nav",button:"f-button",isNext:"is-next",isPrev:"is-prev"},nextTpl:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1"><path d="M9 3l9 9-9 9"/></svg>',prevTpl:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1"><path d="M15 3l-9 9 9 9"/></svg>'}});var Ui=class extends Pe{constructor(){super(...arguments),Object.defineProperty(this,"selectedIndex",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"target",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"nav",{enumerable:!0,configurable:!0,writable:!0,value:null})}addAsTargetFor(e){this.target=this.instance,this.nav=e,this.attachEvents()}addAsNavFor(e){this.nav=this.instance,this.target=e,this.attachEvents()}attachEvents(){let{nav:e,target:t}=this;e&&t&&(e.options.initialSlide=t.options.initialPage,e.state===ce.Ready?this.onNavReady(e):e.on("ready",this.onNavReady),t.state===ce.Ready?this.onTargetReady(t):t.on("ready",this.onTargetReady))}onNavReady(e){e.on("createSlide",this.onNavCreateSlide),e.on("Panzoom.click",this.onNavClick),e.on("Panzoom.touchEnd",this.onNavTouch),this.onTargetChange()}onTargetReady(e){e.on("change",this.onTargetChange),e.on("Panzoom.refresh",this.onTargetChange),this.onTargetChange()}onNavClick(e,t,i){this.onNavTouch(e,e.panzoom,i)}onNavTouch(e,t,i){var n,r;if(Math.abs(t.dragOffset.x)>3||Math.abs(t.dragOffset.y)>3)return;let c=i.target,{nav:d,target:m}=this;if(!d||!m||!c)return;let u=c.closest("[data-index]");if(i.stopPropagation(),i.preventDefault(),!u)return;let f=parseInt(u.dataset.index||"",10)||0,g=m.getPageForSlide(f),b=d.getPageForSlide(f);d.slideTo(b),m.slideTo(g,{friction:((r=(n=this.nav)===null||n===void 0?void 0:n.plugins)===null||r===void 0?void 0:r.Sync.option("friction"))||0}),this.markSelectedSlide(f)}onNavCreateSlide(e,t){t.index===this.selectedIndex&&this.markSelectedSlide(t.index)}onTargetChange(){var e,t;let{target:i,nav:n}=this;if(!i||!n||n.state!==ce.Ready||i.state!==ce.Ready)return;let r=(t=(e=i.pages[i.page])===null||e===void 0?void 0:e.slides[0])===null||t===void 0?void 0:t.index,c=n.getPageForSlide(r);this.markSelectedSlide(r),n.slideTo(c,n.prevPage===null&&i.prevPage===null?{friction:0}:void 0)}markSelectedSlide(e){let t=this.nav;t&&t.state===ce.Ready&&(this.selectedIndex=e,[...t.slides].map(i=>{i.el&&i.el.classList[i.index===e?"add":"remove"]("is-nav-selected")}))}attach(){let e=this,t=e.options.target,i=e.options.nav;t?e.addAsNavFor(t):i&&e.addAsTargetFor(i)}detach(){let e=this,t=e.nav,i=e.target;t&&(t.off("ready",e.onNavReady),t.off("createSlide",e.onNavCreateSlide),t.off("Panzoom.click",e.onNavClick),t.off("Panzoom.touchEnd",e.onNavTouch)),e.nav=null,i&&(i.off("ready",e.onTargetReady),i.off("refresh",e.onTargetChange),i.off("change",e.onTargetChange)),e.target=null}};Object.defineProperty(Ui,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{friction:.35}});var qa={Navigation:Hi,Dots:Bi,Sync:Ui},Oi="animationend",jo="isSelected",ki="slide",Lt=class l extends Qt{get axis(){return this.isHorizontal?"e":"f"}get isEnabled(){return this.state===ce.Ready}get isInfinite(){let e=!1,{contentDim:t,viewportDim:i,pages:n,slides:r}=this,c=r[0];return n.length>=2&&c&&t+c.dim>=i&&(e=this.option("infinite")),e}get isRTL(){return this.option("direction")==="rtl"}get isHorizontal(){return this.option("axis")==="x"}constructor(e,t={},i={}){if(super(),Object.defineProperty(this,"bp",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"lp",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"userOptions",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"userPlugins",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:ce.Init}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"prevPage",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"viewport",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"track",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"slides",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"pages",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"panzoom",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"inTransition",{enumerable:!0,configurable:!0,writable:!0,value:new Set}),Object.defineProperty(this,"contentDim",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"viewportDim",{enumerable:!0,configurable:!0,writable:!0,value:0}),typeof e=="string"&&(e=document.querySelector(e)),!e||!Ie(e))throw new Error("No Element found");this.container=e,this.slideNext=_o(this.slideNext.bind(this),150),this.slidePrev=_o(this.slidePrev.bind(this),150),this.userOptions=t,this.userPlugins=i,queueMicrotask(()=>{this.processOptions()})}processOptions(){var e,t;let i=Fe({},l.defaults,this.userOptions),n="",r=i.breakpoints;if(r&&Ln(r))for(let[c,d]of Object.entries(r))window.matchMedia(c).matches&&Ln(d)&&(n+=c,Fe(i,d));n===this.bp&&this.state!==ce.Init||(this.bp=n,this.state===ce.Ready&&(i.initialSlide=((t=(e=this.pages[this.page])===null||e===void 0?void 0:e.slides[0])===null||t===void 0?void 0:t.index)||0),this.state!==ce.Init&&this.destroy(),super.setOptions(i),this.option("enabled")===!1?this.attachEvents():setTimeout(()=>{this.init()},0))}init(){this.state=ce.Init,this.emit("init"),this.attachPlugins(Object.assign(Object.assign({},l.Plugins),this.userPlugins)),this.emit("attachPlugins"),this.initLayout(),this.initSlides(),this.updateMetrics(),this.setInitialPosition(),this.initPanzoom(),this.attachEvents(),this.state=ce.Ready,this.emit("ready")}initLayout(){let{container:e}=this,t=this.option("classes");z(e,this.cn("container")),Xe(e,t.isLTR,!this.isRTL),Xe(e,t.isRTL,this.isRTL),Xe(e,t.isVertical,!this.isHorizontal),Xe(e,t.isHorizontal,this.isHorizontal);let i=this.option("viewport")||e.querySelector(`.${t.viewport}`);i||(i=document.createElement("div"),z(i,t.viewport),i.append(...wo(e,`.${t.slide}`)),e.prepend(i)),i.addEventListener("scroll",this.onScroll);let n=this.option("track")||e.querySelector(`.${t.track}`);n||(n=document.createElement("div"),z(n,t.track),n.append(...Array.from(i.childNodes))),n.setAttribute("aria-live","polite"),i.contains(n)||i.prepend(n),this.viewport=i,this.track=n,this.emit("initLayout")}initSlides(){let{track:e}=this;if(!e)return;let t=[...this.slides],i=[];[...wo(e,`.${this.cn(ki)}`)].forEach(n=>{if(Ie(n)){let r=En({el:n,isDom:!0,index:this.slides.length});i.push(r)}});for(let n of[...this.option("slides",[])||[],...t])i.push(En(n));this.slides=i;for(let n=0;n<this.slides.length;n++)this.slides[n].index=n;for(let n of i)this.emit("beforeInitSlide",n,n.index),this.emit("initSlide",n,n.index);this.emit("initSlides")}setInitialPage(){let e=this.option("initialSlide");this.page=typeof e=="number"?this.getPageForSlide(e):parseInt(this.option("initialPage",0)+"",10)||0}setInitialPosition(){let{track:e,pages:t,isHorizontal:i}=this;if(!e||!t.length)return;let n=this.page;t[n]||(this.page=n=0);let r=(t[n].pos||0)*(this.isRTL&&i?1:-1),c=i?`${r}px`:"0",d=i?"0":`${r}px`;e.style.transform=`translate3d(${c}, ${d}, 0) scale(1)`,this.option("adaptiveHeight")&&this.setViewportHeight()}initPanzoom(){this.panzoom&&(this.panzoom.destroy(),this.panzoom=null);let e=this.option("Panzoom")||{};this.panzoom=new Et(this.viewport,Fe({},{content:this.track,zoom:!1,panOnlyZoomed:!1,lockAxis:this.isHorizontal?"x":"y",infinite:this.isInfinite,click:!1,dblClick:!1,touch:t=>!(this.pages.length<2&&!t.options.infinite),bounds:()=>this.getBounds(),maxVelocity:t=>Math.abs(t.target[this.axis]-t.current[this.axis])<2*this.viewportDim?100:0},e)),this.panzoom.on("*",(t,i,...n)=>{this.emit(`Panzoom.${i}`,t,...n)}),this.panzoom.on("decel",this.onDecel),this.panzoom.on("refresh",this.onRefresh),this.panzoom.on("beforeTransform",this.onBeforeTransform),this.panzoom.on("endAnimation",this.onEndAnimation)}attachEvents(){let e=this.container;e&&(e.addEventListener("click",this.onClick,{passive:!1,capture:!1}),e.addEventListener("slideTo",this.onSlideTo)),window.addEventListener("resize",this.onResize)}createPages(){let e=[],{contentDim:t,viewportDim:i}=this,n=this.option("slidesPerPage");n=(n==="auto"||t<=i)&&this.option("fill")!==!1?1/0:parseFloat(n+"");let r=0,c=0,d=0;for(let m of this.slides)(!e.length||c+m.dim-i>.05||d>=n)&&(e.push($a()),r=e.length-1,c=0,d=0),e[r].slides.push(m),c+=m.dim+m.gap,d++;return e}processPages(){let e=this.pages,{contentDim:t,viewportDim:i,isInfinite:n}=this,r=this.option("center"),c=this.option("fill"),d=c&&r&&t>i&&!n;if(e.forEach((f,g)=>{var b;f.index=g,f.pos=((b=f.slides[0])===null||b===void 0?void 0:b.pos)||0,f.dim=0;for(let[v,x]of f.slides.entries())f.dim+=x.dim,v<f.slides.length-1&&(f.dim+=x.gap);d&&f.pos+.5*f.dim<.5*i?f.pos=0:d&&f.pos+.5*f.dim>=t-.5*i?f.pos=t-i:r&&(f.pos+=-.5*(i-f.dim))}),e.forEach(f=>{c&&!n&&t>i&&(f.pos=Math.max(f.pos,0),f.pos=Math.min(f.pos,t-i)),f.pos=T(f.pos,1e3),f.dim=T(f.dim,1e3),Math.abs(f.pos)<=.1&&(f.pos=0)}),n)return e;let m=[],u;return e.forEach(f=>{let g=Object.assign({},f);u&&g.pos===u.pos?(u.dim+=g.dim,u.slides=[...u.slides,...g.slides]):(g.index=m.length,u=g,m.push(g))}),m}getPageFromIndex(e=0){let t=this.pages.length,i;return e=parseInt((e||0).toString())||0,i=this.isInfinite?(e%t+t)%t:Math.max(Math.min(e,t-1),0),i}getSlideMetrics(e){var t,i;let n=this.isHorizontal?"width":"height",r=0,c=0,d=e.el,m=!(!d||d.parentNode);if(d?r=parseFloat(d.dataset[n]||"")||0:(d=document.createElement("div"),d.style.visibility="hidden",(this.track||document.body).prepend(d)),z(d,this.cn(ki)+" "+e.class+" "+e.customClass),r)d.style[n]=`${r}px`,d.style[n==="width"?"height":"width"]="";else{m&&(this.track||document.body).prepend(d),r=d.getBoundingClientRect()[n]*Math.max(1,((t=window.visualViewport)===null||t===void 0?void 0:t.scale)||1);let f=d[this.isHorizontal?"offsetWidth":"offsetHeight"];f-1>r&&(r=f)}let u=getComputedStyle(d);return u.boxSizing==="content-box"&&(this.isHorizontal?(r+=parseFloat(u.paddingLeft)||0,r+=parseFloat(u.paddingRight)||0):(r+=parseFloat(u.paddingTop)||0,r+=parseFloat(u.paddingBottom)||0)),c=parseFloat(u[this.isHorizontal?"marginRight":"marginBottom"])||0,m?(i=d.parentElement)===null||i===void 0||i.removeChild(d):e.el||d.remove(),{dim:T(r,1e3),gap:T(c,1e3)}}getBounds(){let{isInfinite:e,isRTL:t,isHorizontal:i,pages:n}=this,r={min:0,max:0};if(e)r={min:-1/0,max:1/0};else if(n.length){let c=n[0].pos,d=n[n.length-1].pos;r=t&&i?{min:c,max:d}:{min:-1*d,max:-1*c}}return{x:i?r:{min:0,max:0},y:i?{min:0,max:0}:r}}repositionSlides(){let e,{isHorizontal:t,isRTL:i,isInfinite:n,viewport:r,viewportDim:c,contentDim:d,page:m,pages:u,slides:f,panzoom:g}=this,b=0,v=0,x=0,E=0;g?E=-1*g.current[this.axis]:u[m]&&(E=u[m].pos||0),e=t?i?"right":"left":"top",i&&t&&(E*=-1);for(let A of f){let B=A.el;B?(e==="top"?(B.style.right="",B.style.left=""):B.style.top="",A.index!==b?B.style[e]=v===0?"":`${T(v,1e3)}px`:B.style[e]="",x+=A.dim+A.gap,b++):v+=A.dim+A.gap}if(n&&x&&r){let A=getComputedStyle(r),B="padding",ze=t?"Right":"Bottom",Ae=parseFloat(A[B+(t?"Left":"Top")]);E-=Ae,c+=Ae,c+=parseFloat(A[B+ze]);for(let ie of f)ie.el&&(T(ie.pos)<T(c)&&T(ie.pos+ie.dim+ie.gap)<T(E)&&T(E)>T(d-c)&&(ie.el.style[e]=`${T(v+x,1e3)}px`),T(ie.pos+ie.gap)>=T(d-c)&&T(ie.pos)>T(E+c)&&T(E)<T(c)&&(ie.el.style[e]=`-${T(x,1e3)}px`))}let y,j,O=[...this.inTransition];if(O.length>1&&(y=u[O[0]],j=u[O[1]]),y&&j){let A=0;for(let B of f)B.el?this.inTransition.has(B.index)&&y.slides.indexOf(B)<0&&(B.el.style[e]=`${T(A+(y.pos-j.pos),1e3)}px`):A+=B.dim+B.gap}}createSlideEl(e){let{track:t,slides:i}=this;if(!t||!e||e.el&&e.el.parentNode)return;let n=e.el||document.createElement("div");z(n,this.cn(ki)),z(n,e.class),z(n,e.customClass);let r=e.html;r&&(r instanceof HTMLElement?n.appendChild(r):n.innerHTML=e.html+"");let c=[];i.forEach((f,g)=>{f.el&&c.push(g)});let d=e.index,m=null;c.length&&(m=i[c.reduce((f,g)=>Math.abs(g-d)<Math.abs(f-d)?g:f)]);let u=m&&m.el&&m.el.parentNode?m.index<e.index?m.el.nextSibling:m.el:null;t.insertBefore(n,t.contains(u)?u:null),e.el=n,this.emit("createSlide",e)}removeSlideEl(e,t=!1){let i=e?.el;if(!i||!i.parentNode)return;let n=this.cn(jo);if(i.classList.contains(n)&&(Y(i,n),this.emit("unselectSlide",e)),e.isDom&&!t)return i.removeAttribute("aria-hidden"),i.removeAttribute("data-index"),void(i.style.left="");this.emit("removeSlide",e);let r=new CustomEvent(Oi);i.dispatchEvent(r),e.el&&(e.el.remove(),e.el=null)}transitionTo(e=0,t=this.option("transition")){var i,n,r,c;if(!t)return!1;let d=this.page,{pages:m,panzoom:u}=this;e=parseInt((e||0).toString())||0;let f=this.getPageFromIndex(e);if(!u||!m[f]||m.length<2||Math.abs((((n=(i=m[d])===null||i===void 0?void 0:i.slides[0])===null||n===void 0?void 0:n.dim)||0)-this.viewportDim)>1)return!1;let g=e>d?1:-1;this.isInfinite&&(d===0&&e===m.length-1&&(g=-1),d===m.length-1&&e===0&&(g=1));let b=m[f].pos*(this.isRTL?1:-1);if(d===f&&Math.abs(b-u.target[this.axis])<1)return!1;this.clearTransitions();let v=u.isResting;z(this.container,this.cn("inTransition"));let x=((r=m[d])===null||r===void 0?void 0:r.slides[0])||null,E=((c=m[f])===null||c===void 0?void 0:c.slides[0])||null;this.inTransition.add(E.index),this.createSlideEl(E);let y=x.el,j=E.el;v||t===ki||(t="fadeFast",y=null);let O=this.isRTL?"next":"prev",A=this.isRTL?"prev":"next";return y&&(this.inTransition.add(x.index),x.transition=t,y.addEventListener(Oi,this.onAnimationEnd),y.classList.add(`f-${t}Out`,`to-${g>0?A:O}`)),j&&(E.transition=t,j.addEventListener(Oi,this.onAnimationEnd),j.classList.add(`f-${t}In`,`from-${g>0?O:A}`)),u.current[this.axis]=b,u.target[this.axis]=b,u.requestTick(),this.onChange(f),!0}manageSlideVisiblity(){let e=new Set,t=new Set,i=this.getVisibleSlides(parseFloat(this.option("preload",0)+"")||0);for(let n of this.slides)i.has(n)?e.add(n):t.add(n);for(let n of this.inTransition)e.add(this.slides[n]);for(let n of e)this.createSlideEl(n),this.lazyLoadSlide(n);for(let n of t)e.has(n)||this.removeSlideEl(n);this.markSelectedSlides(),this.repositionSlides()}markSelectedSlides(){if(!this.pages[this.page]||!this.pages[this.page].slides)return;let e="aria-hidden",t=this.cn(jo);if(t)for(let i of this.slides){let n=i.el;n&&(n.dataset.index=`${i.index}`,n.classList.contains("f-thumbs__slide")?this.getVisibleSlides(0).has(i)?n.removeAttribute(e):n.setAttribute(e,"true"):this.pages[this.page].slides.includes(i)?(n.classList.contains(t)||(z(n,t),this.emit("selectSlide",i)),n.removeAttribute(e)):(n.classList.contains(t)&&(Y(n,t),this.emit("unselectSlide",i)),n.setAttribute(e,"true")))}}flipInfiniteTrack(){let{axis:e,isHorizontal:t,isInfinite:i,isRTL:n,viewportDim:r,contentDim:c}=this,d=this.panzoom;if(!d||!i)return;let m=d.current[e],u=d.target[e]-m,f=0,g=.5*r;n&&t?(m<-g&&(f=-1,m+=c),m>c-g&&(f=1,m-=c)):(m>g&&(f=1,m-=c),m<-c+g&&(f=-1,m+=c)),f&&(d.current[e]=m,d.target[e]=m+u)}lazyLoadImg(e,t){let i=this,n="f-fadeIn",r="is-preloading",c=!1,d=null,m=()=>{c||(c=!0,d&&(d.remove(),d=null),Y(t,r),t.complete&&(z(t,n),setTimeout(()=>{Y(t,n)},350)),this.option("adaptiveHeight")&&e.el&&this.pages[this.page].slides.indexOf(e)>-1&&(i.updateMetrics(),i.setViewportHeight()),this.emit("load",e))};z(t,r),t.src=t.dataset.lazySrcset||t.dataset.lazySrc||"",delete t.dataset.lazySrc,delete t.dataset.lazySrcset,t.addEventListener("error",()=>{m()}),t.addEventListener("load",()=>{m()}),setTimeout(()=>{let u=t.parentNode;u&&e.el&&(t.complete?m():c||(d=Ye(Vn),u.insertBefore(d,t)))},300)}lazyLoadSlide(e){let t=e&&e.el;if(!t)return;let i=new Set,n=Array.from(t.querySelectorAll("[data-lazy-src],[data-lazy-srcset]"));t.dataset.lazySrc&&n.push(t),n.map(r=>{r instanceof HTMLImageElement?i.add(r):r instanceof HTMLElement&&r.dataset.lazySrc&&(r.style.backgroundImage=`url('${r.dataset.lazySrc}')`,delete r.dataset.lazySrc)});for(let r of i)this.lazyLoadImg(e,r)}onAnimationEnd(e){var t;let i=e.target,n=i?parseInt(i.dataset.index||"",10)||0:-1,r=this.slides[n],c=e.animationName;if(!i||!r||!c)return;let d=!!this.inTransition.has(n)&&r.transition;d&&c.substring(0,d.length+2)===`f-${d}`&&this.inTransition.delete(n),this.inTransition.size||this.clearTransitions(),n===this.page&&(!((t=this.panzoom)===null||t===void 0)&&t.isResting)&&this.emit("settle")}onDecel(e,t=0,i=0,n=0,r=0){if(this.option("dragFree"))return void this.setPageFromPosition();let{isRTL:c,isHorizontal:d,axis:m,pages:u}=this,f=u.length,g=Math.abs(Math.atan2(i,t)/(Math.PI/180)),b=0;if(b=g>45&&g<135?d?0:i:d?t:0,!f)return;let v=this.page,x=c&&d?1:-1,E=e.current[m]*x,{pageIndex:y}=this.getPageFromPosition(E);Math.abs(b)>5?(u[v].dim<document.documentElement["client"+(this.isHorizontal?"Width":"Height")]-1&&(v=y),v=c&&d?b<0?v-1:v+1:b<0?v+1:v-1):v=n===0&&r===0?v:y,this.slideTo(v,{transition:!1,friction:e.option("decelFriction")})}onClick(e){let t=e.target,i=t&&Ie(t)?t.dataset:null,n,r;i&&(i.carouselPage!==void 0?(r="slideTo",n=i.carouselPage):i.carouselNext!==void 0?r="slideNext":i.carouselPrev!==void 0&&(r="slidePrev")),r?(e.preventDefault(),e.stopPropagation(),t&&!t.hasAttribute("disabled")&&this[r](n)):this.emit("click",e)}onSlideTo(e){let t=e.detail||0;this.slideTo(this.getPageForSlide(t),{friction:0})}onChange(e,t=0){let i=this.page;this.prevPage=i,this.page=e,this.option("adaptiveHeight")&&this.setViewportHeight(),e!==i&&(this.markSelectedSlides(),this.emit("change",e,i,t))}onRefresh(){let e=this.contentDim,t=this.viewportDim;this.updateMetrics(),this.contentDim===e&&this.viewportDim===t||this.slideTo(this.page,{friction:0,transition:!1})}onScroll(){var e;(e=this.viewport)===null||e===void 0||e.scroll(0,0)}onResize(){this.option("breakpoints")&&this.processOptions()}onBeforeTransform(e){this.lp!==e.current[this.axis]&&(this.flipInfiniteTrack(),this.manageSlideVisiblity()),this.lp=e.current.e}onEndAnimation(){this.inTransition.size||this.emit("settle")}reInit(e=null,t=null){this.destroy(),this.state=ce.Init,this.prevPage=null,this.userOptions=e||this.userOptions,this.userPlugins=t||this.userPlugins,this.processOptions()}slideTo(e=0,{friction:t=this.option("friction"),transition:i=this.option("transition")}={}){if(this.state===ce.Destroy)return;e=parseInt((e||0).toString())||0;let n=this.getPageFromIndex(e),{axis:r,isHorizontal:c,isRTL:d,pages:m,panzoom:u}=this,f=m.length,g=d&&c?1:-1;if(!u||!f)return;if(this.page!==n){let v=new Event("beforeChange",{bubbles:!0,cancelable:!0});if(this.emit("beforeChange",v,e),v.defaultPrevented)return}if(this.transitionTo(e,i))return;let b=m[n].pos;if(this.isInfinite){let v=this.contentDim,x=u.target[r]*g;f===2?b+=v*Math.floor(parseFloat(e+"")/2):b=[b,b-v,b+v].reduce(function(E,y){return Math.abs(y-x)<Math.abs(E-x)?y:E})}b*=g,Math.abs(u.target[r]-b)<1||(u.panTo({x:c?b:0,y:c?0:b,friction:t}),this.onChange(n))}slideToClosest(e){if(this.panzoom){let{pageIndex:t}=this.getPageFromPosition();this.slideTo(t,e)}}slideNext(){this.slideTo(this.page+1)}slidePrev(){this.slideTo(this.page-1)}clearTransitions(){this.inTransition.clear(),Y(this.container,this.cn("inTransition"));let e=["to-prev","to-next","from-prev","from-next"];for(let t of this.slides){let i=t.el;if(i){i.removeEventListener(Oi,this.onAnimationEnd),i.classList.remove(...e);let n=t.transition;n&&i.classList.remove(`f-${n}Out`,`f-${n}In`)}}this.manageSlideVisiblity()}addSlide(e,t){var i,n,r,c;let d=this.panzoom,m=((i=this.pages[this.page])===null||i===void 0?void 0:i.pos)||0,u=((n=this.pages[this.page])===null||n===void 0?void 0:n.dim)||0,f=this.contentDim<this.viewportDim,g=Array.isArray(t)?t:[t],b=[];for(let v of g)b.push(En(v));this.slides.splice(e,0,...b);for(let v=0;v<this.slides.length;v++)this.slides[v].index=v;for(let v of b)this.emit("beforeInitSlide",v,v.index);if(this.page>=e&&(this.page+=b.length),this.updateMetrics(),d){let v=((r=this.pages[this.page])===null||r===void 0?void 0:r.pos)||0,x=((c=this.pages[this.page])===null||c===void 0?void 0:c.dim)||0,E=this.pages.length||1,y=this.isRTL?u-x:x-u,j=this.isRTL?m-v:v-m;f&&E===1?(e<=this.page&&(d.current[this.axis]-=y,d.target[this.axis]-=y),d.panTo({[this.isHorizontal?"x":"y"]:-1*v})):j&&e<=this.page&&(d.target[this.axis]-=j,d.current[this.axis]-=j,d.requestTick())}for(let v of b)this.emit("initSlide",v,v.index)}prependSlide(e){this.addSlide(0,e)}appendSlide(e){this.addSlide(this.slides.length,e)}removeSlide(e){let t=this.slides.length;e=(e%t+t)%t;let i=this.slides[e];if(i){this.removeSlideEl(i,!0),this.slides.splice(e,1);for(let n=0;n<this.slides.length;n++)this.slides[n].index=n;this.updateMetrics(),this.slideTo(this.page,{friction:0,transition:!1}),this.emit("destroySlide",i)}}updateMetrics(){let{panzoom:e,viewport:t,track:i,slides:n,isHorizontal:r,isInfinite:c}=this;if(!i)return;let d=r?"width":"height",m=r?"offsetWidth":"offsetHeight";if(t){let g=Math.max(t[m],T(t.getBoundingClientRect()[d],1e3)),b=getComputedStyle(t),v="padding",x=r?"Right":"Bottom";g-=parseFloat(b[v+(r?"Left":"Top")])+parseFloat(b[v+x]),this.viewportDim=g}let u,f=0;for(let[g,b]of n.entries()){let v=0,x=0;!b.el&&u?(v=u.dim,x=u.gap):({dim:v,gap:x}=this.getSlideMetrics(b),u=b),v=T(v,1e3),x=T(x,1e3),b.dim=v,b.gap=x,b.pos=f,f+=v,(c||g<n.length-1)&&(f+=x)}f=T(f,1e3),this.contentDim=f,e&&(e.contentRect[d]=f,e.contentRect[r?"fullWidth":"fullHeight"]=f),this.pages=this.createPages(),this.pages=this.processPages(),this.state===ce.Init&&this.setInitialPage(),this.page=Math.max(0,Math.min(this.page,this.pages.length-1)),this.manageSlideVisiblity(),this.emit("refresh")}getProgress(e,t=!1,i=!1){e===void 0&&(e=this.page);let n=this,r=n.panzoom,c=n.contentDim,d=n.pages[e]||0;if(!d||!r)return e>this.page?-1:1;let m=-1*r.current.e,u=T((m-d.pos)/(1*d.dim),1e3),f=u,g=u;this.isInfinite&&i!==!0&&(f=T((m-d.pos+c)/(1*d.dim),1e3),g=T((m-d.pos-c)/(1*d.dim),1e3));let b=[u,f,g].reduce(function(v,x){return Math.abs(x)<Math.abs(v)?x:v});return t?b:b>1?1:b<-1?-1:b}setViewportHeight(){let{page:e,pages:t,viewport:i,isHorizontal:n}=this;if(!i||!t[e])return;let r=0;n&&this.track&&(this.track.style.height="auto",t[e].slides.forEach(c=>{c.el&&(r=Math.max(r,c.el.offsetHeight))})),i.style.height=r?`${r}px`:""}getPageForSlide(e){for(let t of this.pages)for(let i of t.slides)if(i.index===e)return t.index;return-1}getVisibleSlides(e=0){var t;let i=new Set,{panzoom:n,contentDim:r,viewportDim:c,pages:d,page:m}=this;if(c){r=r+((t=this.slides[this.slides.length-1])===null||t===void 0?void 0:t.gap)||0;let u=0;u=n&&n.state!==G.Init&&n.state!==G.Destroy?-1*n.current[this.axis]:d[m]&&d[m].pos||0,this.isInfinite&&(u-=Math.floor(u/r)*r),this.isRTL&&this.isHorizontal&&(u*=-1);let f=u-c*e,g=u+c*(e+1),b=this.isInfinite?[-1,0,1]:[0];for(let v of this.slides)for(let x of b){let E=v.pos+x*r,y=E+v.dim+v.gap;E<g&&y>f&&i.add(v)}}return i}getPageFromPosition(e){let{viewportDim:t,contentDim:i,slides:n,pages:r,panzoom:c}=this,d=r.length,m=n.length,u=n[0],f=n[m-1],g=this.option("center"),b=0,v=0,x=0,E=e===void 0?-1*(c?.target[this.axis]||0):e;g&&(E+=.5*t),this.isInfinite?(E<u.pos-.5*f.gap&&(E-=i,x=-1),E>f.pos+f.dim+.5*f.gap&&(E-=i,x=1)):E=Math.max(u.pos||0,Math.min(E,f.pos));let y=f,j=n.find(O=>{let A=O.pos-.5*y.gap,B=O.pos+O.dim+.5*O.gap;return y=O,E>=A&&E<B});return j||(j=f),v=this.getPageForSlide(j.index),b=v+x*d,{page:b,pageIndex:v}}setPageFromPosition(){let{pageIndex:e}=this.getPageFromPosition();this.onChange(e)}destroy(){if([ce.Destroy].includes(this.state))return;this.state=ce.Destroy;let{container:e,viewport:t,track:i,slides:n,panzoom:r}=this,c=this.option("classes");e.removeEventListener("click",this.onClick,{passive:!1,capture:!1}),e.removeEventListener("slideTo",this.onSlideTo),window.removeEventListener("resize",this.onResize),r&&(r.destroy(),this.panzoom=null),n&&n.forEach(m=>{this.removeSlideEl(m)}),this.detachPlugins(),t&&(t.removeEventListener("scroll",this.onScroll),t.offsetParent&&i&&i.offsetParent&&t.replaceWith(...i.childNodes));for(let[m,u]of Object.entries(c))m!=="container"&&u&&e.classList.remove(u);this.track=null,this.viewport=null,this.page=0,this.slides=[];let d=this.events.get("ready");this.events=new Map,d&&this.events.set("ready",d)}};Object.defineProperty(Lt,"Panzoom",{enumerable:!0,configurable:!0,writable:!0,value:Et}),Object.defineProperty(Lt,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:Wa}),Object.defineProperty(Lt,"Plugins",{enumerable:!0,configurable:!0,writable:!0,value:qa});var Yo=function(l){if(!Ie(l))return 0;let e=window.scrollY,t=window.innerHeight,i=e+t,n=l.getBoundingClientRect(),r=n.y+e,c=n.height,d=r+c;if(e>d||i<r)return 0;if(e<r&&i>d||r<e&&d>i)return 100;let m=c;r<e&&(m-=e-r),d>i&&(m-=d-i);let u=m/t*100;return Math.round(u)},Kt=!(typeof window>"u"||!window.document||!window.document.createElement),_n,wn=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden]):not(.fancybox-focus-guard)","iframe","object","embed","video","audio","[contenteditable]",'[tabindex]:not([tabindex^="-"]):not([disabled]):not([aria-hidden])'].join(","),Io=l=>{if(l&&Kt){_n===void 0&&document.createElement("div").focus({get preventScroll(){return _n=!0,!1}});try{if(_n)l.focus({preventScroll:!0});else{let e=window.scrollY||document.body.scrollTop,t=window.scrollX||document.body.scrollLeft;l.focus(),document.body.scrollTo({top:e,left:t,behavior:"auto"})}}catch{}}},Xo=()=>{let l=document,e,t="",i="",n="";return l.fullscreenEnabled?(t="requestFullscreen",i="exitFullscreen",n="fullscreenElement"):l.webkitFullscreenEnabled&&(t="webkitRequestFullscreen",i="webkitExitFullscreen",n="webkitFullscreenElement"),t&&(e={request:function(r=l.documentElement){return t==="webkitRequestFullscreen"?r[t](Element.ALLOW_KEYBOARD_INPUT):r[t]()},exit:function(){return l[n]&&l[i]()},isFullscreen:function(){return l[n]}}),e},Rn={animated:!0,autoFocus:!0,backdropClick:"close",Carousel:{classes:{container:"fancybox__carousel",viewport:"fancybox__viewport",track:"fancybox__track",slide:"fancybox__slide"}},closeButton:"auto",closeExisting:!1,commonCaption:!1,compact:()=>window.matchMedia("(max-width: 578px), (max-height: 578px)").matches,contentClick:"toggleZoom",contentDblClick:!1,defaultType:"image",defaultDisplay:"flex",dragToClose:!0,Fullscreen:{autoStart:!1},groupAll:!1,groupAttr:"data-fancybox",hideClass:"f-fadeOut",hideScrollbar:!0,idle:3500,keyboard:{Escape:"close",Delete:"close",Backspace:"close",PageUp:"next",PageDown:"prev",ArrowUp:"prev",ArrowDown:"next",ArrowRight:"next",ArrowLeft:"prev"},l10n:Object.assign(Object.assign({},qo),{CLOSE:"Close",NEXT:"Next",PREV:"Previous",MODAL:"You can close this modal content with the ESC key",ERROR:"Something Went Wrong, Please Try Again Later",IMAGE_ERROR:"Image Not Found",ELEMENT_NOT_FOUND:"HTML Element Not Found",AJAX_NOT_FOUND:"Error Loading AJAX : Not Found",AJAX_FORBIDDEN:"Error Loading AJAX : Forbidden",IFRAME_ERROR:"Error Loading Page",TOGGLE_ZOOM:"Toggle zoom level",TOGGLE_THUMBS:"Toggle thumbnails",TOGGLE_SLIDESHOW:"Toggle slideshow",TOGGLE_FULLSCREEN:"Toggle full-screen mode",DOWNLOAD:"Download"}),parentEl:null,placeFocusBack:!0,showClass:"f-zoomInUp",startIndex:0,tpl:{closeButton:'<button data-fancybox-close class="f-button is-close-btn" title="{{CLOSE}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1"><path d="M20 20L4 4m16 0L4 20"/></svg></button>',main:`<div class="fancybox__container" role="dialog" aria-modal="true" aria-label="{{MODAL}}" tabindex="-1">
    <div class="fancybox__backdrop"></div>
    <div class="fancybox__carousel"></div>
    <div class="fancybox__footer"></div>
  </div>`},trapFocus:!0,wheel:"zoom"},ve,Ee;(function(l){l[l.Init=0]="Init",l[l.Ready=1]="Ready",l[l.Closing=2]="Closing",l[l.CustomClosing=3]="CustomClosing",l[l.Destroy=4]="Destroy"})(ve||(ve={})),function(l){l[l.Loading=0]="Loading",l[l.Opening=1]="Opening",l[l.Ready=2]="Ready",l[l.Closing=3]="Closing"}(Ee||(Ee={}));var Fo="",Gt=!1,Di=!1,xt=null,Go=()=>{let l="",e="",t=q.getInstance();if(t){let i=t.carousel,n=t.getSlide();if(i&&n){let r=n.slug||void 0,c=n.triggerEl||void 0;e=r||t.option("slug")||"",!e&&c&&c.dataset&&(e=c.dataset.fancybox||""),e&&e!=="true"&&(l="#"+e+(!r&&i.slides.length>1?"-"+(n.index+1):""))}}return{hash:l,slug:e,index:1}},Wi=()=>{let l=new URL(document.URL).hash,e=l.slice(1).split("-"),t=e[e.length-1],i=t&&/^\+?\d+$/.test(t)&&parseInt(e.pop()||"1",10)||1;return{hash:l,slug:e.join("-"),index:i}},Ko=()=>{let{slug:l,index:e}=Wi();if(!l)return;let t=document.querySelector(`[data-slug="${l}"]`);if(t&&t.dispatchEvent(new CustomEvent("click",{bubbles:!0,cancelable:!0})),q.getInstance())return;let i=document.querySelectorAll(`[data-fancybox="${l}"]`);i.length&&(t=i[e-1],t&&t.dispatchEvent(new CustomEvent("click",{bubbles:!0,cancelable:!0})))},Qo=()=>{if(q.defaults.Hash===!1)return;let l=q.getInstance();if(l?.options.Hash===!1)return;let{slug:e,index:t}=Wi(),{slug:i}=Go();l&&(e===i?l.jumpTo(t-1):(Gt=!0,l.close())),Ko()},Jo=()=>{xt&&clearTimeout(xt),queueMicrotask(()=>{Qo()})},Po=()=>{window.addEventListener("hashchange",Jo,!1),setTimeout(()=>{Qo()},500)};Kt&&(/complete|interactive|loaded/.test(document.readyState)?Po():document.addEventListener("DOMContentLoaded",Po));var zi="is-zooming-in",$i=class extends Pe{onCreateSlide(e,t,i){let n=this.instance.optionFor(i,"src")||"";i.el&&i.type==="image"&&typeof n=="string"&&this.setImage(i,n)}onRemoveSlide(e,t,i){i.panzoom&&i.panzoom.destroy(),i.panzoom=void 0,i.imageEl=void 0}onChange(e,t,i,n){Y(this.instance.container,zi);for(let r of t.slides){let c=r.panzoom;c&&r.index!==i&&c.reset(.35)}}onClose(){var e;let t=this.instance,i=t.container,n=t.getSlide();if(!i||!i.parentElement||!n)return;let{el:r,contentEl:c,panzoom:d,thumbElSrc:m}=n;if(!r||!m||!c||!d||d.isContentLoading||d.state===G.Init||d.state===G.Destroy)return;d.updateMetrics();let u=this.getZoomInfo(n);if(!u)return;this.instance.state=ve.CustomClosing,i.classList.remove(zi),i.classList.add("is-zooming-out"),c.style.backgroundImage=`url('${m}')`;let f=i.getBoundingClientRect();(((e=window.visualViewport)===null||e===void 0?void 0:e.scale)||1)===1&&Object.assign(i.style,{position:"absolute",top:`${i.offsetTop+window.scrollY}px`,left:`${i.offsetLeft+window.scrollX}px`,bottom:"auto",right:"auto",width:`${f.width}px`,height:`${f.height}px`,overflow:"hidden"});let{x:g,y:b,scale:v,opacity:x}=u;if(x){let E=((y,j,O,A)=>{let B=j-y,ze=A-O;return Ae=>O+((Ae-y)/B*ze||0)})(d.scale,v,1,0);d.on("afterTransform",()=>{c.style.opacity=E(d.scale)+""})}d.on("endAnimation",()=>{t.destroy()}),d.target.a=v,d.target.b=0,d.target.c=0,d.target.d=v,d.panTo({x:g,y:b,scale:v,friction:x?.2:.33,ignoreBounds:!0}),d.isResting&&t.destroy()}setImage(e,t){let i=this.instance;e.src=t,this.process(e,t).then(n=>{let{contentEl:r,imageEl:c,thumbElSrc:d,el:m}=e;if(i.isClosing()||!r||!c)return;r.offsetHeight;let u=!!i.isOpeningSlide(e)&&this.getZoomInfo(e);if(this.option("protected")&&m){m.addEventListener("contextmenu",b=>{b.preventDefault()});let g=document.createElement("div");z(g,"fancybox-protected"),r.appendChild(g)}if(d&&u){let g=n.contentRect,b=Math.max(g.fullWidth,g.fullHeight),v=null;!u.opacity&&b>1200&&(v=document.createElement("img"),z(v,"fancybox-ghost"),v.src=d,r.appendChild(v));let x=()=>{v&&(z(v,"f-fadeFastOut"),setTimeout(()=>{v&&(v.remove(),v=null)},200))};(f=d,new Promise((E,y)=>{let j=new Image;j.onload=E,j.onerror=y,j.src=f})).then(()=>{i.hideLoading(e),e.state=Ee.Opening,this.instance.emit("reveal",e),this.zoomIn(e).then(()=>{x(),this.instance.done(e)},()=>{}),v&&setTimeout(()=>{x()},b>2500?800:200)},()=>{i.hideLoading(e),i.revealContent(e)})}else{let g=this.optionFor(e,"initialSize"),b=this.optionFor(e,"zoom"),v={event:i.prevMouseMoveEvent||i.options.event,friction:b?.12:0},x=i.optionFor(e,"showClass")||void 0,E=!0;i.isOpeningSlide(e)&&(g==="full"?n.zoomToFull(v):g==="cover"?n.zoomToCover(v):g==="max"?n.zoomToMax(v):E=!1,n.stop("current")),E&&x&&(x=n.isDragging?"f-fadeIn":""),i.hideLoading(e),i.revealContent(e,x)}var f},()=>{i.setError(e,"{{IMAGE_ERROR}}")})}process(e,t){return new Promise((i,n)=>{var r;let c=this.instance,d=e.el;c.clearContent(e),c.showLoading(e);let m=this.optionFor(e,"content");if(typeof m=="string"&&(m=Ye(m)),!m||!Ie(m)){if(m=document.createElement("img"),m instanceof HTMLImageElement){let u="",f=e.caption;u=typeof f=="string"&&f?f.replace(/<[^>]+>/gi,"").substring(0,1e3):`Image ${e.index+1} of ${((r=c.carousel)===null||r===void 0?void 0:r.pages.length)||1}`,m.src=t||"",m.alt=u,m.draggable=!1,e.srcset&&m.setAttribute("srcset",e.srcset),this.instance.isOpeningSlide(e)&&(m.fetchPriority="high")}e.sizes&&m.setAttribute("sizes",e.sizes)}z(m,"fancybox-image"),e.imageEl=m,c.setContent(e,m,!1),e.panzoom=new Et(d,Fe({transformParent:!0},this.option("Panzoom")||{},{content:m,width:(u,f)=>c.optionFor(e,"width","auto",f)||"auto",height:(u,f)=>c.optionFor(e,"height","auto",f)||"auto",wheel:()=>{let u=c.option("wheel");return(u==="zoom"||u=="pan")&&u},click:(u,f)=>{var g,b;if(c.isCompact||c.isClosing()||e.index!==((g=c.getSlide())===null||g===void 0?void 0:g.index))return!1;if(f){let x=f.composedPath()[0];if(["A","BUTTON","TEXTAREA","OPTION","INPUT","SELECT","VIDEO"].includes(x.nodeName))return!1}let v=!f||f.target&&((b=e.contentEl)===null||b===void 0?void 0:b.contains(f.target));return c.option(v?"contentClick":"backdropClick")||!1},dblClick:()=>c.isCompact?"toggleZoom":c.option("contentDblClick")||!1,spinner:!1,panOnlyZoomed:!0,wheelLimit:1/0,on:{ready:u=>{i(u)},error:()=>{n()},destroy:()=>{n()}}}))})}zoomIn(e){return new Promise((t,i)=>{let n=this.instance,r=n.container,{panzoom:c,contentEl:d,el:m}=e;c&&c.updateMetrics();let u=this.getZoomInfo(e);if(!(u&&m&&d&&c&&r))return void i();let{x:f,y:g,scale:b,opacity:v}=u,x=()=>{e.state!==Ee.Closing&&(v&&(d.style.opacity=Math.max(Math.min(1,1-(1-c.scale)/(1-b)),0)+""),c.scale>=1&&c.scale>c.targetScale-.1&&t(c))},E=O=>{(O.scale<.99||O.scale>1.01)&&!O.isDragging||(Y(r,zi),d.style.opacity="",O.off("endAnimation",E),O.off("touchStart",E),O.off("afterTransform",x),t(O))};c.on("endAnimation",E),c.on("touchStart",E),c.on("afterTransform",x),c.on(["error","destroy"],()=>{i()}),c.panTo({x:f,y:g,scale:b,friction:0,ignoreBounds:!0}),c.stop("current");let y={event:c.panMode==="mousemove"?n.prevMouseMoveEvent||n.options.event:void 0},j=this.optionFor(e,"initialSize");z(r,zi),n.hideLoading(e),j==="full"?c.zoomToFull(y):j==="cover"?c.zoomToCover(y):j==="max"?c.zoomToMax(y):c.reset(.172)})}getZoomInfo(e){let{el:t,imageEl:i,thumbEl:n,panzoom:r}=e,c=this.instance,d=c.container;if(!t||!i||!n||!r||Yo(n)<3||!this.optionFor(e,"zoom")||!d||c.state===ve.Destroy||getComputedStyle(d).getPropertyValue("--f-images-zoom")==="0")return!1;let m=window.visualViewport||null;if((m?m.scale:1)!==1)return!1;let{top:u,left:f,width:g,height:b}=n.getBoundingClientRect(),{top:v,left:x,fitWidth:E,fitHeight:y}=r.contentRect;if(!(g&&b&&E&&y))return!1;let j=r.container.getBoundingClientRect();x+=j.left,v+=j.top;let O=-1*(x+.5*E-(f+.5*g)),A=-1*(v+.5*y-(u+.5*b)),B=g/E,ze=this.option("zoomOpacity")||!1;return ze==="auto"&&(ze=Math.abs(g/b-E/y)>.1),{x:O,y:A,scale:B,opacity:ze}}attach(){let e=this,t=e.instance;t.on("Carousel.change",e.onChange),t.on("Carousel.createSlide",e.onCreateSlide),t.on("Carousel.removeSlide",e.onRemoveSlide),t.on("close",e.onClose)}detach(){let e=this,t=e.instance;t.off("Carousel.change",e.onChange),t.off("Carousel.createSlide",e.onCreateSlide),t.off("Carousel.removeSlide",e.onRemoveSlide),t.off("close",e.onClose)}};Object.defineProperty($i,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{initialSize:"fit",Panzoom:{maxScale:1},protected:!1,zoom:!0,zoomOpacity:"auto"}}),typeof SuppressedError=="function"&&SuppressedError;var Cn="html",To="image",jn="map",it="youtube",vt="vimeo",Yt="html5video",Mo=(l,e={})=>{let t=new URL(l),i=new URLSearchParams(t.search),n=new URLSearchParams;for(let[d,m]of[...i,...Object.entries(e)]){let u=m+"";if(d==="t"){let f=u.match(/((\d*)m)?(\d*)s?/);f&&n.set("start",60*parseInt(f[2]||"0")+parseInt(f[3]||"0")+"")}else n.set(d,u)}let r=n+"",c=l.match(/#t=((.*)?\d+s)/);return c&&(r+=`#t=${c[1]}`),r},Ya={ajax:null,autoSize:!0,iframeAttr:{allow:"autoplay; fullscreen",scrolling:"auto"},preload:!0,videoAutoplay:!0,videoRatio:16/9,videoTpl:`<video class="fancybox__html5video" playsinline controls controlsList="nodownload" poster="{{poster}}">
  <source src="{{src}}" type="{{format}}" />Sorry, your browser doesn't support embedded videos.</video>`,videoFormat:"",vimeo:{byline:1,color:"00adef",controls:1,dnt:1,muted:0},youtube:{controls:1,enablejsapi:1,nocookie:1,rel:0,fs:1}},Xa=["image","html","ajax","inline","clone","iframe","map","pdf","html5video","youtube","vimeo"],Zi=class extends Pe{onBeforeInitSlide(e,t,i){this.processType(i)}onCreateSlide(e,t,i){this.setContent(i)}onClearContent(e,t){t.xhr&&(t.xhr.abort(),t.xhr=null);let i=t.iframeEl;i&&(i.onload=i.onerror=null,i.src="//about:blank",t.iframeEl=null);let n=t.contentEl,r=t.placeholderEl;if(t.type==="inline"&&n&&r)n.classList.remove("fancybox__content"),getComputedStyle(n).getPropertyValue("display")!=="none"&&(n.style.display="none"),setTimeout(()=>{r&&(n&&r.parentNode&&r.parentNode.insertBefore(n,r),r.remove())},0),t.contentEl=void 0,t.placeholderEl=void 0;else for(;t.el&&t.el.firstChild;)t.el.removeChild(t.el.firstChild)}onSelectSlide(e,t,i){i.state===Ee.Ready&&this.playVideo()}onUnselectSlide(e,t,i){var n,r;if(i.type===Yt){try{(r=(n=i.el)===null||n===void 0?void 0:n.querySelector("video"))===null||r===void 0||r.pause()}catch{}return}let c;i.type===vt?c={method:"pause",value:"true"}:i.type===it&&(c={event:"command",func:"pauseVideo"}),c&&i.iframeEl&&i.iframeEl.contentWindow&&i.iframeEl.contentWindow.postMessage(JSON.stringify(c),"*"),i.poller&&clearTimeout(i.poller)}onDone(e,t){e.isCurrentSlide(t)&&!e.isClosing()&&this.playVideo()}onRefresh(e,t){t.slides.forEach(i=>{i.el&&(this.resizeIframe(i),this.setAspectRatio(i))})}onMessage(e){try{let t=JSON.parse(e.data);if(e.origin==="https://player.vimeo.com"){if(t.event==="ready")for(let i of Array.from(document.getElementsByClassName("fancybox__iframe")))i instanceof HTMLIFrameElement&&i.contentWindow===e.source&&(i.dataset.ready="true")}else if(e.origin.match(/^https:\/\/(www.)?youtube(-nocookie)?.com$/)&&t.event==="onReady"){let i=document.getElementById(t.id);i&&(i.dataset.ready="true")}}catch{}}loadAjaxContent(e){let t=this.instance.optionFor(e,"src")||"";this.instance.showLoading(e);let i=this.instance,n=new XMLHttpRequest;i.showLoading(e),n.onreadystatechange=function(){n.readyState===XMLHttpRequest.DONE&&i.state===ve.Ready&&(i.hideLoading(e),n.status===200?i.setContent(e,n.responseText):i.setError(e,n.status===404?"{{AJAX_NOT_FOUND}}":"{{AJAX_FORBIDDEN}}"))};let r=e.ajax||null;n.open(r?"POST":"GET",t+""),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.send(r),e.xhr=n}setInlineContent(e){let t=null;if(Ie(e.src))t=e.src;else if(typeof e.src=="string"){let i=e.src.split("#",2).pop();t=i?document.getElementById(i):null}if(t){if(e.type==="clone"||t.closest(".fancybox__slide")){t=t.cloneNode(!0);let i=t.dataset.animationName;i&&(t.classList.remove(i),delete t.dataset.animationName);let n=t.getAttribute("id");n=n?`${n}--clone`:`clone-${this.instance.id}-${e.index}`,t.setAttribute("id",n)}else if(t.parentNode){let i=document.createElement("div");i.classList.add("fancybox-placeholder"),t.parentNode.insertBefore(i,t),e.placeholderEl=i}this.instance.setContent(e,t)}else this.instance.setError(e,"{{ELEMENT_NOT_FOUND}}")}setIframeContent(e){let{src:t,el:i}=e;if(!t||typeof t!="string"||!i)return;i.classList.add("is-loading");let n=this.instance,r=document.createElement("iframe");r.className="fancybox__iframe",r.setAttribute("id",`fancybox__iframe_${n.id}_${e.index}`);for(let[d,m]of Object.entries(this.optionFor(e,"iframeAttr")||{}))r.setAttribute(d,m);r.onerror=()=>{n.setError(e,"{{IFRAME_ERROR}}")},e.iframeEl=r;let c=this.optionFor(e,"preload");if(e.type!=="iframe"||c===!1)return r.setAttribute("src",e.src+""),n.setContent(e,r,!1),this.resizeIframe(e),void n.revealContent(e);n.showLoading(e),r.onload=()=>{if(!r.src.length)return;let d=r.dataset.ready!=="true";r.dataset.ready="true",this.resizeIframe(e),d?n.revealContent(e):n.hideLoading(e)},r.setAttribute("src",t),n.setContent(e,r,!1)}resizeIframe(e){let{type:t,iframeEl:i}=e;if(t===it||t===vt)return;let n=i?.parentElement;if(!i||!n)return;let r=e.autoSize;r===void 0&&(r=this.optionFor(e,"autoSize"));let c=e.width||0,d=e.height||0;c&&d&&(r=!1);let m=n&&n.style;if(e.preload!==!1&&r!==!1&&m)try{let u=window.getComputedStyle(n),f=parseFloat(u.paddingLeft)+parseFloat(u.paddingRight),g=parseFloat(u.paddingTop)+parseFloat(u.paddingBottom),b=i.contentWindow;if(b){let v=b.document,x=v.getElementsByTagName(Cn)[0],E=v.body;m.width="",E.style.overflow="hidden",c=c||x.scrollWidth+f,m.width=`${c}px`,E.style.overflow="",m.flex="0 0 auto",m.height=`${E.scrollHeight}px`,d=x.scrollHeight+g}}catch{}if(c||d){let u={flex:"0 1 auto",width:"",height:""};c&&c!=="auto"&&(u.width=`${c}px`),d&&d!=="auto"&&(u.height=`${d}px`),Object.assign(m,u)}}playVideo(){let e=this.instance.getSlide();if(!e)return;let{el:t}=e;if(!t||!t.offsetParent||!this.optionFor(e,"videoAutoplay"))return;if(e.type===Yt)try{let n=t.querySelector("video");if(n){let r=n.play();r!==void 0&&r.then(()=>{}).catch(c=>{n.muted=!0,n.play()})}}catch{}if(e.type!==it&&e.type!==vt)return;let i=()=>{if(e.iframeEl&&e.iframeEl.contentWindow){let n;if(e.iframeEl.dataset.ready==="true")return n=e.type===it?{event:"command",func:"playVideo"}:{method:"play",value:"true"},n&&e.iframeEl.contentWindow.postMessage(JSON.stringify(n),"*"),void(e.poller=void 0);e.type===it&&(n={event:"listening",id:e.iframeEl.getAttribute("id")},e.iframeEl.contentWindow.postMessage(JSON.stringify(n),"*"))}e.poller=setTimeout(i,250)};i()}processType(e){if(e.html)return e.type=Cn,e.src=e.html,void(e.html="");let t=this.instance.optionFor(e,"src","");if(!t||typeof t!="string")return;let i=e.type,n=null;if(n=t.match(/(youtube\.com|youtu\.be|youtube\-nocookie\.com)\/(?:watch\?(?:.*&)?v=|v\/|u\/|shorts\/|embed\/?)?(videoseries\?list=(?:.*)|[\w-]{11}|\?listType=(?:.*)&list=(?:.*))(?:.*)/i)){let r=this.optionFor(e,it),{nocookie:c}=r,d=function(g,b){var v={};for(var x in g)Object.prototype.hasOwnProperty.call(g,x)&&b.indexOf(x)<0&&(v[x]=g[x]);if(g!=null&&typeof Object.getOwnPropertySymbols=="function"){var E=0;for(x=Object.getOwnPropertySymbols(g);E<x.length;E++)b.indexOf(x[E])<0&&Object.prototype.propertyIsEnumerable.call(g,x[E])&&(v[x[E]]=g[x[E]])}return v}(r,["nocookie"]),m=`www.youtube${c?"-nocookie":""}.com`,u=Mo(t,d),f=encodeURIComponent(n[2]);e.videoId=f,e.src=`https://${m}/embed/${f}?${u}`,e.thumbSrc=e.thumbSrc||`https://i.ytimg.com/vi/${f}/mqdefault.jpg`,i=it}else if(n=t.match(/^.+vimeo.com\/(?:\/)?([\d]+)((\/|\?h=)([a-z0-9]+))?(.*)?/)){let r=Mo(t,this.optionFor(e,vt)),c=encodeURIComponent(n[1]),d=n[4]||"";e.videoId=c,e.src=`https://player.vimeo.com/video/${c}?${d?`h=${d}${r?"&":""}`:""}${r}`,i=vt}if(!i&&e.triggerEl){let r=e.triggerEl.dataset.type;Xa.includes(r)&&(i=r)}i||typeof t=="string"&&(t.charAt(0)==="#"?i="inline":(n=t.match(/\.(mp4|mov|ogv|webm)((\?|#).*)?$/i))?(i=Yt,e.videoFormat=e.videoFormat||"video/"+(n[1]==="ogv"?"ogg":n[1])):t.match(/(^data:image\/[a-z0-9+\/=]*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\?|#).*)?$)/i)?i=To:t.match(/\.(pdf)((\?|#).*)?$/i)&&(i="pdf")),(n=t.match(/(?:maps\.)?google\.([a-z]{2,3}(?:\.[a-z]{2})?)\/(?:(?:(?:maps\/(?:place\/(?:.*)\/)?\@(.*),(\d+.?\d+?)z))|(?:\?ll=))(.*)?/i))?(e.src=`https://maps.google.${n[1]}/?ll=${(n[2]?n[2]+"&z="+Math.floor(parseFloat(n[3]))+(n[4]?n[4].replace(/^\//,"&"):""):n[4]+"").replace(/\?/,"&")}&output=${n[4]&&n[4].indexOf("layer=c")>0?"svembed":"embed"}`,i=jn):(n=t.match(/(?:maps\.)?google\.([a-z]{2,3}(?:\.[a-z]{2})?)\/(?:maps\/search\/)(.*)/i))&&(e.src=`https://maps.google.${n[1]}/maps?q=${n[2].replace("query=","q=").replace("api=1","")}&output=embed`,i=jn),i=i||this.instance.option("defaultType"),e.type=i,i===To&&(e.thumbSrc=e.thumbSrc||e.src)}setContent(e){let t=this.instance.optionFor(e,"src")||"";if(e&&e.type&&t){switch(e.type){case Cn:this.instance.setContent(e,t);break;case Yt:let i=this.option("videoTpl");i&&this.instance.setContent(e,i.replace(/\{\{src\}\}/gi,t+"").replace(/\{\{format\}\}/gi,this.optionFor(e,"videoFormat")||"").replace(/\{\{poster\}\}/gi,e.poster||e.thumbSrc||""));break;case"inline":case"clone":this.setInlineContent(e);break;case"ajax":this.loadAjaxContent(e);break;case"pdf":case jn:case it:case vt:e.preload=!1;case"iframe":this.setIframeContent(e)}this.setAspectRatio(e)}}setAspectRatio(e){let t=e.contentEl;if(!(e.el&&t&&e.type&&[it,vt,Yt].includes(e.type)))return;let i,n=e.width||"auto",r=e.height||"auto";if(n==="auto"||r==="auto"){i=this.optionFor(e,"videoRatio");let u=(i+"").match(/(\d+)\s*\/\s?(\d+)/);i=u&&u.length>2?parseFloat(u[1])/parseFloat(u[2]):parseFloat(i+"")}else n&&r&&(i=n/r);if(!i)return;t.style.aspectRatio="",t.style.width="",t.style.height="",t.offsetHeight;let c=t.getBoundingClientRect(),d=c.width||1,m=c.height||1;t.style.aspectRatio=i+"",i<d/m?(r=r==="auto"?m:Math.min(m,r),t.style.width="auto",t.style.height=`${r}px`):(n=n==="auto"?d:Math.min(d,n),t.style.width=`${n}px`,t.style.height="auto")}attach(){let e=this,t=e.instance;t.on("Carousel.beforeInitSlide",e.onBeforeInitSlide),t.on("Carousel.createSlide",e.onCreateSlide),t.on("Carousel.selectSlide",e.onSelectSlide),t.on("Carousel.unselectSlide",e.onUnselectSlide),t.on("Carousel.Panzoom.refresh",e.onRefresh),t.on("done",e.onDone),t.on("clearContent",e.onClearContent),window.addEventListener("message",e.onMessage)}detach(){let e=this,t=e.instance;t.off("Carousel.beforeInitSlide",e.onBeforeInitSlide),t.off("Carousel.createSlide",e.onCreateSlide),t.off("Carousel.selectSlide",e.onSelectSlide),t.off("Carousel.unselectSlide",e.onUnselectSlide),t.off("Carousel.Panzoom.refresh",e.onRefresh),t.off("done",e.onDone),t.off("clearContent",e.onClearContent),window.removeEventListener("message",e.onMessage)}};Object.defineProperty(Zi,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:Ya});var Ai="play",Li="pause",Xt="ready",qi=class extends Pe{constructor(){super(...arguments),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:Xt}),Object.defineProperty(this,"inHover",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"timer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"progressBar",{enumerable:!0,configurable:!0,writable:!0,value:null})}get isActive(){return this.state!==Xt}onReady(e){this.option("autoStart")&&(e.isInfinite||e.page<e.pages.length-1)&&this.start()}onChange(){this.removeProgressBar(),this.pause()}onSettle(){this.resume()}onVisibilityChange(){document.visibilityState==="visible"?this.resume():this.pause()}onMouseEnter(){this.inHover=!0,this.pause()}onMouseLeave(){var e;this.inHover=!1,!((e=this.instance.panzoom)===null||e===void 0)&&e.isResting&&this.resume()}onTimerEnd(){let e=this.instance;this.state==="play"&&(e.isInfinite||e.page!==e.pages.length-1?e.slideNext():e.slideTo(0))}removeProgressBar(){this.progressBar&&(this.progressBar.remove(),this.progressBar=null)}createProgressBar(){var e;if(!this.option("showProgress"))return null;this.removeProgressBar();let t=this.instance,i=((e=t.pages[t.page])===null||e===void 0?void 0:e.slides)||[],n=this.option("progressParentEl");if(n||(n=(i.length===1?i[0].el:null)||t.viewport),!n)return null;let r=document.createElement("div");return z(r,"f-progress"),n.prepend(r),this.progressBar=r,r.offsetHeight,r}set(){let e=this,t=e.instance;if(t.pages.length<2||e.timer)return;let i=e.option("timeout");e.state=Ai,z(t.container,"has-autoplay");let n=e.createProgressBar();n&&(n.style.transitionDuration=`${i}ms`,n.style.transform="scaleX(1)"),e.timer=setTimeout(()=>{e.timer=null,e.inHover||e.onTimerEnd()},i),e.emit("set")}clear(){let e=this;e.timer&&(clearTimeout(e.timer),e.timer=null),e.removeProgressBar()}start(){let e=this;if(e.set(),e.state!==Xt){if(e.option("pauseOnHover")){let t=e.instance.container;t.addEventListener("mouseenter",e.onMouseEnter,!1),t.addEventListener("mouseleave",e.onMouseLeave,!1)}document.addEventListener("visibilitychange",e.onVisibilityChange,!1),e.emit("start")}}stop(){let e=this,t=e.state,i=e.instance.container;e.clear(),e.state=Xt,i.removeEventListener("mouseenter",e.onMouseEnter,!1),i.removeEventListener("mouseleave",e.onMouseLeave,!1),document.removeEventListener("visibilitychange",e.onVisibilityChange,!1),Y(i,"has-autoplay"),t!==Xt&&e.emit("stop")}pause(){let e=this;e.state===Ai&&(e.state=Li,e.clear(),e.emit(Li))}resume(){let e=this,t=e.instance;if(t.isInfinite||t.page!==t.pages.length-1)if(e.state!==Ai){if(e.state===Li&&!e.inHover){let i=new Event("resume",{bubbles:!0,cancelable:!0});e.emit("resume",i),i.defaultPrevented||e.set()}}else e.set();else e.stop()}toggle(){this.state===Ai||this.state===Li?this.stop():this.start()}attach(){let e=this,t=e.instance;t.on("ready",e.onReady),t.on("Panzoom.startAnimation",e.onChange),t.on("Panzoom.endAnimation",e.onSettle),t.on("Panzoom.touchMove",e.onChange)}detach(){let e=this,t=e.instance;t.off("ready",e.onReady),t.off("Panzoom.startAnimation",e.onChange),t.off("Panzoom.endAnimation",e.onSettle),t.off("Panzoom.touchMove",e.onChange),e.stop()}};Object.defineProperty(qi,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{autoStart:!0,pauseOnHover:!0,progressParentEl:null,showProgress:!0,timeout:3e3}});var Yi=class extends Pe{constructor(){super(...arguments),Object.defineProperty(this,"ref",{enumerable:!0,configurable:!0,writable:!0,value:null})}onPrepare(e){let t=e.carousel;if(!t)return;let i=e.container;i&&(t.options.Autoplay=Fe({autoStart:!1},this.option("Autoplay")||{},{pauseOnHover:!1,timeout:this.option("timeout"),progressParentEl:()=>this.option("progressParentEl")||null,on:{start:()=>{e.emit("startSlideshow")},set:n=>{var r;i.classList.add("has-slideshow"),((r=e.getSlide())===null||r===void 0?void 0:r.state)!==Ee.Ready&&n.pause()},stop:()=>{i.classList.remove("has-slideshow"),e.isCompact||e.endIdle(),e.emit("endSlideshow")},resume:(n,r)=>{var c,d,m;!r||!r.cancelable||((c=e.getSlide())===null||c===void 0?void 0:c.state)===Ee.Ready&&(!((m=(d=e.carousel)===null||d===void 0?void 0:d.panzoom)===null||m===void 0)&&m.isResting)||r.preventDefault()}}}),t.attachPlugins({Autoplay:qi}),this.ref=t.plugins.Autoplay)}onReady(e){let t=e.carousel,i=this.ref;i&&t&&this.option("playOnStart")&&(t.isInfinite||t.page<t.pages.length-1)&&i.start()}onDone(e,t){let i=this.ref,n=e.carousel;if(!i||!n)return;let r=t.panzoom;r&&r.on("startAnimation",()=>{e.isCurrentSlide(t)&&i.stop()}),e.isCurrentSlide(t)&&i.resume()}onKeydown(e,t){var i;let n=this.ref;n&&t===this.option("key")&&((i=document.activeElement)===null||i===void 0?void 0:i.nodeName)!=="BUTTON"&&n.toggle()}attach(){let e=this,t=e.instance;t.on("Carousel.init",e.onPrepare),t.on("Carousel.ready",e.onReady),t.on("done",e.onDone),t.on("keydown",e.onKeydown)}detach(){let e=this,t=e.instance;t.off("Carousel.init",e.onPrepare),t.off("Carousel.ready",e.onReady),t.off("done",e.onDone),t.off("keydown",e.onKeydown)}};Object.defineProperty(Yi,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{key:" ",playOnStart:!1,progressParentEl:l=>{var e;return((e=l.instance.container)===null||e===void 0?void 0:e.querySelector(".fancybox__toolbar [data-fancybox-toggle-slideshow]"))||l.instance.container},timeout:3e3}});var ea={classes:{container:"f-thumbs f-carousel__thumbs",viewport:"f-thumbs__viewport",track:"f-thumbs__track",slide:"f-thumbs__slide",isResting:"is-resting",isSelected:"is-selected",isLoading:"is-loading",hasThumbs:"has-thumbs"},minCount:2,parentEl:null,thumbTpl:'<button class="f-thumbs__slide__button" tabindex="0" type="button" aria-label="{{GOTO}}" data-carousel-index="%i"><img class="f-thumbs__slide__img" data-lazy-src="{{%s}}" alt="" /></button>',type:"modern"},nt;(function(l){l[l.Init=0]="Init",l[l.Ready=1]="Ready",l[l.Hidden=2]="Hidden"})(nt||(nt={}));var Oo="isResting",Ri="thumbWidth",kt="thumbHeight",qe="thumbClipWidth",ta=class extends Pe{constructor(){super(...arguments),Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:"modern"}),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"track",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"carousel",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"thumbWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"thumbClipWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"thumbHeight",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"thumbGap",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"thumbExtraGap",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:nt.Init})}get isModern(){return this.type==="modern"}onInitSlide(l,e){let t=e.el?e.el.dataset:void 0;t&&(e.thumbSrc=t.thumbSrc||e.thumbSrc||"",e[qe]=parseFloat(t[qe]||"")||e[qe]||0,e[kt]=parseFloat(t.thumbHeight||"")||e[kt]||0),this.addSlide(e)}onInitSlides(){this.build()}onChange(){var l;if(!this.isModern)return;let e=this.container,t=this.instance,i=t.panzoom,n=this.carousel,r=n?n.panzoom:null,c=t.page;if(i&&n&&r){if(i.isDragging){Y(e,this.cn(Oo));let d=((l=n.pages[c])===null||l===void 0?void 0:l.pos)||0;d+=t.getProgress(c)*(this[qe]+this.thumbGap);let m=r.getBounds();-1*d>m.x.min&&-1*d<m.x.max&&r.panTo({x:-1*d,friction:.12})}else Xe(e,this.cn(Oo),i.isResting);this.shiftModern()}}onRefresh(){this.updateProps();for(let l of this.instance.slides||[])this.resizeModernSlide(l);this.shiftModern()}isDisabled(){let l=this.option("minCount")||0;if(l){let t=this.instance,i=0;for(let n of t.slides||[])n.thumbSrc&&i++;if(i<l)return!0}let e=this.option("type");return["modern","classic"].indexOf(e)<0}getThumb(l){let e=this.option("thumbTpl")||"";return{html:this.instance.localize(e,[["%i",l.index],["%d",l.index+1],["%s",l.thumbSrc||"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"]])}}addSlide(l){let e=this.carousel;e&&e.addSlide(l.index,this.getThumb(l))}getSlides(){let l=[];for(let e of this.instance.slides||[])l.push(this.getThumb(e));return l}resizeModernSlide(l){this.isModern&&(l[Ri]=l[qe]&&l[kt]?Math.round(this[kt]*(l[qe]/l[kt])):this[Ri])}updateProps(){let l=this.container;if(!l)return;let e=t=>parseFloat(getComputedStyle(l).getPropertyValue("--f-thumb-"+t))||0;this.thumbGap=e("gap"),this.thumbExtraGap=e("extra-gap"),this[Ri]=e("width")||40,this[qe]=e("clip-width")||40,this[kt]=e("height")||40}build(){let l=this;if(l.state!==nt.Init)return;if(l.isDisabled())return void l.emit("disabled");let e=l.instance,t=e.container,i=l.getSlides(),n=l.option("type");l.type=n;let r=l.option("parentEl"),c=l.cn("container"),d=l.cn("track"),m=r?.querySelector("."+c);m||(m=document.createElement("div"),z(m,c),r?r.appendChild(m):t.after(m)),z(m,`is-${n}`),z(t,l.cn("hasThumbs")),l.container=m,l.updateProps();let u=m.querySelector("."+d);u||(u=document.createElement("div"),z(u,l.cn("track")),m.appendChild(u)),l.track=u;let f=Fe({},{track:u,infinite:!1,center:!0,fill:n==="classic",dragFree:!0,slidesPerPage:1,transition:!1,preload:.25,friction:.12,Panzoom:{maxVelocity:0},Dots:!1,Navigation:!1,classes:{container:"f-thumbs",viewport:"f-thumbs__viewport",track:"f-thumbs__track",slide:"f-thumbs__slide"}},l.option("Carousel")||{},{Sync:{target:e},slides:i}),g=new e.constructor(m,f);g.on("createSlide",(b,v)=>{l.setProps(v.index),l.emit("createSlide",v,v.el)}),g.on("ready",()=>{l.shiftModern(),l.emit("ready")}),g.on("refresh",()=>{l.shiftModern()}),g.on("Panzoom.click",(b,v,x)=>{l.onClick(x)}),l.carousel=g,l.state=nt.Ready}onClick(l){l.preventDefault(),l.stopPropagation();let e=this.instance,{pages:t,page:i}=e,n=E=>{if(E){let y=E.closest("[data-carousel-index]");if(y)return[parseInt(y.dataset.carouselIndex||"",10)||0,y]}return[-1,void 0]},r=(E,y)=>{let j=document.elementFromPoint(E,y);return j?n(j):[-1,void 0]},[c,d]=n(l.target);if(c>-1)return;let m=this[qe],u=l.clientX,f=l.clientY,[g,b]=r(u-m,f),[v,x]=r(u+m,f);b&&x?(c=Math.abs(u-b.getBoundingClientRect().right)<Math.abs(u-x.getBoundingClientRect().left)?g:v,c===i&&(c=c===g?v:g)):b?c=g:x&&(c=v),c>-1&&t[c]&&e.slideTo(c)}getShift(l){var e;let t=this,{instance:i}=t,n=t.carousel;if(!i||!n)return 0;let r=t[Ri],c=t[qe],d=t.thumbGap,m=t.thumbExtraGap;if(!(!((e=n.slides[l])===null||e===void 0)&&e.el))return 0;let u=.5*(r-c),f=i.pages.length-1,g=i.getProgress(0),b=i.getProgress(f),v=i.getProgress(l,!1,!0),x=0,E=u+m+d,y=g<0&&g>-1,j=b>0&&b<1;return l===0?(x=E*Math.abs(g),j&&g===1&&(x-=E*Math.abs(b))):l===f?(x=E*Math.abs(b)*-1,y&&b===-1&&(x+=E*Math.abs(g))):y||j?(x=-1*E,x+=E*Math.abs(g),x+=E*(1-Math.abs(b))):x=E*v,x}setProps(l){var e;let t=this;if(!t.isModern)return;let{instance:i}=t,n=t.carousel;if(i&&n){let r=(e=n.slides[l])===null||e===void 0?void 0:e.el;if(r&&r.childNodes.length){let c=T(1-Math.abs(i.getProgress(l))),d=T(t.getShift(l));r.style.setProperty("--progress",c?c+"":""),r.style.setProperty("--shift",d+"")}}}shiftModern(){let l=this;if(!l.isModern)return;let{instance:e,track:t}=l,i=e.panzoom,n=l.carousel;if(!(e&&t&&i&&n)||i.state===G.Init||i.state===G.Destroy)return;for(let c of e.slides)l.setProps(c.index);let r=(l[qe]+l.thumbGap)*(n.slides.length||0);t.style.setProperty("--width",r+"")}cleanup(){let l=this;l.carousel&&l.carousel.destroy(),l.carousel=null,l.container&&l.container.remove(),l.container=null,l.track&&l.track.remove(),l.track=null,l.state=nt.Init,Y(l.instance.container,l.cn("hasThumbs"))}attach(){let l=this,e=l.instance;e.on("initSlide",l.onInitSlide),e.state===ce.Init?e.on("initSlides",l.onInitSlides):l.onInitSlides(),e.on(["change","Panzoom.afterTransform"],l.onChange),e.on("Panzoom.refresh",l.onRefresh)}detach(){let l=this,e=l.instance;e.off("initSlide",l.onInitSlide),e.off("initSlides",l.onInitSlides),e.off(["change","Panzoom.afterTransform"],l.onChange),e.off("Panzoom.refresh",l.onRefresh),l.cleanup()}};Object.defineProperty(ta,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:ea});var Ga=Object.assign(Object.assign({},ea),{key:"t",showOnStart:!0,parentEl:null}),ko="is-masked",Do="aria-hidden",Xi=class extends Pe{constructor(){super(...arguments),Object.defineProperty(this,"ref",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"hidden",{enumerable:!0,configurable:!0,writable:!0,value:!1})}get isEnabled(){let e=this.ref;return e&&!e.isDisabled()}get isHidden(){return this.hidden}onClick(e,t){t.stopPropagation()}onCreateSlide(e,t){var i,n,r;let c=((r=(n=(i=this.instance)===null||i===void 0?void 0:i.carousel)===null||n===void 0?void 0:n.slides[t.index])===null||r===void 0?void 0:r.type)||"",d=t.el;if(d&&c){let m=`for-${c}`;["video","youtube","vimeo","html5video"].includes(c)&&(m+=" for-video"),z(d,m)}}onInit(){var e;let t=this,i=t.instance,n=i.carousel;if(t.ref||!n)return;let r=t.option("parentEl")||i.footer||i.container;if(!r)return;let c=Fe({},t.options,{parentEl:r,classes:{container:"f-thumbs fancybox__thumbs"},Carousel:{Sync:{friction:i.option("Carousel.friction")||0}},on:{ready:d=>{let m=d.container;m&&this.hidden&&(t.refresh(),m.style.transition="none",t.hide(),m.offsetHeight,queueMicrotask(()=>{m.style.transition="",t.show()}))}}});c.Carousel=c.Carousel||{},c.Carousel.on=Fe(((e=t.options.Carousel)===null||e===void 0?void 0:e.on)||{},{click:this.onClick,createSlide:this.onCreateSlide}),n.options.Thumbs=c,n.attachPlugins({Thumbs:ta}),t.ref=n.plugins.Thumbs,t.option("showOnStart")||(t.ref.state=nt.Hidden,t.hidden=!0)}onResize(){var e;let t=(e=this.ref)===null||e===void 0?void 0:e.container;t&&(t.style.maxHeight="")}onKeydown(e,t){let i=this.option("key");i&&i===t&&this.toggle()}toggle(){let e=this.ref;if(e&&!e.isDisabled())return e.state===nt.Hidden?(e.state=nt.Init,void e.build()):void(this.hidden?this.show():this.hide())}show(){let e=this.ref;if(!e||e.isDisabled())return;let t=e.container;t&&(this.refresh(),t.offsetHeight,t.removeAttribute(Do),t.classList.remove(ko),this.hidden=!1)}hide(){let e=this.ref,t=e&&e.container;t&&(this.refresh(),t.offsetHeight,t.classList.add(ko),t.setAttribute(Do,"true")),this.hidden=!0}refresh(){let e=this.ref;if(!e||!e.state)return;let t=e.container,i=t?.firstChild||null;t&&i&&i.childNodes.length&&(t.style.maxHeight=`${i.getBoundingClientRect().height}px`)}attach(){let e=this,t=e.instance;t.state===ve.Init?t.on("Carousel.init",e.onInit):e.onInit(),t.on("resize",e.onResize),t.on("keydown",e.onKeydown)}detach(){var e;let t=this,i=t.instance;i.off("Carousel.init",t.onInit),i.off("resize",t.onResize),i.off("keydown",t.onKeydown),(e=i.carousel)===null||e===void 0||e.detachPlugins(["Thumbs"]),t.ref=null}};Object.defineProperty(Xi,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:Ga});var In={panLeft:{icon:'<svg><path d="M5 12h14M5 12l6 6M5 12l6-6"/></svg>',change:{panX:-100}},panRight:{icon:'<svg><path d="M5 12h14M13 18l6-6M13 6l6 6"/></svg>',change:{panX:100}},panUp:{icon:'<svg><path d="M12 5v14M18 11l-6-6M6 11l6-6"/></svg>',change:{panY:-100}},panDown:{icon:'<svg><path d="M12 5v14M18 13l-6 6M6 13l6 6"/></svg>',change:{panY:100}},zoomIn:{icon:'<svg><circle cx="11" cy="11" r="7.5"/><path d="m21 21-4.35-4.35M11 8v6M8 11h6"/></svg>',action:"zoomIn"},zoomOut:{icon:'<svg><circle cx="11" cy="11" r="7.5"/><path d="m21 21-4.35-4.35M8 11h6"/></svg>',action:"zoomOut"},toggle1to1:{icon:'<svg><path d="M3.51 3.07c5.74.02 11.48-.02 17.22.02 1.37.1 2.34 1.64 2.18 3.13 0 4.08.02 8.16 0 12.23-.1 1.54-1.47 2.64-2.79 2.46-5.61-.01-11.24.02-16.86-.01-1.36-.12-2.33-1.65-2.17-3.14 0-4.07-.02-8.16 0-12.23.1-1.36 1.22-2.48 2.42-2.46Z"/><path d="M5.65 8.54h1.49v6.92m8.94-6.92h1.49v6.92M11.5 9.4v.02m0 5.18v0"/></svg>',action:"toggleZoom"},toggleZoom:{icon:'<svg><g><line x1="11" y1="8" x2="11" y2="14"></line></g><circle cx="11" cy="11" r="7.5"/><path d="m21 21-4.35-4.35M8 11h6"/></svg>',action:"toggleZoom"},iterateZoom:{icon:'<svg><g><line x1="11" y1="8" x2="11" y2="14"></line></g><circle cx="11" cy="11" r="7.5"/><path d="m21 21-4.35-4.35M8 11h6"/></svg>',action:"iterateZoom"},rotateCCW:{icon:'<svg><path d="M15 4.55a8 8 0 0 0-6 14.9M9 15v5H4M18.37 7.16v.01M13 19.94v.01M16.84 18.37v.01M19.37 15.1v.01M19.94 11v.01"/></svg>',action:"rotateCCW"},rotateCW:{icon:'<svg><path d="M9 4.55a8 8 0 0 1 6 14.9M15 15v5h5M5.63 7.16v.01M4.06 11v.01M4.63 15.1v.01M7.16 18.37v.01M11 19.94v.01"/></svg>',action:"rotateCW"},flipX:{icon:'<svg style="stroke-width: 1.3"><path d="M12 3v18M16 7v10h5L16 7M8 7v10H3L8 7"/></svg>',action:"flipX"},flipY:{icon:'<svg style="stroke-width: 1.3"><path d="M3 12h18M7 16h10L7 21v-5M7 8h10L7 3v5"/></svg>',action:"flipY"},fitX:{icon:'<svg><path d="M4 12V6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v6M10 18H3M21 18h-7M6 15l-3 3 3 3M18 15l3 3-3 3"/></svg>',action:"fitX"},fitY:{icon:'<svg><path d="M12 20H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h6M18 14v7M18 3v7M15 18l3 3 3-3M15 6l3-3 3 3"/></svg>',action:"fitY"},reset:{icon:'<svg><path d="M20 11A8.1 8.1 0 0 0 4.5 9M4 5v4h4M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4"/></svg>',action:"reset"},toggleFS:{icon:'<svg><g><path d="M14.5 9.5 21 3m0 0h-6m6 0v6M3 21l6.5-6.5M3 21v-6m0 6h6"/></g><g><path d="m14 10 7-7m-7 7h6m-6 0V4M3 21l7-7m0 0v6m0-6H4"/></g></svg>',action:"toggleFS"}},yt;(function(l){l[l.Init=0]="Init",l[l.Ready=1]="Ready",l[l.Disabled=2]="Disabled"})(yt||(yt={}));var Ka={absolute:"auto",display:{left:["infobar"],middle:[],right:["iterateZoom","slideshow","fullscreen","thumbs","close"]},enabled:"auto",items:{infobar:{tpl:'<div class="fancybox__infobar" tabindex="-1"><span data-fancybox-current-index></span>/<span data-fancybox-count></span></div>'},download:{tpl:'<a class="f-button" title="{{DOWNLOAD}}" data-fancybox-download href="javasript:;"><svg><path d="M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2M7 11l5 5 5-5M12 4v12"/></svg></a>'},prev:{tpl:'<button class="f-button" title="{{PREV}}" data-fancybox-prev><svg><path d="m15 6-6 6 6 6"/></svg></button>'},next:{tpl:'<button class="f-button" title="{{NEXT}}" data-fancybox-next><svg><path d="m9 6 6 6-6 6"/></svg></button>'},slideshow:{tpl:'<button class="f-button" title="{{TOGGLE_SLIDESHOW}}" data-fancybox-toggle-slideshow><svg><g><path d="M8 4v16l13 -8z"></path></g><g><path d="M8 4v15M17 4v15"/></g></svg></button>'},fullscreen:{tpl:'<button class="f-button" title="{{TOGGLE_FULLSCREEN}}" data-fancybox-toggle-fullscreen><svg><g><path d="M4 8V6a2 2 0 0 1 2-2h2M4 16v2a2 2 0 0 0 2 2h2M16 4h2a2 2 0 0 1 2 2v2M16 20h2a2 2 0 0 0 2-2v-2"/></g><g><path d="M15 19v-2a2 2 0 0 1 2-2h2M15 5v2a2 2 0 0 0 2 2h2M5 15h2a2 2 0 0 1 2 2v2M5 9h2a2 2 0 0 0 2-2V5"/></g></svg></button>'},thumbs:{tpl:'<button class="f-button" title="{{TOGGLE_THUMBS}}" data-fancybox-toggle-thumbs><svg><circle cx="5.5" cy="5.5" r="1"/><circle cx="12" cy="5.5" r="1"/><circle cx="18.5" cy="5.5" r="1"/><circle cx="5.5" cy="12" r="1"/><circle cx="12" cy="12" r="1"/><circle cx="18.5" cy="12" r="1"/><circle cx="5.5" cy="18.5" r="1"/><circle cx="12" cy="18.5" r="1"/><circle cx="18.5" cy="18.5" r="1"/></svg></button>'},close:{tpl:'<button class="f-button" title="{{CLOSE}}" data-fancybox-close><svg><path d="m19.5 4.5-15 15M4.5 4.5l15 15"/></svg></button>'}},parentEl:null},Qa={tabindex:"-1",width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},zo="has-toolbar",Fn="fancybox__toolbar",Gi=class extends Pe{constructor(){super(...arguments),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:yt.Init}),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:null})}onReady(e){var t;if(!e.carousel)return;let i=this.option("display"),n=this.option("absolute"),r=this.option("enabled");if(r==="auto"){let u=this.instance.carousel,f=0;if(u)for(let g of u.slides)(g.panzoom||g.type==="image")&&f++;f||(r=!1)}r||(i=void 0);let c=0,d={left:[],middle:[],right:[]};if(i)for(let u of["left","middle","right"])for(let f of i[u]){let g=this.createEl(f);g&&((t=d[u])===null||t===void 0||t.push(g),c++)}let m=null;if(c&&(m=this.createContainer()),m){for(let[u,f]of Object.entries(d)){let g=document.createElement("div");z(g,Fn+"__column is-"+u);for(let b of f)g.appendChild(b);n!=="auto"||u!=="middle"||f.length||(n=!0),m.appendChild(g)}n===!0&&z(m,"is-absolute"),this.state=yt.Ready,this.onRefresh()}else this.state=yt.Disabled}onClick(e){var t,i;let n=this.instance,r=n.getSlide(),c=r?.panzoom,d=e.target,m=d&&Ie(d)?d.dataset:null;if(!m)return;if(m.fancyboxToggleThumbs!==void 0)return e.preventDefault(),e.stopPropagation(),void((t=n.plugins.Thumbs)===null||t===void 0||t.toggle());if(m.fancyboxToggleFullscreen!==void 0)return e.preventDefault(),e.stopPropagation(),void this.instance.toggleFullscreen();if(m.fancyboxToggleSlideshow!==void 0){e.preventDefault(),e.stopPropagation();let g=(i=n.carousel)===null||i===void 0?void 0:i.plugins.Autoplay,b=g.isActive;return c&&c.panMode==="mousemove"&&!b&&c.reset(),void(b?g.stop():g.start())}let u=m.panzoomAction,f=m.panzoomChange;if((f||u)&&(e.preventDefault(),e.stopPropagation()),f){let g={};try{g=JSON.parse(f)}catch{}c&&c.applyChange(g)}else u&&c&&c[u]&&c[u]()}onChange(){this.onRefresh()}onRefresh(){if(this.instance.isClosing())return;let e=this.container;if(!e)return;let t=this.instance.getSlide();if(!t||t.state!==Ee.Ready)return;let i=t&&!t.error&&t.panzoom;for(let c of e.querySelectorAll("[data-panzoom-action]"))i?(c.removeAttribute("disabled"),c.removeAttribute("tabindex")):(c.setAttribute("disabled",""),c.setAttribute("tabindex","-1"));let n=i&&i.canZoomIn(),r=i&&i.canZoomOut();for(let c of e.querySelectorAll('[data-panzoom-action="zoomIn"]'))n?(c.removeAttribute("disabled"),c.removeAttribute("tabindex")):(c.setAttribute("disabled",""),c.setAttribute("tabindex","-1"));for(let c of e.querySelectorAll('[data-panzoom-action="zoomOut"]'))r?(c.removeAttribute("disabled"),c.removeAttribute("tabindex")):(c.setAttribute("disabled",""),c.setAttribute("tabindex","-1"));for(let c of e.querySelectorAll('[data-panzoom-action="toggleZoom"],[data-panzoom-action="iterateZoom"]')){r||n?(c.removeAttribute("disabled"),c.removeAttribute("tabindex")):(c.setAttribute("disabled",""),c.setAttribute("tabindex","-1"));let d=c.querySelector("g");d&&(d.style.display=n?"":"none")}}onDone(e,t){var i;(i=t.panzoom)===null||i===void 0||i.on("afterTransform",()=>{this.instance.isCurrentSlide(t)&&this.onRefresh()}),this.instance.isCurrentSlide(t)&&this.onRefresh()}createContainer(){let e=this.instance.container;if(!e)return null;let t=this.option("parentEl")||e,i=t.querySelector("."+Fn);return i||(i=document.createElement("div"),z(i,Fn),t.prepend(i)),i.addEventListener("click",this.onClick,{passive:!1,capture:!0}),e&&z(e,zo),this.container=i,i}createEl(e){let t=this.instance,i=t.carousel;if(!i||e==="toggleFS"||e==="fullscreen"&&!Xo())return null;let n=null,r=i.slides.length||0,c=0,d=0;for(let u of i.slides)(u.panzoom||u.type==="image")&&c++,(u.type==="image"||u.downloadSrc)&&d++;if(r<2&&["infobar","prev","next"].includes(e))return n;if(In[e]!==void 0&&!c||e==="download"&&!d)return null;if(e==="thumbs"){let u=t.plugins.Thumbs;if(!u||!u.isEnabled)return null}if(e==="slideshow"&&(!i.plugins.Autoplay||r<2))return null;if(In[e]!==void 0){let u=In[e];n=document.createElement("button"),n.setAttribute("title",this.instance.localize(`{{${e.toUpperCase()}}}`)),z(n,"f-button"),u.action&&(n.dataset.panzoomAction=u.action),u.change&&(n.dataset.panzoomChange=JSON.stringify(u.change)),n.appendChild(Ye(this.instance.localize(u.icon)))}else{let u=(this.option("items")||[])[e];u&&(n=Ye(this.instance.localize(u.tpl)),typeof u.click=="function"&&n.addEventListener("click",f=>{f.preventDefault(),f.stopPropagation(),typeof u.click=="function"&&u.click.call(this,this,f)}))}let m=n?.querySelector("svg");if(m)for(let[u,f]of Object.entries(Qa))m.getAttribute(u)||m.setAttribute(u,String(f));return n}removeContainer(){let e=this.container;e&&e.remove(),this.container=null,this.state=yt.Disabled;let t=this.instance.container;t&&Y(t,zo)}attach(){let e=this,t=e.instance;t.on("Carousel.initSlides",e.onReady),t.on("done",e.onDone),t.on(["reveal","Carousel.change"],e.onChange),e.onReady(e.instance)}detach(){let e=this,t=e.instance;t.off("Carousel.initSlides",e.onReady),t.off("done",e.onDone),t.off(["reveal","Carousel.change"],e.onChange),e.removeContainer()}};Object.defineProperty(Gi,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:Ka});var Ja={Hash:class extends Pe{onReady(){Gt=!1}onChange(l){xt&&clearTimeout(xt);let{hash:e}=Go(),{hash:t}=Wi(),i=l.isOpeningSlide(l.getSlide());i&&(Fo=t===e?"":t),e&&e!==t&&(xt=setTimeout(()=>{try{if(l.state===ve.Ready){let n="replaceState";i&&!Di&&(n="pushState",Di=!0),window.history[n]({},document.title,window.location.pathname+window.location.search+e)}}catch{}},300))}onClose(l){if(xt&&clearTimeout(xt),!Gt&&Di)return Di=!1,Gt=!1,void window.history.back();if(!Gt)try{window.history.replaceState({},document.title,window.location.pathname+window.location.search+(Fo||""))}catch{}}attach(){let l=this.instance;l.on("ready",this.onReady),l.on(["Carousel.ready","Carousel.change"],this.onChange),l.on("close",this.onClose)}detach(){let l=this.instance;l.off("ready",this.onReady),l.off(["Carousel.ready","Carousel.change"],this.onChange),l.off("close",this.onClose)}static parseURL(){return Wi()}static startFromUrl(){Ko()}static destroy(){window.removeEventListener("hashchange",Jo,!1)}},Html:Zi,Images:$i,Slideshow:Yi,Thumbs:Xi,Toolbar:Gi},Ao="with-fancybox",Pn="hide-scrollbar",Lo="--fancybox-scrollbar-compensate",Ro="--fancybox-body-margin",Tn="aria-hidden",Mn="is-using-tab",On="is-animated",No="is-compact",Vo="is-loading",kn="is-opening",Ni="has-caption",Dt="disabled",bt="tabindex",Bo="download",Dn="href",zt="src",ut=l=>typeof l=="string",Ho=function(){var l=window.getSelection();return!!l&&l.type==="Range"},ke,De=null,St=null,Uo=0,Wo=0,$o=0,Zo=0,At=new Map,er=0,q=class l extends Qt{get isIdle(){return this.idle}get isCompact(){return this.option("compact")}constructor(e=[],t={},i={}){super(t),Object.defineProperty(this,"userSlides",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"userPlugins",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"idle",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"idleTimer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"clickTimer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"pwt",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"ignoreFocusChange",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"startedFs",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:ve.Init}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"footer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"carousel",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"lastFocus",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"prevMouseMoveEvent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),ke||(ke=Xo()),this.id=t.id||++er,At.set(this.id,this),this.userSlides=e,this.userPlugins=i,queueMicrotask(()=>{this.init()})}init(){if(this.state===ve.Destroy)return;this.state=ve.Init,this.attachPlugins(Object.assign(Object.assign({},l.Plugins),this.userPlugins)),this.emit("init"),this.emit("attachPlugins"),this.option("hideScrollbar")===!0&&(()=>{if(!Kt)return;let t=document,i=t.body,n=t.documentElement;if(i.classList.contains(Pn))return;let r=window.innerWidth-n.getBoundingClientRect().width,c=parseFloat(window.getComputedStyle(i).marginRight);r<0&&(r=0),n.style.setProperty(Lo,`${r}px`),c&&i.style.setProperty(Ro,`${c}px`),i.classList.add(Pn)})(),this.initLayout(),this.scale();let e=()=>{this.initCarousel(this.userSlides),this.state=ve.Ready,this.attachEvents(),this.emit("ready"),setTimeout(()=>{this.container&&this.container.setAttribute(Tn,"false")},16)};this.option("Fullscreen.autoStart")&&ke&&!ke.isFullscreen()?ke.request().then(()=>{this.startedFs=!0,e()}).catch(()=>e()):e()}initLayout(){var e,t;let i=this.option("parentEl")||document.body,n=Ye(this.localize(this.option("tpl.main")||""));if(n){if(n.setAttribute("id",`fancybox-${this.id}`),n.setAttribute("aria-label",this.localize("{{MODAL}}")),n.classList.toggle(No,this.isCompact),z(n,this.option("mainClass")||""),z(n,kn),this.container=n,this.footer=n.querySelector(".fancybox__footer"),i.appendChild(n),z(document.documentElement,Ao),De&&St||(De=document.createElement("span"),z(De,"fancybox-focus-guard"),De.setAttribute(bt,"0"),De.setAttribute(Tn,"true"),De.setAttribute("aria-label","Focus guard"),St=De.cloneNode(),(e=n.parentElement)===null||e===void 0||e.insertBefore(De,n),(t=n.parentElement)===null||t===void 0||t.append(St)),n.addEventListener("mousedown",r=>{Uo=r.pageX,Wo=r.pageY,Y(n,Mn)}),this.option("closeExisting"))for(let r of At.values())r.id!==this.id&&r.close();else this.option("animated")&&(z(n,On),setTimeout(()=>{this.isClosing()||Y(n,On)},350));this.emit("initLayout")}}initCarousel(e){let t=this.container;if(!t)return;let i=t.querySelector(".fancybox__carousel");if(!i)return;let n=this.carousel=new Lt(i,Fe({},{slides:e,transition:"fade",Panzoom:{lockAxis:this.option("dragToClose")?"xy":"x",infinite:!!this.option("dragToClose")&&"y"},Dots:!1,Navigation:{classes:{container:"fancybox__nav",button:"f-button",isNext:"is-next",isPrev:"is-prev"}},initialPage:this.option("startIndex"),l10n:this.option("l10n")},this.option("Carousel")||{}));n.on("*",(r,c,...d)=>{this.emit(`Carousel.${c}`,r,...d)}),n.on(["ready","change"],()=>{this.manageCaption()}),this.on("Carousel.removeSlide",(r,c,d)=>{this.clearContent(d),d.state=void 0}),n.on("Panzoom.touchStart",()=>{var r,c;this.isCompact||this.endIdle(),!((r=document.activeElement)===null||r===void 0)&&r.closest(".f-thumbs")&&((c=this.container)===null||c===void 0||c.focus())}),n.on("settle",()=>{this.idleTimer||this.isCompact||!this.option("idle")||this.setIdle(),this.option("autoFocus")&&!this.isClosing&&this.checkFocus()}),this.option("dragToClose")&&(n.on("Panzoom.afterTransform",(r,c)=>{let d=this.getSlide();if(d&&zn(d.el))return;let m=this.container;if(m){let u=Math.abs(c.current.f),f=u<1?"":Math.max(.5,Math.min(1,1-u/c.contentRect.fitHeight*1.5));m.style.setProperty("--fancybox-ts",f?"0s":""),m.style.setProperty("--fancybox-opacity",f+"")}}),n.on("Panzoom.touchEnd",(r,c,d)=>{var m;let u=this.getSlide();if(u&&zn(u.el)||c.isMobile&&document.activeElement&&["TEXTAREA","INPUT"].indexOf((m=document.activeElement)===null||m===void 0?void 0:m.nodeName)!==-1)return;let f=Math.abs(c.dragOffset.y);c.lockedAxis==="y"&&(f>=200||f>=50&&c.dragOffset.time<300)&&(d&&d.cancelable&&d.preventDefault(),this.close(d,"f-throwOut"+(c.current.f<0?"Up":"Down")))})),n.on("change",r=>{var c;let d=(c=this.getSlide())===null||c===void 0?void 0:c.triggerEl;if(d){let m=new CustomEvent("slideTo",{bubbles:!0,cancelable:!0,detail:r.page});d.dispatchEvent(m)}}),n.on(["refresh","change"],r=>{let c=this.container;if(!c)return;for(let u of c.querySelectorAll("[data-fancybox-current-index]"))u.innerHTML=r.page+1;for(let u of c.querySelectorAll("[data-fancybox-count]"))u.innerHTML=r.pages.length;if(!r.isInfinite){for(let u of c.querySelectorAll("[data-fancybox-next]"))r.page<r.pages.length-1?(u.removeAttribute(Dt),u.removeAttribute(bt)):(u.setAttribute(Dt,""),u.setAttribute(bt,"-1"));for(let u of c.querySelectorAll("[data-fancybox-prev]"))r.page>0?(u.removeAttribute(Dt),u.removeAttribute(bt)):(u.setAttribute(Dt,""),u.setAttribute(bt,"-1"))}let d=this.getSlide();if(!d)return;let m=d.downloadSrc||"";m||d.type!=="image"||d.error||!ut(d[zt])||(m=d[zt]);for(let u of c.querySelectorAll("[data-fancybox-download]")){let f=d.downloadFilename;m?(u.removeAttribute(Dt),u.removeAttribute(bt),u.setAttribute(Dn,m),u.setAttribute(Bo,f||m),u.setAttribute("target","_blank")):(u.setAttribute(Dt,""),u.setAttribute(bt,"-1"),u.removeAttribute(Dn),u.removeAttribute(Bo))}}),this.emit("initCarousel")}attachEvents(){let e=this,t=e.container;if(!t)return;t.addEventListener("click",e.onClick,{passive:!1,capture:!1}),t.addEventListener("wheel",e.onWheel,{passive:!1,capture:!1}),document.addEventListener("keydown",e.onKeydown,{passive:!1,capture:!0}),document.addEventListener("visibilitychange",e.onVisibilityChange,!1),document.addEventListener("mousemove",e.onMousemove),e.option("trapFocus")&&document.addEventListener("focus",e.onFocus,!0),window.addEventListener("resize",e.onResize);let i=window.visualViewport;i&&(i.addEventListener("scroll",e.onResize),i.addEventListener("resize",e.onResize))}detachEvents(){let e=this,t=e.container;if(!t)return;document.removeEventListener("keydown",e.onKeydown,{passive:!1,capture:!0}),t.removeEventListener("wheel",e.onWheel,{passive:!1,capture:!1}),t.removeEventListener("click",e.onClick,{passive:!1,capture:!1}),document.removeEventListener("mousemove",e.onMousemove),window.removeEventListener("resize",e.onResize);let i=window.visualViewport;i&&(i.removeEventListener("resize",e.onResize),i.removeEventListener("scroll",e.onResize)),document.removeEventListener("visibilitychange",e.onVisibilityChange,!1),document.removeEventListener("focus",e.onFocus,!0)}scale(){let e=this.container;if(!e)return;let t=window.visualViewport,i=Math.max(1,t?.scale||1),n="",r="",c="";if(t&&i>1){let d=`${t.offsetLeft}px`,m=`${t.offsetTop}px`;n=t.width*i+"px",r=t.height*i+"px",c=`translate3d(${d}, ${m}, 0) scale(${1/i})`}e.style.transform=c,e.style.width=n,e.style.height=r}onClick(e){var t;let{container:i,isCompact:n}=this;if(!i||this.isClosing())return;!n&&this.option("idle")&&this.resetIdle();let r=e.composedPath()[0];if(r.closest(".fancybox-spinner")||r.closest("[data-fancybox-close]"))return e.preventDefault(),void this.close(e);if(r.closest("[data-fancybox-prev]"))return e.preventDefault(),void this.prev();if(r.closest("[data-fancybox-next]"))return e.preventDefault(),void this.next();if(e.type==="click"&&e.detail===0||Math.abs(e.pageX-Uo)>30||Math.abs(e.pageY-Wo)>30)return;let c=document.activeElement;if(Ho()&&c&&i.contains(c))return;if(n&&((t=this.getSlide())===null||t===void 0?void 0:t.type)==="image")return void(this.clickTimer?(clearTimeout(this.clickTimer),this.clickTimer=null):this.clickTimer=setTimeout(()=>{this.toggleIdle(),this.clickTimer=null},350));if(this.emit("click",e),e.defaultPrevented)return;let d=!1;if(r.closest(".fancybox__content")){if(c){if(c.closest("[contenteditable]"))return;r.matches(wn)||c.blur()}if(Ho())return;d=this.option("contentClick")}else r.closest(".fancybox__carousel")&&!r.matches(wn)&&(d=this.option("backdropClick"));d==="close"?(e.preventDefault(),this.close(e)):d==="next"?(e.preventDefault(),this.next()):d==="prev"&&(e.preventDefault(),this.prev())}onWheel(e){let t=e.target,i=this.option("wheel",e);t.closest(".fancybox__thumbs")&&(i="slide");let n=i==="slide",r=[-e.deltaX||0,-e.deltaY||0,-e.detail||0].reduce(function(m,u){return Math.abs(u)>Math.abs(m)?u:m}),c=Math.max(-1,Math.min(1,r)),d=Date.now();this.pwt&&d-this.pwt<300?n&&e.preventDefault():(this.pwt=d,this.emit("wheel",e,c),e.defaultPrevented||(i==="close"?(e.preventDefault(),this.close(e)):i==="slide"&&(Vi(t)||(e.preventDefault(),this[c>0?"prev":"next"]()))))}onScroll(){window.scrollTo($o,Zo)}onKeydown(e){if(!this.isTopmost())return;this.isCompact||!this.option("idle")||this.isClosing()||this.resetIdle();let t=e.key,i=this.option("keyboard");if(!i)return;let n=e.composedPath()[0],r=document.activeElement&&document.activeElement.classList,c=r&&r.contains("f-button")||n.dataset.carouselPage||n.dataset.carouselIndex;if(t!=="Escape"&&!c&&Ie(n)&&(n.isContentEditable||["TEXTAREA","OPTION","INPUT","SELECT","VIDEO"].indexOf(n.nodeName)!==-1)||(e.key==="Tab"?z(this.container,Mn):Y(this.container,Mn),e.ctrlKey||e.altKey||e.shiftKey))return;this.emit("keydown",t,e);let d=i[t];d&&typeof this[d]=="function"&&(e.preventDefault(),this[d]())}onResize(){let e=this.container;if(!e)return;let t=this.isCompact;e.classList.toggle(No,t),this.manageCaption(this.getSlide()),this.isCompact?this.clearIdle():this.endIdle(),this.scale(),this.emit("resize")}onFocus(e){this.isTopmost()&&this.checkFocus(e)}onMousemove(e){this.prevMouseMoveEvent=e,!this.isCompact&&this.option("idle")&&this.resetIdle()}onVisibilityChange(){document.visibilityState==="visible"?this.checkFocus():this.endIdle()}manageCloseBtn(e){let t=this.optionFor(e,"closeButton")||!1;if(t==="auto"){let n=this.plugins.Toolbar;if(n&&n.state===yt.Ready)return}if(!t||!e.contentEl||e.closeBtnEl)return;let i=this.option("tpl.closeButton");if(i){let n=Ye(this.localize(i));e.closeBtnEl=e.contentEl.appendChild(n),e.el&&z(e.el,"has-close-btn")}}manageCaption(e=void 0){var t,i;let n="fancybox__caption",r=this.container;if(!r)return;Y(r,Ni);let c=this.isCompact||this.option("commonCaption"),d=!c;if(this.caption&&this.stop(this.caption),d&&this.caption&&(this.caption.remove(),this.caption=null),c&&!this.caption)for(let g of((t=this.carousel)===null||t===void 0?void 0:t.slides)||[])g.captionEl&&(g.captionEl.remove(),g.captionEl=void 0,Y(g.el,Ni),(i=g.el)===null||i===void 0||i.removeAttribute("aria-labelledby"));if(e||(e=this.getSlide()),!e||c&&!this.isCurrentSlide(e))return;let m=e.el,u=this.optionFor(e,"caption","");if(!u)return void(c&&this.caption&&this.animate(this.caption,"f-fadeOut",()=>{this.caption&&(this.caption.innerHTML="")}));let f=null;if(d){if(f=e.captionEl||null,m&&!f){let g=n+`_${this.id}_${e.index}`;f=document.createElement("div"),z(f,n),f.setAttribute("id",g),e.captionEl=m.appendChild(f),z(m,Ni),m.setAttribute("aria-labelledby",g)}}else f=this.caption,f||(f=r.querySelector("."+n)),!f&&(f=document.createElement("div"),f.dataset.fancyboxCaption="",z(f,n),(this.footer||r).prepend(f)),z(r,Ni),this.caption=f;f&&(f.innerHTML="",ut(u)||typeof u=="number"?f.innerHTML=u+"":u instanceof HTMLElement&&f.appendChild(u))}checkFocus(e){this.focus(e)}focus(e){var t;if(this.ignoreFocusChange)return;let i=document.activeElement||null,n=e?.target||null,r=this.container,c=(t=this.carousel)===null||t===void 0?void 0:t.viewport;if(!r||!c||!e&&i&&r.contains(i))return;let d=this.getSlide(),m=d&&d.state===Ee.Ready?d.el:null;if(!m||m.contains(i)||r===i)return;e&&e.cancelable&&e.preventDefault(),this.ignoreFocusChange=!0;let u=Array.from(r.querySelectorAll(wn)),f=[],g=null;for(let v of u){let x=!v.offsetParent||!!v.closest('[aria-hidden="true"]'),E=m&&m.contains(v),y=!c.contains(v);if(v===r||(E||y)&&!x){f.push(v);let j=v.dataset.origTabindex;j!==void 0&&j&&(v.tabIndex=parseFloat(j)),v.removeAttribute("data-orig-tabindex"),!v.hasAttribute("autoFocus")&&g||(g=v)}else{let j=v.dataset.origTabindex===void 0?v.getAttribute("tabindex")||"":v.dataset.origTabindex;j&&(v.dataset.origTabindex=j),v.tabIndex=-1}}let b=null;e?(!n||f.indexOf(n)<0)&&(b=g||r,f.length&&(i===St?b=f[0]:this.lastFocus!==r&&i!==De||(b=f[f.length-1]))):b=d&&d.type==="image"?r:g||r,b&&Io(b),this.lastFocus=document.activeElement,this.ignoreFocusChange=!1}next(){let e=this.carousel;e&&e.pages.length>1&&e.slideNext()}prev(){let e=this.carousel;e&&e.pages.length>1&&e.slidePrev()}jumpTo(...e){this.carousel&&this.carousel.slideTo(...e)}isTopmost(){var e;return((e=l.getInstance())===null||e===void 0?void 0:e.id)==this.id}animate(e=null,t="",i){if(!e||!t)return void(i&&i());this.stop(e);let n=r=>{r.target===e&&e.dataset.animationName&&(e.removeEventListener("animationend",n),delete e.dataset.animationName,i&&i(),Y(e,t))};e.dataset.animationName=t,e.addEventListener("animationend",n),z(e,t)}stop(e){e&&e.dispatchEvent(new CustomEvent("animationend",{bubbles:!1,cancelable:!0,currentTarget:e}))}setContent(e,t="",i=!0){if(this.isClosing())return;let n=e.el;if(!n)return;let r=null;if(Ie(t)?r=t:(r=Ye(t+""),Ie(r)||(r=document.createElement("div"),r.innerHTML=t+"")),["img","picture","iframe","video","audio"].includes(r.nodeName.toLowerCase())){let c=document.createElement("div");c.appendChild(r),r=c}Ie(r)&&e.filter&&!e.error&&(r=r.querySelector(e.filter)),r&&Ie(r)?(z(r,"fancybox__content"),e.id&&r.setAttribute("id",e.id),n.classList.add(`has-${e.error?"error":e.type||"unknown"}`),n.prepend(r),r.style.display==="none"&&(r.style.display=""),getComputedStyle(r).getPropertyValue("display")==="none"&&(r.style.display=e.display||this.option("defaultDisplay")||"flex"),e.contentEl=r,i&&this.revealContent(e),this.manageCloseBtn(e),this.manageCaption(e)):this.setError(e,"{{ELEMENT_NOT_FOUND}}")}revealContent(e,t){let i=e.el,n=e.contentEl;i&&n&&(this.emit("reveal",e),this.hideLoading(e),e.state=Ee.Opening,(t=this.isOpeningSlide(e)?t===void 0?this.optionFor(e,"showClass"):t:"f-fadeIn")?this.animate(n,t,()=>{this.done(e)}):this.done(e))}done(e){this.isClosing()||(e.state=Ee.Ready,this.emit("done",e),z(e.el,"is-done"),this.isCurrentSlide(e)&&this.option("autoFocus")&&queueMicrotask(()=>{var t;(t=e.panzoom)===null||t===void 0||t.updateControls(),this.option("autoFocus")&&this.focus()}),this.isOpeningSlide(e)&&(Y(this.container,kn),!this.isCompact&&this.option("idle")&&this.setIdle()))}isCurrentSlide(e){let t=this.getSlide();return!(!e||!t)&&t.index===e.index}isOpeningSlide(e){var t,i;return((t=this.carousel)===null||t===void 0?void 0:t.prevPage)===null&&e&&e.index===((i=this.getSlide())===null||i===void 0?void 0:i.index)}showLoading(e){e.state=Ee.Loading;let t=e.el;t&&(z(t,Vo),this.emit("loading",e),e.spinnerEl||setTimeout(()=>{if(!this.isClosing()&&!e.spinnerEl&&e.state===Ee.Loading){let i=Ye(Vn);z(i,"fancybox-spinner"),e.spinnerEl=i,t.prepend(i),this.animate(i,"f-fadeIn")}},250))}hideLoading(e){let t=e.el;if(!t)return;let i=e.spinnerEl;this.isClosing()?i?.remove():(Y(t,Vo),i&&this.animate(i,"f-fadeOut",()=>{i.remove()}),e.state===Ee.Loading&&(this.emit("loaded",e),e.state=Ee.Ready))}setError(e,t){if(this.isClosing())return;let i=new Event("error",{bubbles:!0,cancelable:!0});if(this.emit("error",i,e),i.defaultPrevented)return;e.error=t,this.hideLoading(e),this.clearContent(e);let n=document.createElement("div");n.classList.add("fancybox-error"),n.innerHTML=this.localize(t||"<p>{{ERROR}}</p>"),this.setContent(e,n)}clearContent(e){if(e.state===void 0)return;this.emit("clearContent",e),e.contentEl&&(e.contentEl.remove(),e.contentEl=void 0);let t=e.el;t&&(Y(t,"has-error"),Y(t,"has-unknown"),Y(t,`has-${e.type||"unknown"}`)),e.closeBtnEl&&e.closeBtnEl.remove(),e.closeBtnEl=void 0,e.captionEl&&e.captionEl.remove(),e.captionEl=void 0,e.spinnerEl&&e.spinnerEl.remove(),e.spinnerEl=void 0}getSlide(){var e;let t=this.carousel;return((e=t?.pages[t?.page])===null||e===void 0?void 0:e.slides[0])||void 0}close(e,t){if(this.isClosing())return;let i=new Event("shouldClose",{bubbles:!0,cancelable:!0});if(this.emit("shouldClose",i,e),i.defaultPrevented)return;e&&e.cancelable&&(e.preventDefault(),e.stopPropagation());let n=()=>{this.proceedClose(e,t)};this.startedFs&&ke&&ke.isFullscreen()?Promise.resolve(ke.exit()).then(()=>n()):n()}clearIdle(){this.idleTimer&&clearTimeout(this.idleTimer),this.idleTimer=null}setIdle(e=!1){let t=()=>{this.clearIdle(),this.idle=!0,z(this.container,"is-idle"),this.emit("setIdle")};if(this.clearIdle(),!this.isClosing())if(e)t();else{let i=this.option("idle");i&&(this.idleTimer=setTimeout(t,i))}}endIdle(){this.clearIdle(),this.idle&&!this.isClosing()&&(this.idle=!1,Y(this.container,"is-idle"),this.emit("endIdle"))}resetIdle(){this.endIdle(),this.setIdle()}toggleIdle(){this.idle?this.endIdle():this.setIdle(!0)}toggleFullscreen(){ke&&(ke.isFullscreen()?ke.exit():ke.request().then(()=>{this.startedFs=!0}))}isClosing(){return[ve.Closing,ve.CustomClosing,ve.Destroy].includes(this.state)}proceedClose(e,t){var i,n;this.state=ve.Closing,this.clearIdle(),this.detachEvents();let r=this.container,c=this.carousel,d=this.getSlide(),m=d&&this.option("placeFocusBack")?d.triggerEl||this.option("triggerEl"):null;if(m&&(Yo(m)?Io(m):m.focus()),r&&(Y(r,kn),z(r,"is-closing"),r.setAttribute(Tn,"true"),this.option("animated")&&z(r,On),r.style.pointerEvents="none"),c){c.clearTransitions(),(i=c.panzoom)===null||i===void 0||i.destroy(),(n=c.plugins.Navigation)===null||n===void 0||n.detach();for(let u of c.slides){u.state=Ee.Closing,this.hideLoading(u);let f=u.contentEl;f&&this.stop(f);let g=u?.panzoom;g&&(g.stop(),g.detachEvents(),g.detachObserver()),this.isCurrentSlide(u)||c.emit("removeSlide",u)}}$o=window.scrollX,Zo=window.scrollY,window.addEventListener("scroll",this.onScroll),this.emit("close",e),this.state!==ve.CustomClosing?(t===void 0&&d&&(t=this.optionFor(d,"hideClass")),t&&d?(this.animate(d.contentEl,t,()=>{c&&c.emit("removeSlide",d)}),setTimeout(()=>{this.destroy()},500)):this.destroy()):setTimeout(()=>{this.destroy()},500)}destroy(){var e;if(this.state===ve.Destroy)return;window.removeEventListener("scroll",this.onScroll),this.state=ve.Destroy,(e=this.carousel)===null||e===void 0||e.destroy();let t=this.container;t&&t.remove(),At.delete(this.id);let i=l.getInstance();i?i.focus():(De&&(De.remove(),De=null),St&&(St.remove(),St=null),Y(document.documentElement,Ao),(()=>{if(!Kt)return;let n=document,r=n.body;r.classList.remove(Pn),r.style.setProperty(Ro,""),n.documentElement.style.setProperty(Lo,"")})(),this.emit("destroy"))}static bind(e,t,i){if(!Kt)return;let n,r="",c={};if(e===void 0?n=document.body:ut(e)?(n=document.body,r=e,typeof t=="object"&&(c=t||{})):(n=e,ut(t)&&(r=t),typeof i=="object"&&(c=i||{})),!n||!Ie(n))return;r=r||"[data-fancybox]";let d=l.openers.get(n)||new Map;d.set(r,c),l.openers.set(n,d),d.size===1&&n.addEventListener("click",l.fromEvent)}static unbind(e,t){let i,n="";if(ut(e)?(i=document.body,n=e):(i=e,ut(t)&&(n=t)),!i)return;let r=l.openers.get(i);r&&n&&r.delete(n),n&&r||(l.openers.delete(i),i.removeEventListener("click",l.fromEvent))}static destroy(){let e;for(;e=l.getInstance();)e.destroy();for(let t of l.openers.keys())t.removeEventListener("click",l.fromEvent);l.openers=new Map}static fromEvent(e){if(e.defaultPrevented||e.button&&e.button!==0||e.ctrlKey||e.metaKey||e.shiftKey)return;let t=e.composedPath()[0],i=t.closest("[data-fancybox-trigger]");if(i){let x=i.dataset.fancyboxTrigger||"",E=document.querySelectorAll(`[data-fancybox="${x}"]`),y=parseInt(i.dataset.fancyboxIndex||"",10)||0;t=E[y]||t}if(!(t&&t instanceof Element))return;let n,r,c,d;if([...l.openers].reverse().find(([x,E])=>!(!x.contains(t)||![...E].reverse().find(([y,j])=>{let O=t.closest(y);return!!O&&(n=x,r=y,c=O,d=j,!0)}))),!n||!r||!c)return;d=d||{},e.preventDefault(),t=c;let m=[],u=Fe({},Rn,d);u.event=e,u.triggerEl=t,u.delegate=i;let f=u.groupAll,g=u.groupAttr,b=g&&t?t.getAttribute(`${g}`):"";if((!t||b||f)&&(m=[].slice.call(n.querySelectorAll(r))),t&&!f&&(m=b?m.filter(x=>x.getAttribute(`${g}`)===b):[t]),!m.length)return;let v=l.getInstance();return v&&v.options.triggerEl&&m.indexOf(v.options.triggerEl)>-1?void 0:(t&&(u.startIndex=m.indexOf(t)),l.fromNodes(m,u))}static fromSelector(e,t,i){let n=null,r="",c={};if(ut(e)?(n=document.body,r=e,typeof t=="object"&&(c=t||{})):e instanceof HTMLElement&&ut(t)&&(n=e,r=t,typeof i=="object"&&(c=i||{})),!n||!r)return!1;let d=l.openers.get(n);return!!d&&(c=Fe({},d.get(r)||{},c),!!c&&l.fromNodes(Array.from(n.querySelectorAll(r)),c))}static fromNodes(e,t){t=Fe({},Rn,t||{});let i=[];for(let n of e){let r=n.dataset||{},c=r[zt]||n.getAttribute(Dn)||n.getAttribute("currentSrc")||n.getAttribute(zt)||void 0,d,m=t.delegate,u;m&&i.length===t.startIndex&&(d=m instanceof HTMLImageElement?m:m.querySelector("img:not([aria-hidden])")),d||(d=n instanceof HTMLImageElement?n:n.querySelector("img:not([aria-hidden])")),d&&(u=d.currentSrc||d[zt]||void 0,!u&&d.dataset&&(u=d.dataset.lazySrc||d.dataset[zt]||void 0));let f={src:c,triggerEl:n,thumbEl:d,thumbElSrc:u,thumbSrc:u};for(let g in r){let b=r[g]+"";b=b!=="false"&&(b==="true"||b),f[g]=b}i.push(f)}return new l(i,t)}static getInstance(e){return e?At.get(e):Array.from(At.values()).reverse().find(t=>!t.isClosing()&&t)||null}static getSlide(){var e;return((e=l.getInstance())===null||e===void 0?void 0:e.getSlide())||null}static show(e=[],t={}){return new l(e,t)}static next(){let e=l.getInstance();e&&e.next()}static prev(){let e=l.getInstance();e&&e.prev()}static close(e=!0,...t){if(e)for(let i of At.values())i.close(...t);else{let i=l.getInstance();i&&i.close(...t)}}};Object.defineProperty(q,"version",{enumerable:!0,configurable:!0,writable:!0,value:"5.0.36"}),Object.defineProperty(q,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:Rn}),Object.defineProperty(q,"Plugins",{enumerable:!0,configurable:!0,writable:!0,value:Ja}),Object.defineProperty(q,"openers",{enumerable:!0,configurable:!0,writable:!0,value:new Map});var be=class l{constructor(e){this.http=e}upload(e){return this.http.post("https://httpbin.org/post",e,{reportProgress:!0,observe:"events"})}static \u0275fac=function(t){return new(t||l)(we(fi))};static \u0275prov=Ve({token:l,factory:l.\u0275fac,providedIn:"root"})};var Jt=(m=>(m[m.Image=0]="Image",m[m.Video=1]="Video",m[m.Pdf=2]="Pdf",m[m.Word=3]="Word",m[m.Excel=4]="Excel",m[m.Powerpoint=5]="Powerpoint",m[m.FileText=6]="FileText",m[m.Zip=7]="Zip",m))(Jt||{});var Qi=function(){return Qi=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++){t=arguments[i];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Qi.apply(this,arguments)},tr={scale:1,zoom:!0,actualSize:!0,showZoomInOutIcons:!1,actualSizeIcons:{zoomIn:"lg-zoom-in",zoomOut:"lg-zoom-out"},enableZoomAfter:300},Ki={afterAppendSlide:"lgAfterAppendSlide",init:"lgInit",hasVideo:"lgHasVideo",containerResize:"lgContainerResize",updateSlides:"lgUpdateSlides",afterAppendSubHtml:"lgAfterAppendSubHtml",beforeOpen:"lgBeforeOpen",afterOpen:"lgAfterOpen",slideItemLoad:"lgSlideItemLoad",beforeSlide:"lgBeforeSlide",afterSlide:"lgAfterSlide",posterClick:"lgPosterClick",dragStart:"lgDragStart",dragMove:"lgDragMove",dragEnd:"lgDragEnd",beforeNextSlide:"lgBeforeNextSlide",beforePrevSlide:"lgBeforePrevSlide",beforeClose:"lgBeforeClose",afterClose:"lgAfterClose"},ir=function(){function l(e,t){return this.core=e,this.$LG=t,this.settings=Qi(Qi({},tr),this.core.settings),this.settings.zoom&&(this.init(),this.zoomableTimeout=!1,this.positionChanged=!1,this.pageX=this.core.outer.width()/2,this.pageY=this.core.outer.height()/2+this.$LG(window).scrollTop(),this.scale=1),this}return l.prototype.buildTemplates=function(){var e=this.settings.showZoomInOutIcons?'<button id="'+this.core.getIdName("lg-zoom-in")+'" type="button" aria-label="Zoom in" class="lg-zoom-in lg-icon"></button><button id="'+this.core.getIdName("lg-zoom-out")+'" type="button" aria-label="Zoom out" class="lg-zoom-out lg-icon"></button>':"";this.settings.actualSize&&(e+='<button id="'+this.core.getIdName("lg-actual-size")+'" type="button" aria-label="View actual size" class="'+this.settings.actualSizeIcons.zoomIn+' lg-icon"></button>'),this.core.outer.addClass("lg-use-transition-for-zoom"),this.core.$toolbar.first().append(e)},l.prototype.enableZoom=function(e){var t=this,i=this.settings.enableZoomAfter+e.detail.delay;this.$LG("body").first().hasClass("lg-from-hash")&&e.detail.delay?i=0:this.$LG("body").first().removeClass("lg-from-hash"),this.zoomableTimeout=setTimeout(function(){t.core.getSlideItem(e.detail.index).addClass("lg-zoomable")},i+30)},l.prototype.enableZoomOnSlideItemLoad=function(){this.core.LGel.on(Ki.slideItemLoad+".zoom",this.enableZoom.bind(this))},l.prototype.getModifier=function(e,t,i){var n=e;e=Math.abs(e);var r=this.getCurrentTransform(i);if(!r)return 1;var c=1;if(t==="X"){var d=Math.sign(parseFloat(r[0]));e===0||e===180?c=1:e===90&&(n===-90&&d===1||n===90&&d===-1?c=-1:c=1),c=c*d}else{var m=Math.sign(parseFloat(r[3]));if(e===0||e===180)c=1;else if(e===90){var u=parseFloat(r[1]),f=parseFloat(r[2]);c=Math.sign(u*f*n*m)}c=c*m}return c},l.prototype.getImageSize=function(e,t,i){var n={y:"offsetHeight",x:"offsetWidth"};return t===90&&(i==="x"?i="y":i="x"),e[n[i]]},l.prototype.getDragCords=function(e,t){return t===90?{x:e.pageY,y:e.pageX}:{x:e.pageX,y:e.pageY}},l.prototype.getSwipeCords=function(e,t){var i=e.targetTouches[0].pageX,n=e.targetTouches[0].pageY;return t===90?{x:n,y:i}:{x:i,y:n}},l.prototype.getDragAllowedAxises=function(e,t){var i=this.core.$lgContent.get(),n=parseFloat(e.attr("data-scale"))||1,r=e.get(),c=this.getImageSize(r,t,"y")*n>i.clientHeight,d=this.getImageSize(r,t,"x")*n>i.clientWidth;return t===90?{allowX:c,allowY:d}:{allowX:d,allowY:c}},l.prototype.getCurrentTransform=function(e){if(e){var t=window.getComputedStyle(e,null),i=t.getPropertyValue("-webkit-transform")||t.getPropertyValue("-moz-transform")||t.getPropertyValue("-ms-transform")||t.getPropertyValue("-o-transform")||t.getPropertyValue("transform")||"none";if(i!=="none")return i.split("(")[1].split(")")[0].split(",")}},l.prototype.getCurrentRotation=function(e){if(!e)return 0;var t=this.getCurrentTransform(e);return t?Math.round(Math.atan2(parseFloat(t[1]),parseFloat(t[0]))*(180/Math.PI)):0},l.prototype.zoomImage=function(e){var t=this.core.getSlideItem(this.core.index).find(".lg-image").first(),i=t.get();if(i){var n=this.core.outer.get().getBoundingClientRect(),r=(n.width-i.offsetWidth)/2+n.left,c=(n.height-i.offsetHeight)/2+this.$LG(window).scrollTop()+n.top,d,m;e===1&&(this.positionChanged=!1),this.positionChanged&&(d=parseFloat(t.parent().attr("data-x"))/(parseFloat(t.attr("data-scale"))-1),m=parseFloat(t.parent().attr("data-y"))/(parseFloat(t.attr("data-scale"))-1),this.pageX=d+r,this.pageY=m+c,this.positionChanged=!1);var u=this.pageX-r,f=this.pageY-c,g=(e-1)*u,b=(e-1)*f;this.setZoomStyles({x:g,y:b,scale:e})}},l.prototype.setZoomStyles=function(e){var t=this.core.getSlideItem(this.core.index).find(".lg-image").first(),i=this.core.outer.find(".lg-current .lg-dummy-img").first(),n=t.parent();t.attr("data-scale",e.scale+"").css("transform","scale3d("+e.scale+", "+e.scale+", 1)"),i.css("transform","scale3d("+e.scale+", "+e.scale+", 1)");var r="translate3d(-"+e.x+"px, -"+e.y+"px, 0)";n.css("transform",r),n.attr("data-x",e.x).attr("data-y",e.y)},l.prototype.setActualSize=function(e,t){var i=this,n=this.core.galleryItems[this.core.index];if(!(!n.src||this.core.outer.hasClass("lg-first-slide-loading"))){var r=this.getCurrentImageActualSizeScale();this.core.outer.hasClass("lg-zoomed")?this.scale=1:this.scale=this.getScale(r),this.setPageCords(t),this.beginZoom(this.scale),this.zoomImage(this.scale),setTimeout(function(){i.core.outer.removeClass("lg-grabbing").addClass("lg-grab")},10)}},l.prototype.getNaturalWidth=function(e){var t=this.core.getSlideItem(e).find(".lg-image").first(),i=this.core.galleryItems[e].width;return i?parseFloat(i):t.get().naturalWidth},l.prototype.getActualSizeScale=function(e,t){var i,n;return e>t?(i=e/t,n=i||2):n=1,n},l.prototype.getCurrentImageActualSizeScale=function(){var e=this.core.getSlideItem(this.core.index).find(".lg-image").first(),t=e.get().offsetWidth,i=this.getNaturalWidth(this.core.index)||t;return this.getActualSizeScale(i,t)},l.prototype.getPageCords=function(e){var t={};if(e)t.x=e.pageX||e.targetTouches[0].pageX,t.y=e.pageY||e.targetTouches[0].pageY;else{var i=this.core.outer.get().getBoundingClientRect();t.x=i.width/2+i.left,t.y=i.height/2+this.$LG(window).scrollTop()+i.top}return t},l.prototype.setPageCords=function(e){var t=this.getPageCords(e);this.pageX=t.x,this.pageY=t.y},l.prototype.beginZoom=function(e){if(this.core.outer.removeClass("lg-zoom-drag-transition lg-zoom-dragging"),e>1){this.core.outer.addClass("lg-zoomed");var t=this.core.getElementById("lg-actual-size");t.removeClass(this.settings.actualSizeIcons.zoomIn).addClass(this.settings.actualSizeIcons.zoomOut)}else this.resetZoom();return e>1},l.prototype.getScale=function(e){var t=this.getCurrentImageActualSizeScale();return e<1?e=1:e>t&&(e=t),e},l.prototype.init=function(){var e=this;this.buildTemplates(),this.enableZoomOnSlideItemLoad();var t=null;this.core.outer.on("dblclick.lg",function(i){e.$LG(i.target).hasClass("lg-image")&&e.setActualSize(e.core.index,i)}),this.core.outer.on("touchstart.lg",function(i){var n=e.$LG(i.target);i.targetTouches.length===1&&n.hasClass("lg-image")&&(t?(clearTimeout(t),t=null,e.setActualSize(e.core.index,i)):t=setTimeout(function(){t=null},300),i.preventDefault())}),this.core.LGel.on(Ki.containerResize+".zoom",function(){e.core.lgOpened&&(e.setPageCords(),e.zoomImage(e.scale))}),this.core.getElementById("lg-zoom-out").on("click.lg",function(){e.core.outer.find(".lg-current .lg-image").get()&&(e.scale-=e.settings.scale,e.scale=e.getScale(e.scale),e.beginZoom(e.scale),e.zoomImage(e.scale))}),this.core.getElementById("lg-zoom-in").on("click.lg",function(){e.zoomIn()}),this.core.getElementById("lg-actual-size").on("click.lg",function(){e.setActualSize(e.core.index)}),this.core.LGel.on(Ki.beforeOpen+".zoom",function(){e.core.outer.find(".lg-item").removeClass("lg-zoomable")}),this.core.LGel.on(Ki.afterSlide+".zoom",function(i){var n=i.detail.prevIndex;e.scale=1,e.resetZoom(n)}),this.zoomDrag(),this.pinchZoom(),this.zoomSwipe()},l.prototype.zoomIn=function(e){var t=this.core.galleryItems[this.core.index];t.src&&(e?this.scale=e:this.scale+=this.settings.scale,this.scale=this.getScale(this.scale),this.beginZoom(this.scale),this.zoomImage(this.scale))},l.prototype.resetZoom=function(e){this.core.outer.removeClass("lg-zoomed lg-zoom-drag-transition");var t=this.core.getElementById("lg-actual-size"),i=this.core.getSlideItem(e!==void 0?e:this.core.index);t.removeClass(this.settings.actualSizeIcons.zoomOut).addClass(this.settings.actualSizeIcons.zoomIn),i.find(".lg-img-wrap").first().removeAttr("style data-x data-y"),i.find(".lg-image").first().removeAttr("style data-scale"),this.setPageCords()},l.prototype.getTouchDistance=function(e){return Math.sqrt((e.targetTouches[0].pageX-e.targetTouches[1].pageX)*(e.targetTouches[0].pageX-e.targetTouches[1].pageX)+(e.targetTouches[0].pageY-e.targetTouches[1].pageY)*(e.targetTouches[0].pageY-e.targetTouches[1].pageY))},l.prototype.pinchZoom=function(){var e=this,t=0,i=!1,n=1,r=this.core.getSlideItem(this.core.index);this.core.$inner.on("touchstart.lg",function(c){r=e.core.getSlideItem(e.core.index),c.preventDefault(),c.targetTouches.length===2&&(e.$LG(c.target).hasClass("lg-item")||r.get().contains(c.target))&&(n=e.scale||1,e.core.outer.removeClass("lg-zoom-drag-transition lg-zoom-dragging"),e.core.touchAction="pinch",t=e.getTouchDistance(c))}),this.core.$inner.on("touchmove.lg",function(c){if(c.preventDefault(),c.targetTouches.length===2&&e.core.touchAction==="pinch"&&(e.$LG(c.target).hasClass("lg-item")||r.get().contains(c.target))){var d=e.getTouchDistance(c),m=t-d;!i&&Math.abs(m)>5&&(i=!0),i&&(e.scale=Math.max(1,n+-m*.008),e.zoomImage(e.scale))}}),this.core.$inner.on("touchend.lg",function(c){e.core.touchAction==="pinch"&&(e.$LG(c.target).hasClass("lg-item")||r.get().contains(c.target))&&(i=!1,t=0,e.scale<=1?e.resetZoom():(e.scale=e.getScale(e.scale),e.zoomImage(e.scale),e.core.outer.addClass("lg-zoomed")),e.core.touchAction=void 0)})},l.prototype.touchendZoom=function(e,t,i,n,r,c){var d=this.core.getSlideItem(this.core.index).find(".lg-img-rotate").first().get(),m=t.x-e.x,u=t.y-e.y,f=Math.abs(m)/r+1,g=Math.abs(u)/r+1;f>2&&(f+=1),g>2&&(g+=1),m=m*f,u=u*g;var b=this.core.getSlideItem(this.core.index).find(".lg-img-wrap").first(),v=this.core.getSlideItem(this.core.index).find(".lg-object").first(),x=parseFloat(b.attr("data-x"))||0,E=parseFloat(b.attr("data-y"))||0,y={};y.x=-Math.abs(x)+m*this.getModifier(c,"X",d),y.y=-Math.abs(E)+u*this.getModifier(c,"Y",d);var j=this.getPossibleSwipeDragCords(v,c);if(Math.abs(m)>15||Math.abs(u)>15){if(n&&(y.y<=-j.maxY?y.y=-j.maxY:y.y>=-j.minY&&(y.y=-j.minY)),i&&(y.x<=-j.maxX?y.x=-j.maxX:y.x>=-j.minX&&(y.x=-j.minX)),n)b.attr("data-y",Math.abs(y.y));else{var O=parseFloat(b.attr("data-y"))||0;y.y=-Math.abs(O)}if(i)b.attr("data-x",Math.abs(y.x));else{var A=parseFloat(b.attr("data-x"))||0;y.x=-Math.abs(A)}this.setZoomSwipeStyles(b,y),this.positionChanged=!0}},l.prototype.getZoomSwipeCords=function(e,t,i,n,r,c,d,m,u){var f={};if(n){if(f.y=-Math.abs(c)+(t.y-e.y)*this.getModifier(m,"Y",u),f.y<=-r.maxY){var g=-r.maxY-f.y;f.y=-r.maxY-g/6}else if(f.y>=-r.minY){var b=f.y- -r.minY;f.y=-r.minY+b/6}}else f.y=-Math.abs(c);if(i){if(f.x=-Math.abs(d)+(t.x-e.x)*this.getModifier(m,"X",u),f.x<=-r.maxX){var v=-r.maxX-f.x;f.x=-r.maxX-v/6}else if(f.x>=-r.minX){var x=f.x- -r.minX;f.x=-r.minX+x/6}}else f.x=-Math.abs(d);return f},l.prototype.getPossibleSwipeDragCords=function(e,t){var i=this.core.$lgContent,n=i.height(),r=i.width(),c=this.getImageSize(e.get(),t,"y"),d=this.getImageSize(e.get(),t,"x"),m=parseFloat(e.attr("data-scale"))||1,u=Math.abs(m),f=(n-c)/2,g=Math.abs(c*u-n+f),b=(r-d)/2,v=Math.abs(d*u-r+b);return t===90?{minY:b,maxY:v,minX:f,maxX:g}:{minY:f,maxY:g,minX:b,maxX:v}},l.prototype.setZoomSwipeStyles=function(e,t){e.css("transform","translate3d("+t.x+"px, "+t.y+"px, 0)")},l.prototype.zoomSwipe=function(){var e=this,t={},i={},n=!1,r=!1,c=!1,d=new Date,m=new Date,u=0,f=0,g,b,v=null,x=0,E=this.core.getSlideItem(this.core.index);this.core.$inner.on("touchstart.lg",function(y){y.preventDefault();var j=e.core.galleryItems[e.core.index];if(j.src&&(E=e.core.getSlideItem(e.core.index),(e.$LG(y.target).hasClass("lg-item")||E.get().contains(y.target))&&y.targetTouches.length===1&&e.core.outer.hasClass("lg-zoomed"))){d=new Date,e.core.touchAction="zoomSwipe";var O=e.core.getSlideItem(e.core.index).find(".lg-object").first();b=e.core.getSlideItem(e.core.index).find(".lg-img-wrap").first(),v=e.core.getSlideItem(e.core.index).find(".lg-img-rotate").first().get(),x=e.getCurrentRotation(v);var A=e.getDragAllowedAxises(O,Math.abs(x));c=A.allowY,r=A.allowX,(r||c)&&(t=e.getSwipeCords(y,Math.abs(x))),f=parseFloat(b.attr("data-y")),u=parseFloat(b.attr("data-x")),g=e.getPossibleSwipeDragCords(O,x),e.core.outer.addClass("lg-zoom-dragging lg-zoom-drag-transition")}}),this.core.$inner.on("touchmove.lg",function(y){if(y.preventDefault(),y.targetTouches.length===1&&e.core.touchAction==="zoomSwipe"&&(e.$LG(y.target).hasClass("lg-item")||E.get().contains(y.target))){e.core.touchAction="zoomSwipe",i=e.getSwipeCords(y,Math.abs(x));var j=e.getZoomSwipeCords(t,i,r,c,g,f,u,x,v);(Math.abs(i.x-t.x)>15||Math.abs(i.y-t.y)>15)&&(n=!0,e.setZoomSwipeStyles(b,j))}}),this.core.$inner.on("touchend.lg",function(y){if(e.core.touchAction==="zoomSwipe"&&(e.$LG(y.target).hasClass("lg-item")||E.get().contains(y.target))){if(e.core.touchAction=void 0,e.core.outer.removeClass("lg-zoom-dragging"),!n)return;n=!1,m=new Date;var j=m.valueOf()-d.valueOf();e.touchendZoom(t,i,r,c,j,x)}})},l.prototype.zoomDrag=function(){var e=this,t={},i={},n=!1,r=!1,c=null,d=0,m=!1,u=!1,f,g,b,v,x,E;this.core.outer.on("mousedown.lg.zoom",function(y){var j=e.core.galleryItems[e.core.index];if(j.src){var O=e.core.getSlideItem(e.core.index);if(e.$LG(y.target).hasClass("lg-item")||O.get().contains(y.target)){f=new Date;var A=e.core.getSlideItem(e.core.index).find(".lg-object").first();E=e.core.getSlideItem(e.core.index).find(".lg-img-wrap").first(),c=e.core.getSlideItem(e.core.index).find(".lg-img-rotate").get(),d=e.getCurrentRotation(c);var B=e.getDragAllowedAxises(A,Math.abs(d));u=B.allowY,m=B.allowX,e.core.outer.hasClass("lg-zoomed")&&e.$LG(y.target).hasClass("lg-object")&&(m||u)&&(y.preventDefault(),t=e.getDragCords(y,Math.abs(d)),b=e.getPossibleSwipeDragCords(A,d),n=!0,v=parseFloat(E.attr("data-y")),x=parseFloat(E.attr("data-x")),e.core.outer.get().scrollLeft+=1,e.core.outer.get().scrollLeft-=1,e.core.outer.removeClass("lg-grab").addClass("lg-grabbing lg-zoom-drag-transition lg-zoom-dragging"))}}}),this.$LG(window).on("mousemove.lg.zoom.global"+this.core.lgId,function(y){if(n){r=!0,i=e.getDragCords(y,Math.abs(d));var j=e.getZoomSwipeCords(t,i,m,u,b,v,x,d,c);e.setZoomSwipeStyles(E,j)}}),this.$LG(window).on("mouseup.lg.zoom.global"+this.core.lgId,function(y){if(n){if(g=new Date,n=!1,e.core.outer.removeClass("lg-zoom-dragging"),r&&(t.x!==i.x||t.y!==i.y)){i=e.getDragCords(y,Math.abs(d));var j=g.valueOf()-f.valueOf();e.touchendZoom(t,i,m,u,j,d)}r=!1}e.core.outer.removeClass("lg-grabbing").addClass("lg-grab")})},l.prototype.closeGallery=function(){this.resetZoom()},l.prototype.destroy=function(){this.$LG(window).off(".lg.zoom.global"+this.core.lgId),this.core.LGel.off(".lg.zoom"),this.core.LGel.off(".zoom"),clearTimeout(this.zoomableTimeout),this.zoomableTimeout=!1},l}(),ia=ir;var Nt=class l{closeAllMenusSource=new un;closeAllMenus$=this.closeAllMenusSource.asObservable();closeAllMenus(){this.closeAllMenusSource.next()}closeAllSource=new un;closeAll$=this.closeAllSource.asObservable();closeAll(){this.closeAllSource.next()}static \u0275fac=function(t){return new(t||l)};static \u0275prov=Ve({token:l,factory:l.\u0275fac,providedIn:"root"})};var nr=l=>({fav:l});function or(l,e){l&1&&hn(0)}function ar(l,e){if(l&1&&(o(0,"div")(1,"a",25),p(2,"video",26),a()()),l&2){let t,i=I();fn("file-img-holder ",i.FileTypes[(t=i.card.fileType)!==null&&t!==void 0?t:-1],""),h(),$("href",i.card.fileUrl,N),h(),S("src",i.card.fileUrl,N)}}function rr(l,e){if(l&1&&(o(0,"a",25),p(1,"img",27),a()),l&2){let t=I(3);$("href",t.card.externalFileUrl,N),h(),$("alt",t.card.title),S("src",t.card.externalFileUrl,N)}}function lr(l,e){if(l&1&&(o(0,"a",25),p(1,"img",27),a()),l&2){let t=I(3);$("href",t.card.fileUrl,N),h(),$("alt",t.card.title),S("src",t.card.fileUrl,N)}}function sr(l,e){if(l&1&&F(0,rr,2,3,"a",25)(1,lr,2,3,"a",25),l&2){let t=I(2);Z(t.card.externalFileUrl!=null?0:1)}}function cr(l,e){if(l&1&&(o(0,"a",28),p(1,"img",27),a()),l&2){let t,i=I(3);$("href",i.card.externalFileUrl,N),h(),$("alt",i.card.title),S("src","./assets/icons/file-"+i.FileTypes[(t=i.card.fileType)!==null&&t!==void 0?t:-1]+".svg",N)}}function dr(l,e){if(l&1&&(o(0,"a",28),p(1,"img",27),a()),l&2){let t,i=I(3);$("href",i.card.fileUrl,N),h(),$("alt",i.card.title),S("src","./assets/icons/file-"+i.FileTypes[(t=i.card.fileType)!==null&&t!==void 0?t:-1]+".svg",N)}}function mr(l,e){if(l&1&&F(0,cr,2,3,"a",28)(1,dr,2,3,"a",28),l&2){let t=I(2);Z(t.card.externalFileUrl!=null?0:1)}}function pr(l,e){if(l&1&&(o(0,"div"),F(1,sr,2,1)(2,mr,2,1),a()),l&2){let t,i,n,r=I();fn("file-img-holder ",r.FileTypes[(t=r.card.fileType)!==null&&t!==void 0?t:-1],""),U("file",r.FileTypes[(i=r.card.fileType)!==null&&i!==void 0?i:-1]!="Image"),h(),Z((n=r.FileTypes[(n=r.card.fileType)!==null&&n!==void 0?n:-1])==="Image"?1:2)}}function ur(l,e){l&1&&hn(0)}function fr(l,e){if(l&1&&(o(0,"span"),s(1),M(2,"number"),a()),l&2){let t,i=I(3);h(),D("",Q(2,1,((t=i.card.fileSize)!==null&&t!==void 0?t:0)/1.024,"1.2-2")," MB")}}function hr(l,e){if(l&1&&(o(0,"span"),s(1),M(2,"number"),a()),l&2){let t,i=I(3);h(),D("",Q(2,1,((t=i.card.fileSize)!==null&&t!==void 0?t:0)*1024,"1.2-2")," KB")}}function gr(l,e){if(l&1&&(s(0),F(1,fr,3,4,"span")(2,hr,3,4,"span")),l&2){let t,i,n=I(2);D(" ",(t=n.card.videoDuration)!==null&&t!==void 0?t:"00:00"," Min | "),h(),Z(((i=n.card.fileSize)!==null&&i!==void 0?i:0)>1?1:2)}}function vr(l,e){l&1&&s(0,"External file")}function br(l,e){if(l&1&&(p(0,"img",29),o(1,"span"),F(2,gr,3,2)(3,vr,1,0),a()),l&2){let t=I();h(2),Z(t.card.externalFileUrl==null?2:3)}}function Sr(l,e){if(l&1&&(o(0,"span"),s(1),M(2,"number"),a()),l&2){let t,i=I(3);h(),D("",Q(2,1,((t=i.card.fileSize)!==null&&t!==void 0?t:0)/1.024,"1.2-2")," MB")}}function xr(l,e){if(l&1&&(o(0,"span"),s(1),M(2,"number"),a()),l&2){let t,i=I(3);h(),D("",Q(2,1,((t=i.card.fileSize)!==null&&t!==void 0?t:0)*1024,"1.2-2")," KB")}}function yr(l,e){if(l&1&&F(0,Sr,3,4,"span")(1,xr,3,4,"span"),l&2){let t,i=I(2);Z(((t=i.card.fileSize)!==null&&t!==void 0?t:0)>1?0:1)}}function Er(l,e){l&1&&(o(0,"span"),s(1,"External file"),a())}function _r(l,e){if(l&1&&F(0,yr,2,1)(1,Er,2,0,"span"),l&2){let t=I();Z(t.card.externalFileUrl==null?0:1)}}var de=class l{constructor(e,t){this.fileCardService=e;this.el=t}card;index;showInfo=new Ge;favorite=new Ge;activeCardIndex=null;FileTypes=Jt;closeSub;settings={counter:!1,plugins:[ia]};onBeforeSlide=e=>{let{index:t,prevIndex:i}=e;console.log(t,i)};ngOnInit(){this.closeSub=this.fileCardService.closeAllMenus$.subscribe(()=>{this.activeCardIndex=null})}toggleMenu(e,t){t.preventDefault(),t.stopPropagation(),this.fileCardService.closeAllMenus(),this.activeCardIndex=this.activeCardIndex===e?null:e}onDocumentClick(e){let t=e.target;!t.closest(".file-action-menu")&&!t.closest(".dots-menu")&&this.fileCardService.closeAllMenus()}ngOnDestroy(){this.closeSub.unsubscribe()}static \u0275fac=function(t){return new(t||l)(P(Nt),P(ye))};static \u0275cmp=W({type:l,selectors:[["app-file-card"]],hostBindings:function(t,i){t&1&&C("click",function(r){return i.onDocumentClick(r)},!1,ni)},inputs:{card:"card",index:"index"},outputs:{showInfo:"showInfo",favorite:"favorite"},standalone:!1,decls:57,vars:25,consts:[["thenBlock",""],["elseBlock",""],["thenBlock1",""],["elseBlock1",""],[1,"recent-file-card"],[1,"file-card-header","d-flex","flex-row","justify-content-between","align-items-center"],["src","assets/icons/recent-file-settings.svg","alt","",1,"dots-menu",3,"click"],["id","menu-1",1,"file-action-menu"],["href",""],["src","assets/icons/share.svg","alt","Share"],["src","assets/icons/download.svg","alt","Download"],["src","assets/icons/rename.svg","alt","Rename"],["src","assets/icons/move.svg","alt","Move"],["src","assets/icons/duplicate.svg","alt","Duplicate"],[3,"click"],["src","assets/icons/info.svg","alt","File info"],[1,"delete"],["src","assets/icons/delete.svg","alt","Delete"],[4,"ngIf","ngIfThen","ngIfElse"],[1,"recent-file-type","pt-2","d-flex","justify-content-between","flex-row","align-items-center"],["alt","",1,"me-1",3,"src"],[3,"title"],[1,"star",3,"click","ngClass"],[1,"fa","fa-star"],[1,"recent-file-footer","pt-2","d-flex","flex-row","align-items-center"],["data-fancybox","gallery",3,"href"],["controls","",3,"src"],[3,"src","alt"],["target","_blank",3,"href"],["src","assets/icons/file-clock.svg","alt","",1,"me-1"]],template:function(t,i){if(t&1){let n=L();o(0,"div",4)(1,"div",5)(2,"span"),s(3),M(4,"date"),a(),o(5,"img",6),C("click",function(c){return _(n),w(i.toggleMenu(i.card.fileId,c))}),a()(),o(6,"div",7)(7,"ul")(8,"li")(9,"a",8),p(10,"img",9),s(11," Share"),a()(),o(12,"li")(13,"a",8),p(14,"img",10),s(15,"Download"),a()(),o(16,"li")(17,"a",8),p(18,"img",11),s(19," Rename"),a()(),o(20,"li")(21,"a",8),p(22,"img",12),s(23," Move to"),a()(),o(24,"li")(25,"a",8),p(26,"img",13),s(27,"Duplicate file"),a()(),o(28,"li")(29,"a",14),C("click",function(){return _(n),w(i.showInfo.emit(i.card))}),p(30,"img",15),s(31," File information"),a()(),o(32,"li",16)(33,"a",8),p(34,"img",17),s(35," Remove"),a()()()(),F(36,or,1,0,"ng-container",18)(37,ar,3,5,"ng-template",null,0,J)(39,pr,3,6,"ng-template",null,1,J),o(41,"div",19)(42,"div"),p(43,"img",20),o(44,"span",21),s(45),M(46,"slice"),M(47,"slice"),a()(),o(48,"div")(49,"div",22),C("click",function(){return _(n),w(i.favorite.emit(i.card==null?null:i.card.fileId))}),p(50,"i",23),a()()(),o(51,"div",24),F(52,ur,1,0,"ng-container",18)(53,br,4,1,"ng-template",null,2,J)(55,_r,2,1,"ng-template",null,3,J),a()()}if(t&2){let n,r,c=R(38),d=R(40),m=R(54),u=R(56);U("active",i.activeCardIndex===i.card.fileId),h(3),D("You opened \u2022 ",Q(4,13,i.card.openedDate,"HH:mm")," AM"),h(33),S("ngIf",i.card.fileType==i.FileTypes.Video)("ngIfThen",c)("ngIfElse",d),h(7),S("src","assets/icons/file-"+i.FileTypes[(n=i.card.fileType)!==null&&n!==void 0?n:-1]+"1.svg",N),h(),S("title",i.card.title),h(),D(" ",((r=i.card.title)!==null&&r!==void 0?r:"").length>20?mi(46,16,i.card.title,0,16)+"..."+Q(47,20,i.card.title,-4):i.card.title," "),h(4),S("ngClass",K(23,nr,i.card.isFavByUser)),h(3),S("ngIf",i.card.fileType==i.FileTypes.Video)("ngIfThen",m)("ngIfElse",u)}},dependencies:[Zn,X,pi,Te,qn],encapsulation:2})};var wr=["dropdownRef"];function Cr(l,e){if(l&1&&p(0,"img",7),l&2){let t=I();S("src",t.icon,N)}}function jr(l,e){if(l&1){let t=L();o(0,"li")(1,"a",10),C("click",function(){let n=_(t).$implicit,r=I(2);return w(r.selectOption(n))}),s(2),a()()}if(l&2){let t=e.$implicit;h(2),V(t)}}function Ir(l,e){if(l&1&&(o(0,"ul",8),F(1,jr,3,1,"li",9),a()),l&2){let t=I();h(),S("ngForOf",t.options)}}var Se=class l{constructor(e,t){this.fileCardService=e;this.renderer=t}label="";icon="";options=[];optionSelected=new Ge;dropdownRef;isOpen=!1;sub;ngOnInit(){this.sub=this.fileCardService.closeAll$.subscribe(()=>{this.isOpen=!1})}toggleDropdown(e){e.preventDefault(),e.stopPropagation(),this.isOpen?this.isOpen=!1:(this.fileCardService.closeAll(),this.isOpen=!0)}selectOption(e){this.optionSelected.emit(e),this.isOpen=!1}handleOutsideClick(e){this.dropdownRef?.nativeElement.contains(e.target)||(this.isOpen=!1)}ngOnDestroy(){this.sub.unsubscribe()}static \u0275fac=function(t){return new(t||l)(P(Nt),P(ae))};static \u0275cmp=W({type:l,selectors:[["app-sort-files"]],viewQuery:function(t,i){if(t&1&&pe(wr,5),t&2){let n;ue(n=fe())&&(i.dropdownRef=n.first)}},hostBindings:function(t,i){t&1&&C("click",function(r){return i.handleOutsideClick(r)},!1,ni)},inputs:{label:"label",icon:"icon",options:"options"},outputs:{optionSelected:"optionSelected"},standalone:!1,decls:8,vars:3,consts:[["dropdownRef",""],[1,"dropdown1","dropdown"],["href","#",1,"dropdown-toggle1","dropdown-toggle",3,"click"],["alt","",3,"src",4,"ngIf"],[1,"px-1"],["src","assets/icons/middle-arrow-down.svg","alt","",1,"arrow-icon"],["class","dropdown-menu1",4,"ngIf"],["alt","",3,"src"],[1,"dropdown-menu1"],[4,"ngFor","ngForOf"],["href","#",3,"click"]],template:function(t,i){if(t&1){let n=L();o(0,"div",1,0)(2,"a",2),C("click",function(c){return _(n),w(i.toggleDropdown(c))}),F(3,Cr,1,1,"img",3),o(4,"span",4),s(5),a(),p(6,"img",5),a(),F(7,Ir,2,1,"ul",6),a()}t&2&&(h(3),S("ngIf",i.icon),h(2),V(i.label),h(2),S("ngIf",i.isOpen))},dependencies:[te,X],encapsulation:2})};var Pr=["cardElement"],Tr=()=>["PDF","Word","Excel"],Mr=()=>["Name 1","Name 2","Name 3"],Or=()=>["Newest","Oldest","Recently Edited"],kr=l=>({template1:l}),Dr=()=>["/projects/project-details"],zr=l=>({id:l});function Ar(l,e){if(l&1){let t=L();o(0,"div")(1,"button",78),p(2,"img",79),s(3,"Share"),a(),o(4,"button",80),C("click",function(){_(t);let n=I();return w(n.closeInfo())}),p(5,"img",81),s(6,"Information"),a()()}}function Lr(l,e){if(l&1&&(o(0,"div"),p(1,"app-upload-toast",82),a()),l&2){let t=e.$implicit;h(),S("fileName",t.fileName)("progress",t.progress)}}function Rr(l,e){if(l&1&&(o(0,"span"),s(1),M(2,"number"),a()),l&2){let t,i=I().$implicit;h(),D("",Q(2,1,((t=i.filesSize)!==null&&t!==void 0?t:0)/1.024,"1.2-2")," MB")}}function Nr(l,e){if(l&1&&(o(0,"span"),s(1),M(2,"number"),a()),l&2){let t,i=I().$implicit;h(),D("",Q(2,1,((t=i.filesSize)!==null&&t!==void 0?t:0)*1024,"1.2-2")," KB")}}function Vr(l,e){if(l&1&&(o(0,"div",83)(1,"a",84)(2,"div",85),p(3,"img",86),a(),o(4,"div",87)(5,"p",88),s(6),a(),o(7,"p",89),F(8,Rr,3,4,"span")(9,Nr,3,4,"span"),s(10),a()()()()),l&2){let t,i,n=e.$implicit;h(),S("routerLink",k(5,Dr))("queryParams",K(6,zr,n.projectId)),h(5),V(n.title),h(2),Z(((t=n.filesSize)!==null&&t!==void 0?t:0)>1?8:9),h(2),D(" | ",(i=n.filesNum)!==null&&i!==void 0?i:0," items")}}function Br(l,e){if(l&1){let t=L();o(0,"div",83)(1,"app-file-card",90),C("toggleMenu",function(n){_(t);let r=I();return w(r.toggleMenu(n.index,n.event))})("showInfo",function(n){_(t);let r=I();return w(r.showInfo(n))})("favorite",function(n){_(t);let r=I();return w(r.favorite(n))}),a()()}if(l&2){let t=e.$implicit,i=e.index,n=I();h(),S("card",t)("index",i)("activeCardIndex",n.activeCardIndex)}}function Hr(l,e){if(l&1&&(o(0,"div",91),p(1,"img",92),a()),l&2){let t=I().data;h(),$("src",t==null?null:t.image,N)}}function Ur(l,e){if(l&1&&(F(0,Hr,2,1,"div",91),s(1)),l&2){let t=e.data;Z(t!=null&&t.image?0:-1),h(),D(" ",t==null?null:t.name," ")}}var Ji=class l{constructor(e,t,i,n,r,c,d){this.renderer=e;this.fileUploadService=t;this.modalService=i;this.projectService=n;this.toaster=r;this.translate=c;this.el=d}subscriptions=[];projects=[];projectFiles=[];isFetching=!1;isFetchingFiles=!1;pageSize=20;currentPage=1;totalItems=0;numberOfPages=0;ProjectTypes=et;selectedProjectType=null;selectedSortField=null;cardElements;uploads=[];files;isUpload=!1;count=0;ngOnInit(){q.bind(this.el.nativeElement,"[data-fancybox]",{}),this.fetchProjects(),this.fetchProjectFiles()}fetchProjects(){if(this.isFetching)return;this.isFetching=!0;let e=this.projectService.fetchProjects(this.currentPage,this.pageSize,this.selectedProjectType,this.selectedSortField).subscribe(t=>{t&&(console.log("Recent projects:",t),this.projects=t.data.slice(0,8),this.currentPage=t.currentPage,this.pageSize=t.pageSize,this.totalItems=t.totalItems,this.numberOfPages=t.numberOfPages),this.isFetching=!1});this.subscriptions.push(e)}fetchProjectFiles(){let e=this.projectService.fetchProjectFiles(null,null,1,1e4,null,null,!0).subscribe(t=>{t&&(console.log(t),this.projectFiles=t.data,console.log(this.projectFiles)),this.isFetchingFiles=!1});this.subscriptions.push(e)}data=[{options:[{value:"Omar Ezz",label:"Omar Ezz",data:{name:"Omar Ezz",email:"Omar_Ezz@exapmle.com.sa",image:"assets/images/profile/pic1.jpg"},templateId:"template1",templateSelectionId:"template1Selection",id:"1"},{value:"Emad hamdi",label:"Emad Hamdi",data:{name:"Emad hamdi",email:"emad_hamdi@exapmle.com.sa",image:"assets/images/profile/user4.jpg"},templateId:"template1",templateSelectionId:"template1Selection",id:"2"},{value:"Ehab Zakaria",label:"Ehab Zakaria",data:{name:"Ehab Zakaria",email:"ehab_zakaria@exapmle.com.sa",image:"assets/images/profile/default-profile-img.png"},templateId:"template1",templateSelectionId:"template1Selection",id:"3"},{value:"mohamed Ezz",label:"mohamed Ezz",data:{name:"mohamed Ezz",email:"mohamed@exapmle.com.sa",image:"assets/images/profile/pic1.jpg"},templateId:"template1",templateSelectionId:"template1Selection",id:"4"},{value:"Ali hamdi",label:"Ali Hamdi",data:{name:"Ali hamdi",email:"Ali@exapmle.com.sa",image:"assets/images/profile/user4.jpg"},templateId:"template1",templateSelectionId:"template1Selection",id:"5"},{value:"hassan Zakaria",label:"hassan Zakaria",data:{name:"hassan Zakaria",email:"hassan@exapmle.com.sa",image:"assets/images/profile/default-profile-img.png"},templateId:"template1",templateSelectionId:"template1Selection",id:"6"}]}];favorite(e){console.log(e),this.projectService.setFavourite(e).subscribe(t=>{this.toaster.success("",this.translate.instant("Favorite list updated successfully")),this.fetchProjectFiles()})}onTypeSelect(e){console.log("Selected type:",e)}onPeopleSelect(e){console.log("Selected person:",e)}onModifiedSelect(e){console.log("Selected modified:",e)}shownInfo=!1;showInfo(e){console.log(e),this.shownInfo==!1&&(this.shownInfo=!this.shownInfo)}closeInfo(){this.shownInfo=!this.shownInfo}onFilesSelected=e=>{if(e.length===0)return;this.uploads=[],this.isUpload=!0,this.count=e.length;let t=[];for(let i=0;i<e.length;i++){let n=e[i],r=new FormData;r.append("file",n,n.name);let c={fileName:n.name,progress:0};this.uploads.push(c);let d=this.fileUploadService.upload(r).pipe(Ne(m=>{m.type?m.total&&(c.progress=Math.round(100*m.loaded/m.total)):m.type===Ce.Response&&(c.progress=100,console.log("Upload complete for",c.fileName,m.body))}));t.push(d)}Re(t).subscribe({next:i=>{console.log("All uploads completed!",i),setTimeout(()=>{this.isUpload=!1},3e3)},error:i=>{console.error("Error during file upload:",i),this.isUpload=!1}})};openAddProjectModal(){let t=this.modalService.open(Mt,{size:"xl",backdrop:"static",keyboard:!1}).componentInstance.isSuccess.subscribe(i=>{});this.subscriptions.push(t)}ngOnDestroy(){q.unbind(this.el.nativeElement),q.close(),this.subscriptions.forEach(e=>e.unsubscribe())}static \u0275fac=function(t){return new(t||l)(P(ae),P(be),P(mt),P(oe),P(re),P(he),P(ye))};static \u0275cmp=W({type:l,selectors:[["app-home"]],viewQuery:function(t,i){if(t&1&&pe(Pr,5),t&2){let n;ue(n=fe())&&(i.cardElements=n)}},standalone:!1,decls:208,vars:31,consts:[["file",""],["template1",""],[1,"row","home-layout"],[1,"col"],[1,"d-flex","justify-content-between","heady","mb-4"],[4,"ngIf"],[1,"upper","d-flex","flex-row"],[1,"upload-btn",3,"click"],["src","assets/icons/plus.svg","alt",""],[1,"pt-3"],["type","file","placeholder","Choose file","multiple","",1,"form-control",2,"display","none",3,"change"],[1,"toaste"],[1,"heade","d-flex","justify-content-between"],["src","assets/icons/close.svg","alt","",1,"close"],[1,"t-body"],[4,"ngFor","ngForOf"],[1,"upload-btn","upper-folder",3,"click"],["src","assets/icons/folder-upper.svg","alt",""],[1,"sorting"],[1,"pt-3","d-flex","flex-row","gap-3","sorting-row"],[3,"optionSelected","label","icon","options"],[1,"recent-folder","pt-5"],[1,"d-flex","flex-row","align-items-center"],["src","assets/icons/middle-arrow-down.svg","alt",""],[1,"row","pt-3","recent-folder-row"],["class","col-xxl-2 col-xl-3 col-lg-4 col-sm-6",4,"ngFor","ngForOf"],[1,"recent-file","pt-5"],[1,"row","pt-3","recent-file-row"],[1,"file-info"],[1,"close-info",3,"click"],["src","assets/icons/close.svg","alt",""],["src","assets/icons/file-photo.svg","alt","",1,"me-2"],[1,"file-image"],["src","assets/images/file-card.png","alt",""],[1,"v-mar"],[1,"users"],[1,"m-user"],["src","assets/images/profile/small/pic1.jpg","alt",""],[1,"other"],["src","assets/images/profile/small/pic9.jpg","alt",""],["src","assets/images/profile/small/pic3.jpg","alt",""],["src","assets/images/profile/small/pic4.jpg","alt",""],["href","#","data-bs-toggle","modal","data-bs-target","#exampleModal"],["src","assets/images/plus.svg","alt",""],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered","modal-lg"],[1,"modal-content"],[1,"modal-header"],[1,"d-flex","mod-head","justify-content-between"],["id","exampleModalLabel",1,"modal-title"],["href",""],[1,"fa","fa-link"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close","ms-2"],[1,"modal-body"],["placeholder","Enter Name or Email address","displaySearchStatus","default","multiple","","showSelectAll","",3,"data","templates"],[1,"mt-3","title-1"],[1,"list-group","list-group-flush","list-of-user","mb-3"],[1,"list-group-item","d-flex","justify-content-between","align-items-center"],[1,"d-flex","prof"],["src","assets/images/profile/small/pic1.jpg","alt","",1,"me-2"],["name","","id","",1,"form-control-solid"],["value",""],["value","","selected",""],["src","assets/images/profile/small/pic9.jpg","alt","",1,"me-2"],["src","assets/images/profile/small/pic3.jpg","alt","",1,"me-2"],["src","assets/images/profile/small/pic4.jpg","alt","",1,"me-2"],["src","assets/images/profile/small/pic5.jpg","alt","",1,"me-2"],[1,"d-flex","justify-content-end"],["type","button","data-bs-dismiss","modal",1,"btn","btn-primary"],[1,"form-group"],[1,"tags"],[1,"custom-check"],["for","tag1",1,"tag"],["for","tag2",1,"tag"],["for","tag3",1,"tag"],["for","tag4",1,"tag"],["for","tag4",1,"tag","active"],[1,"fa","fa-plus","me-1"],["data-bs-toggle","modal","data-bs-target","#exampleModal",1,"btn","btn-solid","me-3"],["src","./assets/icons/menu/user.svg","alt","",1,"me-2"],[1,"btn","btn-primary",3,"click"],["src","./assets/icons/info.svg","alt","",1,"me-2","filter"],[3,"fileName","progress"],[1,"col-xxl-2","col-xl-3","col-lg-4","col-sm-6"],[1,"recent-folder-card",3,"routerLink","queryParams"],[1,"folder-img"],["src","assets/icons/recent-folder.svg","alt",""],[1,"folder-text"],[1,"recent-folder-title"],[1,"recent-folder-details"],[3,"toggleMenu","showInfo","favorite","card","index","activeCardIndex"],[1,"image","me-2"],["alt","",3,"src"]],template:function(t,i){if(t&1){let n=L();o(0,"div",2)(1,"div",3)(2,"div",4),p(3,"div"),F(4,Ar,7,0,"div",5),a(),o(5,"div",6)(6,"button",7),C("click",function(){_(n);let c=R(11);return w(c.click())}),p(7,"img",8),o(8,"span",9),s(9,"Upload File"),a()(),o(10,"input",10,0),C("change",function(){_(n);let c=R(11);return w(i.onFilesSelected(c.files))}),a(),o(12,"div",11)(13,"h3",12)(14,"div"),s(15,"Loading "),o(16,"span"),s(17),a(),s(18," item."),a(),p(19,"img",13),a(),o(20,"div",14),F(21,Lr,2,2,"div",15),a()(),o(22,"button",16),C("click",function(){return _(n),w(i.openAddProjectModal())}),p(23,"img",17),o(24,"span",9),s(25,"Create project"),a()()(),o(26,"div",18)(27,"strong"),s(28,"Sorting"),a(),o(29,"div",19)(30,"app-sort-files",20),C("optionSelected",function(c){return _(n),w(i.onTypeSelect(c))}),a(),o(31,"app-sort-files",20),C("optionSelected",function(c){return _(n),w(i.onPeopleSelect(c))}),a(),o(32,"app-sort-files",20),C("optionSelected",function(c){return _(n),w(i.onModifiedSelect(c))}),a()()(),o(33,"div",21)(34,"div",22),p(35,"img",23),o(36,"strong"),s(37,"Recent projects"),a()(),o(38,"div",24),F(39,Vr,11,8,"div",25),a()(),o(40,"div",26)(41,"div",22),p(42,"img",23),o(43,"strong"),s(44,"recent file"),a()(),o(45,"div",27),F(46,Br,2,3,"div",25),M(47,"slice"),a()()(),o(48,"div",3)(49,"div",28)(50,"div",29),C("click",function(){return _(n),w(i.closeInfo())}),p(51,"img",30),a(),o(52,"h3"),p(53,"img",31),s(54," WOTN drive.jpg"),a(),o(55,"div",32),p(56,"img",33),a(),o(57,"div",34)(58,"h3"),s(59,"Who has access"),a(),o(60,"div",35)(61,"div",36),p(62,"img",37),a(),o(63,"div",38),p(64,"img",39)(65,"img",40)(66,"img",41),o(67,"a",42),p(68,"img",43),a()()(),o(69,"p"),s(70,"Owend by you."),a()(),o(71,"div",44)(72,"div",45)(73,"div",46)(74,"div",47)(75,"div",48)(76,"h5",49),s(77,'Share "WOTN drive.mp4"'),a(),o(78,"div")(79,"a",50),p(80,"i",51),s(81," copy link"),a(),p(82,"button",52),a()()(),o(83,"div",53)(84,"select2",54),F(85,Ur,2,2,"ng-template",null,1,J),a(),o(87,"h3",55),s(88,"Who has access"),a(),o(89,"ul",56)(90,"a",57)(91,"div",58),p(92,"img",59),o(93,"div")(94,"h5"),s(95,"Ahmed El Hammad"),a(),o(96,"p"),s(97,"Ahmed@exapmle.com.sa"),a()()(),o(98,"div")(99,"select",60)(100,"option",61),s(101,"Editor"),a(),o(102,"option",62),s(103,"Viewer"),a()()()(),o(104,"a",57)(105,"div",58),p(106,"img",63),o(107,"div")(108,"h5"),s(109,"Kareem El Hussainy"),a(),o(110,"p"),s(111,"Ahmed@exapmle.com.sa"),a()()(),o(112,"div")(113,"select",60)(114,"option",61),s(115,"Editor"),a(),o(116,"option",61),s(117,"Viewer"),a()()()(),o(118,"a",57)(119,"div",58),p(120,"img",64),o(121,"div")(122,"h5"),s(123,"Saad El Daly"),a(),o(124,"p"),s(125,"Ahmed@exapmle.com.sa"),a()()(),o(126,"div")(127,"select",60)(128,"option",61),s(129,"Editor"),a(),o(130,"option",61),s(131,"Viewer"),a()()()(),o(132,"a",57)(133,"div",58),p(134,"img",65),o(135,"div")(136,"h5"),s(137,"Amr Hassas"),a(),o(138,"p"),s(139,"Ahmed@exapmle.com.sa"),a()()(),o(140,"div")(141,"select",60)(142,"option",61),s(143,"Editor"),a(),o(144,"option",62),s(145,"Viewer"),a()()()(),o(146,"a",57)(147,"div",58),p(148,"img",66),o(149,"div")(150,"h5"),s(151,"Mostafa El Hammad"),a(),o(152,"p"),s(153,"Ahmed@exapmle.com.sa"),a()()(),o(154,"div")(155,"select",60)(156,"option",61),s(157,"Editor"),a(),o(158,"option",61),s(159,"Viewer"),a()()()()(),o(160,"div",67)(161,"button",68),s(162,"Done"),a()()()()()(),o(163,"div",34)(164,"h3"),s(165,"Tags"),a(),o(166,"div",69)(167,"div",70)(168,"div",71)(169,"label",72),s(170,"Website"),a()(),o(171,"div",71)(172,"label",73),s(173,"Government agencies"),a()(),o(174,"div",71)(175,"label",74),s(176,"Photo"),a()(),o(177,"div",71)(178,"label",75),s(179,"Videos"),a()(),o(180,"div",71)(181,"label",76),p(182,"i",77),s(183," Add Tag"),a()()()()(),o(184,"div",34)(185,"h3"),s(186,"Description"),a(),o(187,"p"),s(188," Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. "),a()(),o(189,"div",34)(190,"h3"),s(191,"Project Details"),a(),o(192,"h4"),s(193,"Project Type"),a(),o(194,"p"),s(195,"conference"),a(),o(196,"h4"),s(197,"Size"),a(),o(198,"p"),s(199,"105.3 MB"),a(),o(200,"h4"),s(201,"Owner"),a(),o(202,"p"),s(203,"You are Owner"),a(),o(204,"h4"),s(205,"Created"),a(),o(206,"p"),s(207,"25 May 2025"),a()()()()()}if(t&2){let n=R(86);U("expand",i.shownInfo),h(4),S("ngIf",i.shownInfo),h(8),U("load",i.isUpload),h(5),V(i.count),h(4),S("ngForOf",i.uploads),h(9),S("label","Type")("icon","assets/icons/file-text.svg")("options",k(26,Tr)),h(),S("label","People")("icon","assets/icons/profile-middle.svg")("options",k(27,Mr)),h(),S("label","Modified")("icon","assets/icons/modified-middle.svg")("options",k(28,Or)),h(7),S("ngForOf",i.projects),h(7),S("ngForOf",mi(47,22,i.projectFiles,0,12)),h(2),U("active",i.shownInfo),h(36),S("data",i.data)("templates",K(29,kr,n))}},dependencies:[te,X,Ei,de,Se,je,le,se,ne,pi,Te],encapsulation:2})};var Wr=["cardElement"],$r=()=>["PDF","Word","Excel"],Zr=()=>["Name 1","Name 2","Name 3"],qr=()=>["Newest","Oldest","Recently Edited"],Yr=l=>({template1:l});function Xr(l,e){if(l&1){let t=L();o(0,"div",61)(1,"app-file-card",62),C("showInfo",function(n){_(t);let r=I();return w(r.showInfo(n))}),a()()}if(l&2){let t=e.$implicit,i=e.index;h(),S("card",t)("index",i)}}function Gr(l,e){if(l&1){let t=L();o(0,"div",61)(1,"app-file-card",62),C("showInfo",function(n){_(t);let r=I();return w(r.showInfo(n))}),a()()}if(l&2){let t=e.$implicit,i=e.index;h(),S("card",t)("index",i)}}function Kr(l,e){if(l&1){let t=L();o(0,"div",61)(1,"app-file-card",63),C("showInfo",function(n){_(t);let r=I();return w(r.showInfo(n))})("favorite",function(n){_(t);let r=I();return w(r.favorite(n))}),a()()}if(l&2){let t=e.$implicit,i=e.index;h(),S("card",t)("index",i)}}function Qr(l,e){if(l&1&&(o(0,"div",64),p(1,"img",65),a()),l&2){let t=I().data;h(),$("src",t==null?null:t.image,N)}}function Jr(l,e){if(l&1&&(F(0,Qr,2,1,"div",64),s(1)),l&2){let t=e.data;Z(t!=null&&t.image?0:-1),h(),D(" ",t==null?null:t.name," ")}}var en=class l{constructor(e,t,i,n,r,c){this.renderer=e;this.fileUploadService=t;this.projectService=i;this.toaster=n;this.translate=r;this.el=c}cardElements;uploads=[];files;isUpload=!1;count=0;subscriptions=[];projects=[];projectFiles=[];isFetching=!1;isFetchingFiles=!1;pageSize=20;currentPage=1;totalItems=0;numberOfPages=0;todayFiles;lastWeekFiles;lastMonthFiles;ngOnInit(){q.bind(this.el.nativeElement,"[data-fancybox]",{}),this.fetchProjectFiles()}fetchProjectFiles(){let e=this.projectService.fetchProjectFiles(null,null,1,1e4,null,null,!0).subscribe(t=>{if(t){let i=new Date,n=new Date(i.getTime()-7*24*60*60*1e3),r=new Date(i.getTime()-30*24*60*60*1e3);this.todayFiles=t.data.filter(c=>(c.postDate?new Date(c.postDate):null)?.toDateString()===i.toDateString()),this.lastWeekFiles=t.data.filter(c=>{let d=c.postDate?new Date(c.postDate):null;return d&&d>n&&d<i&&d.toDateString()!==i.toDateString()}),this.lastMonthFiles=t.data.filter(c=>{let d=c.postDate?new Date(c.postDate):null;return d&&d>r&&d<=n})}this.isFetchingFiles=!1});this.subscriptions.push(e)}data=[{options:[{value:"Omar Ezz",label:"Omar Ezz",data:{name:"Omar Ezz",email:"Omar_Ezz@exapmle.com.sa",image:"assets/images/profile/pic1.jpg"},templateId:"template1",templateSelectionId:"template1Selection",id:"1"},{value:"Emad hamdi",label:"Emad Hamdi",data:{name:"Emad hamdi",email:"emad_hamdi@exapmle.com.sa",image:"assets/images/profile/user4.jpg"},templateId:"template1",templateSelectionId:"template1Selection",id:"2"},{value:"Ehab Zakaria",label:"Ehab Zakaria",data:{name:"Ehab Zakaria",email:"ehab_zakaria@exapmle.com.sa",image:"assets/images/profile/default-profile-img.png"},templateId:"template1",templateSelectionId:"template1Selection",id:"3"},{value:"mohamed Ezz",label:"mohamed Ezz",data:{name:"mohamed Ezz",email:"mohamed@exapmle.com.sa",image:"assets/images/profile/pic1.jpg"},templateId:"template1",templateSelectionId:"template1Selection",id:"4"},{value:"Ali hamdi",label:"Ali Hamdi",data:{name:"Ali hamdi",email:"Ali@exapmle.com.sa",image:"assets/images/profile/user4.jpg"},templateId:"template1",templateSelectionId:"template1Selection",id:"5"},{value:"hassan Zakaria",label:"hassan Zakaria",data:{name:"hassan Zakaria",email:"hassan@exapmle.com.sa",image:"assets/images/profile/default-profile-img.png"},templateId:"template1",templateSelectionId:"template1Selection",id:"6"}]}];favorite(e){console.log(e),this.projectService.setFavourite(e).subscribe(t=>{this.toaster.success("",this.translate.instant("Favorite list updated successfully")),this.fetchProjectFiles()})}onTypeSelect(e){console.log("Selected type:",e)}onPeopleSelect(e){console.log("Selected person:",e)}onModifiedSelect(e){console.log("Selected modified:",e)}shownInfo=!1;showInfo(e){console.log(e),this.shownInfo==!1&&(this.shownInfo=!this.shownInfo)}closeInfo(){this.shownInfo=!this.shownInfo}ngOnDestroy(){q.unbind(this.el.nativeElement),q.close()}static \u0275fac=function(t){return new(t||l)(P(ae),P(be),P(oe),P(re),P(he),P(ye))};static \u0275cmp=W({type:l,selectors:[["app-recents"]],viewQuery:function(t,i){if(t&1&&pe(Wr,5),t&2){let n;ue(n=fe())&&(i.cardElements=n)}},standalone:!1,decls:192,vars:23,consts:[["template1",""],[1,"row","home-layout"],[1,"col"],[1,"sorting"],[1,"pt-3","d-flex","flex-row","gap-3","sorting-row"],[3,"optionSelected","label","icon","options"],[1,"recent-file","pt-5"],[1,"d-flex","flex-row","align-items-center"],["src","assets/icons/middle-arrow-down.svg","alt",""],[1,"row","pt-3","recent-file-row"],["class","col-xxl-2 col-xl-3 col-lg-4 col-sm-6",4,"ngFor","ngForOf"],[1,"file-info"],[1,"close-info",3,"click"],["src","assets/icons/close.svg","alt",""],["src","assets/icons/file-photo.svg","alt","",1,"me-2"],[1,"file-image"],["src","assets/images/file-card.png","alt",""],[1,"v-mar"],[1,"users"],[1,"m-user"],["src","assets/images/profile/small/pic1.jpg","alt",""],[1,"other"],["src","assets/images/profile/small/pic9.jpg","alt",""],["src","assets/images/profile/small/pic3.jpg","alt",""],["src","assets/images/profile/small/pic4.jpg","alt",""],["href","#","data-bs-toggle","modal","data-bs-target","#exampleModal"],["src","assets/images/plus.svg","alt",""],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered","modal-lg"],[1,"modal-content"],[1,"modal-header"],[1,"d-flex","mod-head","justify-content-between"],["id","exampleModalLabel",1,"modal-title"],["href",""],[1,"fa","fa-link"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close","ms-2"],[1,"modal-body"],["placeholder","Enter Name or Email address","displaySearchStatus","default","multiple","","showSelectAll","",3,"data","templates"],[1,"mt-3","title-1"],[1,"list-group","list-group-flush","list-of-user","mb-3"],[1,"list-group-item","d-flex","justify-content-between","align-items-center"],[1,"d-flex","prof"],["src","assets/images/profile/small/pic1.jpg","alt","",1,"me-2"],["name","","id","",1,"form-control-solid"],["value",""],["value","","selected",""],["src","assets/images/profile/small/pic9.jpg","alt","",1,"me-2"],["src","assets/images/profile/small/pic3.jpg","alt","",1,"me-2"],["src","assets/images/profile/small/pic4.jpg","alt","",1,"me-2"],["src","assets/images/profile/small/pic5.jpg","alt","",1,"me-2"],[1,"d-flex","justify-content-end"],["type","button","data-bs-dismiss","modal",1,"btn","btn-primary"],[1,"form-group"],[1,"tags"],[1,"custom-check"],["for","tag1",1,"tag"],["for","tag2",1,"tag"],["for","tag3",1,"tag"],["for","tag4",1,"tag"],["for","tag4",1,"tag","active"],[1,"fa","fa-plus","me-1"],[1,"col-xxl-2","col-xl-3","col-lg-4","col-sm-6"],[3,"showInfo","card","index"],[3,"showInfo","favorite","card","index"],[1,"image","me-2"],["alt","",3,"src"]],template:function(t,i){if(t&1){let n=L();o(0,"div",1)(1,"div",2)(2,"h3"),s(3,"Recent"),a(),o(4,"div",3)(5,"strong"),s(6,"Sorting"),a(),o(7,"div",4)(8,"app-sort-files",5),C("optionSelected",function(c){return _(n),w(i.onTypeSelect(c))}),a(),o(9,"app-sort-files",5),C("optionSelected",function(c){return _(n),w(i.onPeopleSelect(c))}),a(),o(10,"app-sort-files",5),C("optionSelected",function(c){return _(n),w(i.onModifiedSelect(c))}),a()()(),o(11,"div",6)(12,"div",7),p(13,"img",8),o(14,"strong"),s(15,"Today"),a()(),o(16,"div",9),F(17,Xr,2,2,"div",10),a()(),o(18,"div",6)(19,"div",7),p(20,"img",8),o(21,"strong"),s(22,"Last week"),a()(),o(23,"div",9),F(24,Gr,2,2,"div",10),a()(),o(25,"div",6)(26,"div",7),p(27,"img",8),o(28,"strong"),s(29,"Last month"),a()(),o(30,"div",9),F(31,Kr,2,2,"div",10),a()()(),o(32,"div",2)(33,"div",11)(34,"div",12),C("click",function(){return _(n),w(i.closeInfo())}),p(35,"img",13),a(),o(36,"h3"),p(37,"img",14),s(38," WOTN drive.jpg"),a(),o(39,"div",15),p(40,"img",16),a(),o(41,"div",17)(42,"h3"),s(43,"Who has access"),a(),o(44,"div",18)(45,"div",19),p(46,"img",20),a(),o(47,"div",21),p(48,"img",22)(49,"img",23)(50,"img",24),o(51,"a",25),p(52,"img",26),a()()(),o(53,"p"),s(54,"Owend by you."),a()(),o(55,"div",27)(56,"div",28)(57,"div",29)(58,"div",30)(59,"div",31)(60,"h5",32),s(61,'Share "WOTN drive.mp4"'),a(),o(62,"div")(63,"a",33),p(64,"i",34),s(65," copy link"),a(),p(66,"button",35),a()()(),o(67,"div",36)(68,"select2",37),F(69,Jr,2,2,"ng-template",null,0,J),a(),o(71,"h3",38),s(72,"Who has access"),a(),o(73,"ul",39)(74,"a",40)(75,"div",41),p(76,"img",42),o(77,"div")(78,"h5"),s(79,"Ahmed El Hammad"),a(),o(80,"p"),s(81,"Ahmed@exapmle.com.sa"),a()()(),o(82,"div")(83,"select",43)(84,"option",44),s(85,"Editor"),a(),o(86,"option",45),s(87,"Viewer"),a()()()(),o(88,"a",40)(89,"div",41),p(90,"img",46),o(91,"div")(92,"h5"),s(93,"Kareem El Hussainy"),a(),o(94,"p"),s(95,"Ahmed@exapmle.com.sa"),a()()(),o(96,"div")(97,"select",43)(98,"option",44),s(99,"Editor"),a(),o(100,"option",44),s(101,"Viewer"),a()()()(),o(102,"a",40)(103,"div",41),p(104,"img",47),o(105,"div")(106,"h5"),s(107,"Saad El Daly"),a(),o(108,"p"),s(109,"Ahmed@exapmle.com.sa"),a()()(),o(110,"div")(111,"select",43)(112,"option",44),s(113,"Editor"),a(),o(114,"option",44),s(115,"Viewer"),a()()()(),o(116,"a",40)(117,"div",41),p(118,"img",48),o(119,"div")(120,"h5"),s(121,"Amr Hassas"),a(),o(122,"p"),s(123,"Ahmed@exapmle.com.sa"),a()()(),o(124,"div")(125,"select",43)(126,"option",44),s(127,"Editor"),a(),o(128,"option",45),s(129,"Viewer"),a()()()(),o(130,"a",40)(131,"div",41),p(132,"img",49),o(133,"div")(134,"h5"),s(135,"Mostafa El Hammad"),a(),o(136,"p"),s(137,"Ahmed@exapmle.com.sa"),a()()(),o(138,"div")(139,"select",43)(140,"option",44),s(141,"Editor"),a(),o(142,"option",44),s(143,"Viewer"),a()()()()(),o(144,"div",50)(145,"button",51),s(146,"Done"),a()()()()()(),o(147,"div",17)(148,"h3"),s(149,"Tags"),a(),o(150,"div",52)(151,"div",53)(152,"div",54)(153,"label",55),s(154,"Website"),a()(),o(155,"div",54)(156,"label",56),s(157,"Government agencies"),a()(),o(158,"div",54)(159,"label",57),s(160,"Photo"),a()(),o(161,"div",54)(162,"label",58),s(163,"Videos"),a()(),o(164,"div",54)(165,"label",59),p(166,"i",60),s(167," Add Tag"),a()()()()(),o(168,"div",17)(169,"h3"),s(170,"Description"),a(),o(171,"p"),s(172,"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. "),a()(),o(173,"div",17)(174,"h3"),s(175,"Project Details"),a(),o(176,"h4"),s(177,"Project Type"),a(),o(178,"p"),s(179,"conference"),a(),o(180,"h4"),s(181,"Size"),a(),o(182,"p"),s(183,"105.3 MB"),a(),o(184,"h4"),s(185,"Owner"),a(),o(186,"p"),s(187,"You are Owner"),a(),o(188,"h4"),s(189,"Created"),a(),o(190,"p"),s(191,"25 May 2025"),a()()()()()}if(t&2){let n=R(70);U("expand",i.shownInfo),h(8),S("label","Type")("icon","assets/icons/file-text.svg")("options",k(18,$r)),h(),S("label","People")("icon","assets/icons/profile-middle.svg")("options",k(19,Zr)),h(),S("label","Modified")("icon","assets/icons/modified-middle.svg")("options",k(20,qr)),h(7),S("ngForOf",i.todayFiles),h(7),S("ngForOf",i.lastWeekFiles),h(7),S("ngForOf",i.lastMonthFiles),h(),U("active",i.shownInfo),h(36),S("data",i.data)("templates",K(21,Yr,n))}},dependencies:[te,de,Se,le,se,ne],encapsulation:2})};var el=()=>["/projects/project-details"],tl=l=>({id:l});function il(l,e){l&1&&(o(0,"span",17),s(1,"Type: All Types"),a())}function nl(l,e){l&1&&(o(0,"span",17),s(1,"Type: Event"),a())}function ol(l,e){l&1&&(o(0,"span",17),s(1,"Type: Conference"),a())}function al(l,e){l&1&&(o(0,"span",17),s(1,"Sort"),a())}function rl(l,e){l&1&&(o(0,"span",17),s(1,"Sort: Newest"),a())}function ll(l,e){l&1&&(o(0,"span",17),s(1,"Sort: Oldest"),a())}function sl(l,e){l&1&&(o(0,"span",17),s(1,"Sort: Name Asc"),a())}function cl(l,e){l&1&&(o(0,"span",17),s(1,"Sort: Name Desc"),a())}function dl(l,e){if(l&1&&p(0,"img",24),l&2){let t=I().$implicit;S("src",t.imageUrl,N)}}function ml(l,e){if(l&1&&(o(0,"span"),s(1),M(2,"number"),a()),l&2){let t,i=I().$implicit;h(),D("",Q(2,1,((t=i.filesSize)!==null&&t!==void 0?t:0)/1.024,"1.2-2")," MB")}}function pl(l,e){if(l&1&&(o(0,"span"),s(1),M(2,"number"),a()),l&2){let t,i=I().$implicit;h(),D("",Q(2,1,((t=i.filesSize)!==null&&t!==void 0?t:0)*1024,"1.2-2")," KB")}}function ul(l,e){if(l&1&&(o(0,"div",18)(1,"a",19)(2,"div",20),F(3,dl,1,1,"img",21),a(),o(4,"div",22)(5,"span"),s(6),a()(),o(7,"div",23)(8,"span")(9,"span"),F(10,ml,3,4,"span")(11,pl,3,4,"span"),s(12),a()()()()()),l&2){let t,i=e.$implicit;h(),S("routerLink",k(6,el))("queryParams",K(7,tl,i.projectId)),h(2),S("ngIf",i.imageUrl),h(3),V(i.title),h(4),Z(((t=i.filesSize)!==null&&t!==void 0?t:0)>1?10:11),h(2),D(" | ",i.filesNum," items")}}var tn=class l{constructor(e,t,i){this.renderer=e;this.modalService=t;this.projectService=i}subscriptions=[];projects=[];isFetching=!1;pageSize=20;currentPage=1;totalItems=0;numberOfPages=0;ProjectTypes=et;selectedProjectType=null;selectedSortField=null;ngOnInit(){this.fetchProjects()}fetchProjects(){if(this.isFetching)return;this.isFetching=!0;let e=this.projectService.fetchProjects(this.currentPage,this.pageSize,this.selectedProjectType,this.selectedSortField).subscribe(t=>{if(t){this.projects=t.data,this.currentPage=t.currentPage,this.pageSize=t.pageSize,this.totalItems=t.totalItems,this.numberOfPages=t.numberOfPages;debugger}this.isFetching=!1});this.subscriptions.push(e)}filterProjectsByType(e){this.currentPage=1,this.selectedProjectType=e,this.fetchProjects()}orderProjectsBy(e){this.currentPage=1,this.selectedSortField=e,this.fetchProjects()}openAddProjectModal(){let t=this.modalService.open(Mt,{size:"xl",backdrop:"static",keyboard:!1}).componentInstance.isSuccess.subscribe(i=>{i&&this.fetchProjects()});this.subscriptions.push(t)}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}static \u0275fac=function(t){return new(t||l)(P(ae),P(mt),P(oe))};static \u0275cmp=W({type:l,selectors:[["app-projects"]],standalone:!1,decls:52,vars:26,consts:[[1,"row"],[1,"upper","d-flex","flex-row"],[1,"upload-btn",3,"click"],["src","assets/icons/plus.svg","alt",""],[1,"pt-3"],[1,"sorting"],[1,"pt-3","d-flex","flex-row","gap-3","sorting-row"],[1,"dropdown1","dropdown"],["href","javascript:;","type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"dropdown-toggle1","dropdown-toggle"],["src","assets/icons/file-text.svg","alt",""],["class","px-1",4,"ngIf"],["src","assets/icons/middle-arrow-down.svg","alt","",1,"arrow-icon"],[1,"dropdown-menu1","dropdown-menu"],["href","javascript:;",3,"click"],["src","assets/icons/modified-middle.svg","alt",""],[1,"row","pt-3","recent-file-row"],["class","col-xxl-2 col-xl-3 col-lg-4 col-sm-6",4,"ngFor","ngForOf"],[1,"px-1"],[1,"col-xxl-2","col-xl-3","col-lg-4","col-sm-6"],[1,"recent-file-card","projects-block",3,"routerLink","queryParams"],[1,"proj-img-holder"],["alt","",3,"src",4,"ngIf"],[1,"recent-file-type","pt-2","d-flex","flex-row","align-items-center"],[1,"recent-file-footer","pt-2","d-flex","flex-row","align-items-center"],["alt","",3,"src"]],template:function(t,i){t&1&&(o(0,"div",0)(1,"div",1)(2,"button",2),C("click",function(){return i.openAddProjectModal()}),p(3,"img",3),o(4,"span",4),s(5),M(6,"translate"),a()()(),o(7,"div",5)(8,"strong"),s(9,"Sorting"),a(),o(10,"div",6)(11,"div",7)(12,"a",8),p(13,"img",9),F(14,il,2,0,"span",10)(15,nl,2,0,"span",10)(16,ol,2,0,"span",10),p(17,"img",11),a(),o(18,"ul",12)(19,"li")(20,"a",13),C("click",function(){return i.selectedProjectType!=null&&i.filterProjectsByType(null)}),s(21,"All Types"),a()(),o(22,"li")(23,"a",13),C("click",function(){return i.selectedProjectType!=i.ProjectTypes.Event&&i.filterProjectsByType(i.ProjectTypes.Event)}),s(24,"Event"),a()(),o(25,"li")(26,"a",13),C("click",function(){return i.selectedProjectType!=i.ProjectTypes.Conference&&i.filterProjectsByType(i.ProjectTypes.Conference)}),s(27,"Conference"),a()()()(),o(28,"div",7)(29,"a",8),p(30,"img",14),F(31,al,2,0,"span",10)(32,rl,2,0,"span",10)(33,ll,2,0,"span",10)(34,sl,2,0,"span",10)(35,cl,2,0,"span",10),p(36,"img",11),a(),o(37,"ul",12)(38,"li")(39,"a",13),C("click",function(){return i.selectedSortField!="DateDesc"&&i.orderProjectsBy("DateDesc")}),s(40,"Newest"),a()(),o(41,"li")(42,"a",13),C("click",function(){return i.selectedSortField!="DateAsc"&&i.orderProjectsBy("DateAsc")}),s(43,"Oldest"),a()(),o(44,"li")(45,"a",13),C("click",function(){return i.selectedSortField!="TitleAsc"&&i.orderProjectsBy("TitleAsc")}),s(46,"Name Asc"),a()(),o(47,"li")(48,"a",13),C("click",function(){return i.selectedSortField!="TitleDesc"&&i.orderProjectsBy("TitleDesc")}),s(49,"Name Desc"),a()()()()()(),o(50,"div",15),F(51,ul,13,9,"div",16),a()()),t&2&&(h(5),V(H(6,24,"Projects.CreateProject")),h(9),S("ngIf",i.selectedProjectType==null),h(),S("ngIf",i.selectedProjectType==i.ProjectTypes.Event),h(),S("ngIf",i.selectedProjectType==i.ProjectTypes.Conference),h(4),U("selected",i.selectedProjectType==null),h(3),U("selected",i.selectedProjectType==i.ProjectTypes.Event),h(3),U("selected",i.selectedProjectType==i.ProjectTypes.Conference),h(5),S("ngIf",!i.selectedSortField),h(),S("ngIf",i.selectedSortField=="DateDesc"),h(),S("ngIf",i.selectedSortField=="DateAsc"),h(),S("ngIf",i.selectedSortField=="TitleAsc"),h(),S("ngIf",i.selectedSortField=="TitleDesc"),h(4),U("selected",i.selectedSortField=="DateDesc"),h(3),U("selected",i.selectedSortField=="DateAsc"),h(3),U("selected",i.selectedSortField=="TitleAsc"),h(3),U("selected",i.selectedSortField=="TitleDesc"),h(3),S("ngForOf",i.projects))},dependencies:[te,X,je,Te,Pt],styles:["a.selected[_ngcontent-%COMP%]{color:#000!important;cursor:default}"]})};var fl=["cardElement"];function hl(l,e){if(l&1){let t=L();o(0,"button",8),C("click",function(){_(t);let n=I();return w(n.emptyTrash())}),p(1,"img",9),s(2,"Empty trash"),a()}}function gl(l,e){if(l&1){let t=L();o(0,"div",10)(1,"app-file-card",11),C("showInfo",function(n){_(t);let r=I();return w(r.showInfo(n))}),a()()}if(l&2){let t=e.$implicit,i=e.index;h(),S("card",t)("index",i)}}function vl(l,e){l&1&&(o(0,"div",12)(1,"div",13),p(2,"img",14),o(3,"h4"),s(4,"The Trash is empty"),a(),o(5,"p"),s(6,"Items moved to the trash will be permanently deleted after 30 days."),a()()())}var nn=class l{constructor(e,t,i){this.renderer=e;this.fileUploadService=t;this.toaster=i}cardElements;uploads=[];files;isUpload=!1;count=0;cards=[{id:1,isOpen:!0,isVideo:!0,openedAt:"10:54 AM",fileType:"video",fileImage:"assets/images/files/proj-d1.jpg",fileName:"WOTN drive.mp4",filePath:"assets/videos/HeroDesktop.mp4",fileSize:"105.3 MB",favorite:!0,videoDuration:"04:55 Min",Status:1},{id:2,isOpen:!0,isVideo:!0,openedAt:"10:54 AM",fileType:"photo",fileImage:"assets/images/file-card.png",fileName:"WOTN drive.png",filePath:"assets/videos/HeroDesktop.mp4",fileSize:"105.3 MB",favorite:!0,videoDuration:"",Status:1},{id:3,isOpen:!0,isVideo:!0,openedAt:"10:54 AM",fileType:"text",fileImage:"assets/images/files/proj-d2.jpg",fileName:"WOTN drive.pdf",filePath:"assets/videos/HeroDesktop.mp4",fileSize:"105.3 MB",favorite:!0,videoDuration:"",Status:1},{id:4,isOpen:!0,isVideo:!0,openedAt:"10:54 AM",fileType:"video",fileImage:"assets/images/files/project-1.jpg",fileName:"WOTN drive1.mp4",filePath:"assets/videos/HeroDesktop.mp4",fileSize:"105.3 MB",favorite:!0,videoDuration:"04:55 Min",Status:1}];totalFileSizeMB=0;ngOnInit(){this.totalFileSizeMB=this.cards.reduce((e,t)=>e+this.parseFileSize(t.fileSize),0),console.log(`Total file size: ${this.totalFileSizeMB.toFixed(2)} MB`)}parseFileSize(e){let[t,i]=e.split(" "),n=parseFloat(t);switch(i?.toUpperCase()){case"GB":return n*1024;case"MB":return n;case"KB":return n/1024;default:return 0}}emptyTrash(){this.cards=[],this.toaster.success("","Trash is empty"),this.totalFileSizeMB=0}static \u0275fac=function(t){return new(t||l)(P(ae),P(be),P(re))};static \u0275cmp=W({type:l,selectors:[["app-bin"]],viewQuery:function(t,i){if(t&1&&pe(fl,5),t&2){let n;ue(n=fe())&&(i.cardElements=n)}},standalone:!1,decls:14,vars:5,consts:[[1,"row"],[1,"col"],[1,"d-flex","justify-content-between","heady","mb-4"],[1,"recent-file-footer","pt-2","d-flex","flex-row","align-items-center"],["class","btn btn-del",3,"click",4,"ngIf"],[1,"row","pt-3","recent-file-row"],["class","col-xxl-2 col-xl-3 col-lg-4 col-sm-6",4,"ngFor","ngForOf"],["class","row align-items-center justify-content-center mt-5 text-center",4,"ngIf"],[1,"btn","btn-del",3,"click"],["src","./assets/icons/trash1.svg","alt","",1,"me-2"],[1,"col-xxl-2","col-xl-3","col-lg-4","col-sm-6"],[3,"showInfo","card","index"],[1,"row","align-items-center","justify-content-center","mt-5","text-center"],[1,"col-lg-6"],["src","./assets/icons/trash.svg","alt",""]],template:function(t,i){t&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h3"),s(5,"Trash"),a(),o(6,"div",3)(7,"span"),s(8),a()()(),o(9,"div"),F(10,hl,3,0,"button",4),a()(),o(11,"div",5),F(12,gl,2,2,"div",6),a(),F(13,vl,7,0,"div",7),a()()),t&2&&(h(8),li("",i.totalFileSizeMB.toFixed(2)," MB | ",i.cards.length," items"),h(2),S("ngIf",i.cards.length>0),h(2),S("ngForOf",i.cards),h(),S("ngIf",i.cards.length==0))},dependencies:[te,X,de],encapsulation:2})};var bl=["cardElement"],Sl=()=>["PDF","Word","Excel"],xl=()=>["Name 1","Name 2","Name 3"],yl=()=>["Newest","Oldest","Recently Edited"],El=l=>({template1:l});function _l(l,e){if(l&1){let t=L();o(0,"div")(1,"button",64),p(2,"img",65),s(3,"Share"),a(),o(4,"button",66),C("click",function(){_(t);let n=I();return w(n.closeInfo())}),p(5,"img",67),s(6,"Information"),a()()}}function wl(l,e){if(l&1){let t=L();o(0,"div",68)(1,"app-file-card",69),C("showInfo",function(n){_(t);let r=I();return w(r.showInfo(n))}),a()()}if(l&2){let t=e.$implicit,i=e.index;h(),S("card",t)("index",i)}}function Cl(l,e){if(l&1&&(o(0,"div",70),p(1,"img",71),a()),l&2){let t=I().data;h(),$("src",t==null?null:t.image,N)}}function jl(l,e){if(l&1&&(F(0,Cl,2,1,"div",70),s(1)),l&2){let t=e.data;Z(t!=null&&t.image?0:-1),h(),D(" ",t==null?null:t.name," ")}}var on=class l{constructor(e,t){this.renderer=e;this.fileUploadService=t}cardElements;uploads=[];files;isUpload=!1;count=0;data=[{options:[{value:"Omar Ezz",label:"Omar Ezz",data:{name:"Omar Ezz",email:"Omar_Ezz@exapmle.com.sa",image:"assets/images/profile/pic1.jpg"},templateId:"template1",templateSelectionId:"template1Selection",id:"1"},{value:"Emad hamdi",label:"Emad Hamdi",data:{name:"Emad hamdi",email:"emad_hamdi@exapmle.com.sa",image:"assets/images/profile/user4.jpg"},templateId:"template1",templateSelectionId:"template1Selection",id:"2"},{value:"Ehab Zakaria",label:"Ehab Zakaria",data:{name:"Ehab Zakaria",email:"ehab_zakaria@exapmle.com.sa",image:"assets/images/profile/default-profile-img.png"},templateId:"template1",templateSelectionId:"template1Selection",id:"3"},{value:"mohamed Ezz",label:"mohamed Ezz",data:{name:"mohamed Ezz",email:"mohamed@exapmle.com.sa",image:"assets/images/profile/pic1.jpg"},templateId:"template1",templateSelectionId:"template1Selection",id:"4"},{value:"Ali hamdi",label:"Ali Hamdi",data:{name:"Ali hamdi",email:"Ali@exapmle.com.sa",image:"assets/images/profile/user4.jpg"},templateId:"template1",templateSelectionId:"template1Selection",id:"5"},{value:"hassan Zakaria",label:"hassan Zakaria",data:{name:"hassan Zakaria",email:"hassan@exapmle.com.sa",image:"assets/images/profile/default-profile-img.png"},templateId:"template1",templateSelectionId:"template1Selection",id:"6"}]}];cards=[{id:1,isOpen:!0,isVideo:!0,openedAt:"10:54 AM",fileType:"video",fileImage:"assets/images/files/proj-d1.jpg",fileName:"WOTN drive.mp4",filePath:"assets/videos/HeroDesktop.mp4",fileSize:"105.3 MB",favorite:!0,videoDuration:"04:55 Min",Status:1},{id:2,isOpen:!0,isVideo:!0,openedAt:"10:54 AM",fileType:"photo",fileImage:"assets/images/file-card.png",fileName:"WOTN drive.png",filePath:"assets/videos/HeroDesktop.mp4",fileSize:"105.3 MB",favorite:!0,videoDuration:"",Status:1},{id:3,isOpen:!0,isVideo:!0,openedAt:"10:54 AM",fileType:"text",fileImage:"assets/images/files/proj-d2.jpg",fileName:"WOTN drive.pdf",filePath:"assets/videos/HeroDesktop.mp4",fileSize:"105.3 MB",favorite:!1,videoDuration:"",Status:1},{id:4,isOpen:!0,isVideo:!0,openedAt:"10:54 AM",fileType:"video",fileImage:"assets/images/files/project-1.jpg",fileName:"WOTN drive1.mp4",filePath:"assets/videos/HeroDesktop.mp4",fileSize:"105.3 MB",favorite:!0,videoDuration:"04:55 Min",Status:1}];onTypeSelect(e){console.log("Selected type:",e)}onPeopleSelect(e){console.log("Selected person:",e)}onModifiedSelect(e){console.log("Selected modified:",e)}shownInfo=!1;showInfo(e){console.log(e),this.shownInfo==!1&&(this.shownInfo=!this.shownInfo)}closeInfo(){this.shownInfo=!this.shownInfo}static \u0275fac=function(t){return new(t||l)(P(ae),P(be))};static \u0275cmp=W({type:l,selectors:[["app-shared"]],viewQuery:function(t,i){if(t&1&&pe(bl,5),t&2){let n;ue(n=fe())&&(i.cardElements=n)}},standalone:!1,decls:184,vars:22,consts:[["template1",""],[1,"row","home-layout"],[1,"col"],[1,"d-flex","justify-content-between","heady","mb-4"],[1,"recent-file-footer","pt-2","d-flex","flex-row","align-items-center"],[4,"ngIf"],[1,"sorting"],[1,"pt-3","d-flex","flex-row","gap-3","sorting-row"],[3,"optionSelected","label","icon","options"],[1,"recent-file","pt-5"],[1,"d-flex","flex-row","align-items-center"],["src","assets/icons/middle-arrow-down.svg","alt",""],[1,"row","pt-3","recent-file-row"],["class","col-xxl-2 col-xl-3 col-lg-4 col-sm-6",4,"ngFor","ngForOf"],[1,"file-info"],[1,"close-info",3,"click"],["src","assets/icons/close.svg","alt",""],["src","assets/icons/file-photo.svg","alt","",1,"me-2"],[1,"file-image"],["src","assets/images/file-card.png","alt",""],[1,"v-mar"],[1,"users"],[1,"m-user"],["src","assets/images/profile/small/pic1.jpg","alt",""],[1,"other"],["src","assets/images/profile/small/pic9.jpg","alt",""],["src","assets/images/profile/small/pic3.jpg","alt",""],["src","assets/images/profile/small/pic4.jpg","alt",""],["href","#","data-bs-toggle","modal","data-bs-target","#exampleModal"],["src","assets/images/plus.svg","alt",""],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered","modal-lg"],[1,"modal-content"],[1,"modal-header"],[1,"d-flex","mod-head","justify-content-between"],["id","exampleModalLabel",1,"modal-title"],["href",""],[1,"fa","fa-link"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close","ms-2"],[1,"modal-body"],["placeholder","Enter Name or Email address","displaySearchStatus","default","multiple","","showSelectAll","",3,"data","templates"],[1,"mt-3","title-1"],[1,"list-group","list-group-flush","list-of-user","mb-3"],[1,"list-group-item","d-flex","justify-content-between","align-items-center"],[1,"d-flex","prof"],["src","assets/images/profile/small/pic1.jpg","alt","",1,"me-2"],["name","","id","",1,"form-control-solid"],["value",""],["value","","selected",""],["src","assets/images/profile/small/pic9.jpg","alt","",1,"me-2"],["src","assets/images/profile/small/pic3.jpg","alt","",1,"me-2"],["src","assets/images/profile/small/pic4.jpg","alt","",1,"me-2"],["src","assets/images/profile/small/pic5.jpg","alt","",1,"me-2"],[1,"d-flex","justify-content-end"],["type","button","data-bs-dismiss","modal",1,"btn","btn-primary"],[1,"form-group"],[1,"tags"],[1,"custom-check"],["for","tag1",1,"tag"],["for","tag2",1,"tag"],["for","tag3",1,"tag"],["for","tag4",1,"tag"],["for","tag4",1,"tag","active"],[1,"fa","fa-plus","me-1"],["data-bs-toggle","modal","data-bs-target","#exampleModal",1,"btn","btn-solid","me-3"],["src","./assets/icons/menu/user.svg","alt","",1,"me-2"],[1,"btn","btn-primary",3,"click"],["src","./assets/icons/info.svg","alt","",1,"me-2","filter"],[1,"col-xxl-2","col-xl-3","col-lg-4","col-sm-6"],[3,"showInfo","card","index"],[1,"image","me-2"],["alt","",3,"src"]],template:function(t,i){if(t&1){let n=L();o(0,"div",1)(1,"div",2)(2,"div",3)(3,"div")(4,"h3"),s(5,"Shared with me"),a(),o(6,"div",4)(7,"span"),s(8,"105.3 MB | 235 items"),a()()(),F(9,_l,7,0,"div",5),a(),o(10,"div",6)(11,"strong"),s(12,"Sorting"),a(),o(13,"div",7)(14,"app-sort-files",8),C("optionSelected",function(c){return _(n),w(i.onTypeSelect(c))}),a(),o(15,"app-sort-files",8),C("optionSelected",function(c){return _(n),w(i.onPeopleSelect(c))}),a(),o(16,"app-sort-files",8),C("optionSelected",function(c){return _(n),w(i.onModifiedSelect(c))}),a()()(),o(17,"div",9)(18,"div",10),p(19,"img",11),o(20,"strong"),s(21,"Today"),a()(),o(22,"div",12),F(23,wl,2,2,"div",13),a()()(),o(24,"div",2)(25,"div",14)(26,"div",15),C("click",function(){return _(n),w(i.closeInfo())}),p(27,"img",16),a(),o(28,"h3"),p(29,"img",17),s(30," WOTN drive.jpg"),a(),o(31,"div",18),p(32,"img",19),a(),o(33,"div",20)(34,"h3"),s(35,"Who has access"),a(),o(36,"div",21)(37,"div",22),p(38,"img",23),a(),o(39,"div",24),p(40,"img",25)(41,"img",26)(42,"img",27),o(43,"a",28),p(44,"img",29),a()()(),o(45,"p"),s(46,"Owend by you."),a()(),o(47,"div",30)(48,"div",31)(49,"div",32)(50,"div",33)(51,"div",34)(52,"h5",35),s(53,'Share "WOTN drive.mp4"'),a(),o(54,"div")(55,"a",36),p(56,"i",37),s(57," copy link"),a(),p(58,"button",38),a()()(),o(59,"div",39)(60,"select2",40),F(61,jl,2,2,"ng-template",null,0,J),a(),o(63,"h3",41),s(64,"Who has access"),a(),o(65,"ul",42)(66,"a",43)(67,"div",44),p(68,"img",45),o(69,"div")(70,"h5"),s(71,"Ahmed El Hammad"),a(),o(72,"p"),s(73,"Ahmed@exapmle.com.sa"),a()()(),o(74,"div")(75,"select",46)(76,"option",47),s(77,"Editor"),a(),o(78,"option",48),s(79,"Viewer"),a()()()(),o(80,"a",43)(81,"div",44),p(82,"img",49),o(83,"div")(84,"h5"),s(85,"Kareem El Hussainy"),a(),o(86,"p"),s(87,"Ahmed@exapmle.com.sa"),a()()(),o(88,"div")(89,"select",46)(90,"option",47),s(91,"Editor"),a(),o(92,"option",47),s(93,"Viewer"),a()()()(),o(94,"a",43)(95,"div",44),p(96,"img",50),o(97,"div")(98,"h5"),s(99,"Saad El Daly"),a(),o(100,"p"),s(101,"Ahmed@exapmle.com.sa"),a()()(),o(102,"div")(103,"select",46)(104,"option",47),s(105,"Editor"),a(),o(106,"option",47),s(107,"Viewer"),a()()()(),o(108,"a",43)(109,"div",44),p(110,"img",51),o(111,"div")(112,"h5"),s(113,"Amr Hassas"),a(),o(114,"p"),s(115,"Ahmed@exapmle.com.sa"),a()()(),o(116,"div")(117,"select",46)(118,"option",47),s(119,"Editor"),a(),o(120,"option",48),s(121,"Viewer"),a()()()(),o(122,"a",43)(123,"div",44),p(124,"img",52),o(125,"div")(126,"h5"),s(127,"Mostafa El Hammad"),a(),o(128,"p"),s(129,"Ahmed@exapmle.com.sa"),a()()(),o(130,"div")(131,"select",46)(132,"option",47),s(133,"Editor"),a(),o(134,"option",47),s(135,"Viewer"),a()()()()(),o(136,"div",53)(137,"button",54),s(138,"Done"),a()()()()()(),o(139,"div",20)(140,"h3"),s(141,"Tags"),a(),o(142,"div",55)(143,"div",56)(144,"div",57)(145,"label",58),s(146,"Website"),a()(),o(147,"div",57)(148,"label",59),s(149,"Government agencies"),a()(),o(150,"div",57)(151,"label",60),s(152,"Photo"),a()(),o(153,"div",57)(154,"label",61),s(155,"Videos"),a()(),o(156,"div",57)(157,"label",62),p(158,"i",63),s(159," Add Tag"),a()()()()(),o(160,"div",20)(161,"h3"),s(162,"Description"),a(),o(163,"p"),s(164,"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. "),a()(),o(165,"div",20)(166,"h3"),s(167,"Project Details"),a(),o(168,"h4"),s(169,"Project Type"),a(),o(170,"p"),s(171,"conference"),a(),o(172,"h4"),s(173,"Size"),a(),o(174,"p"),s(175,"105.3 MB"),a(),o(176,"h4"),s(177,"Owner"),a(),o(178,"p"),s(179,"You are Owner"),a(),o(180,"h4"),s(181,"Created"),a(),o(182,"p"),s(183,"25 May 2025"),a()()()()()}if(t&2){let n=R(62);U("expand",i.shownInfo),h(9),S("ngIf",i.shownInfo),h(5),S("label","Type")("icon","assets/icons/file-text.svg")("options",k(17,Sl)),h(),S("label","People")("icon","assets/icons/profile-middle.svg")("options",k(18,xl)),h(),S("label","Modified")("icon","assets/icons/modified-middle.svg")("options",k(19,yl)),h(7),S("ngForOf",i.cards),h(),U("active",i.shownInfo),h(36),S("data",i.data)("templates",K(20,El,n))}},dependencies:[te,X,de,Se,le,se,ne],encapsulation:2})};var Il=["cardElement"],Fl=()=>["PDF","Word","Excel"],Pl=()=>["Name 1","Name 2","Name 3"],Tl=()=>["Newest","Oldest","Recently Edited"],Ml=l=>({template1:l});function Ol(l,e){if(l&1&&(o(0,"span"),s(1),M(2,"number"),a()),l&2){let t,i=I();h(),D("",Q(2,1,((t=i.totalFileSize)!==null&&t!==void 0?t:0)/1.024,"1.2-2")," MB")}}function kl(l,e){if(l&1&&(o(0,"span"),s(1),M(2,"number"),a()),l&2){let t,i=I();h(),D("",Q(2,1,((t=i.totalFileSize)!==null&&t!==void 0?t:0)*1024,"1.2-2")," KB")}}function Dl(l,e){if(l&1){let t=L();o(0,"div")(1,"button",64),p(2,"img",65),s(3,"Share"),a(),o(4,"button",66),C("click",function(){_(t);let n=I();return w(n.closeInfo())}),p(5,"img",67),s(6,"Information"),a()()}}function zl(l,e){if(l&1){let t=L();o(0,"div",68)(1,"app-file-card",69),C("showInfo",function(n){_(t);let r=I();return w(r.showInfo(n))})("favorite",function(n){_(t);let r=I();return w(r.favorite(n))}),a()()}if(l&2){let t=e.$implicit,i=e.index;h(),S("card",t)("index",i)}}function Al(l,e){if(l&1&&(o(0,"div",70),p(1,"img",71),a()),l&2){let t=I().data;h(),$("src",t==null?null:t.image,N)}}function Ll(l,e){if(l&1&&(F(0,Al,2,1,"div",70),s(1)),l&2){let t=e.data;Z(t!=null&&t.image?0:-1),h(),D(" ",t==null?null:t.name," ")}}var an=class l{constructor(e,t,i,n,r,c){this.renderer=e;this.fileUploadService=t;this.projectService=i;this.toaster=n;this.translate=r;this.el=c}subscriptions=[];projects=[];projectFiles=[];isFetching=!1;isFetchingFiles=!1;pageSize=20;currentPage=1;totalItems=0;numberOfPages=0;ProjectTypes=et;selectedProjectType=null;selectedSortField=null;cardElements;uploads=[];files;isUpload=!1;count=0;totalFileSize;fileCount;ngOnInit(){q.bind(this.el.nativeElement,"[data-fancybox]",{}),this.fetchProjectFiles()}fetchProjectFiles(){let e=this.projectService.fetchProjectFiles(null,null,1,1e4,null,null,!0).subscribe(t=>{if(t){let i=Number(localStorage.getItem("userId"));this.projectFiles=t.data.filter(n=>n.createdByUserId===i),this.totalFileSize=this.projectFiles.reduce((n,r)=>n+(r.fileSize??0),0),this.fileCount=this.projectFiles.length,console.log("Project files:",this.projectFiles)}this.isFetchingFiles=!1});this.subscriptions.push(e)}data=[{options:[{value:"Omar Ezz",label:"Omar Ezz",data:{name:"Omar Ezz",email:"Omar_Ezz@exapmle.com.sa",image:"assets/images/profile/pic1.jpg"},templateId:"template1",templateSelectionId:"template1Selection",id:"1"},{value:"Emad hamdi",label:"Emad Hamdi",data:{name:"Emad hamdi",email:"emad_hamdi@exapmle.com.sa",image:"assets/images/profile/user4.jpg"},templateId:"template1",templateSelectionId:"template1Selection",id:"2"},{value:"Ehab Zakaria",label:"Ehab Zakaria",data:{name:"Ehab Zakaria",email:"ehab_zakaria@exapmle.com.sa",image:"assets/images/profile/default-profile-img.png"},templateId:"template1",templateSelectionId:"template1Selection",id:"3"},{value:"mohamed Ezz",label:"mohamed Ezz",data:{name:"mohamed Ezz",email:"mohamed@exapmle.com.sa",image:"assets/images/profile/pic1.jpg"},templateId:"template1",templateSelectionId:"template1Selection",id:"4"},{value:"Ali hamdi",label:"Ali Hamdi",data:{name:"Ali hamdi",email:"Ali@exapmle.com.sa",image:"assets/images/profile/user4.jpg"},templateId:"template1",templateSelectionId:"template1Selection",id:"5"},{value:"hassan Zakaria",label:"hassan Zakaria",data:{name:"hassan Zakaria",email:"hassan@exapmle.com.sa",image:"assets/images/profile/default-profile-img.png"},templateId:"template1",templateSelectionId:"template1Selection",id:"6"}]}];favorite(e){console.log(e),this.projectService.setFavourite(e).subscribe(t=>{this.toaster.success("",this.translate.instant("Favorite list updated successfully")),this.fetchProjectFiles()})}onTypeSelect(e){console.log("Selected type:",e)}onPeopleSelect(e){console.log("Selected person:",e)}onModifiedSelect(e){console.log("Selected modified:",e)}shownInfo=!1;showInfo(e){console.log(e),this.shownInfo==!1&&(this.shownInfo=!this.shownInfo)}closeInfo(){this.shownInfo=!this.shownInfo}ngOnDestroy(){q.unbind(this.el.nativeElement),q.close()}static \u0275fac=function(t){return new(t||l)(P(ae),P(be),P(oe),P(re),P(he),P(ye))};static \u0275cmp=W({type:l,selectors:[["app-mine"]],viewQuery:function(t,i){if(t&1&&pe(Il,5),t&2){let n;ue(n=fe())&&(i.cardElements=n)}},standalone:!1,decls:186,vars:24,consts:[["template1",""],[1,"row","home-layout"],[1,"col"],[1,"d-flex","justify-content-between","heady","mb-4"],[1,"recent-file-footer","pt-2","d-flex","flex-row","align-items-center"],[4,"ngIf"],[1,"sorting"],[1,"pt-3","d-flex","flex-row","gap-3","sorting-row"],[3,"optionSelected","label","icon","options"],[1,"recent-file","pt-5"],[1,"d-flex","flex-row","align-items-center"],["src","assets/icons/middle-arrow-down.svg","alt",""],[1,"row","pt-3","recent-file-row"],["class","col-xxl-2 col-xl-3 col-lg-4 col-sm-6",4,"ngFor","ngForOf"],[1,"file-info"],[1,"close-info",3,"click"],["src","assets/icons/close.svg","alt",""],["src","assets/icons/file-photo.svg","alt","",1,"me-2"],[1,"file-image"],["src","assets/images/file-card.png","alt",""],[1,"v-mar"],[1,"users"],[1,"m-user"],["src","assets/images/profile/small/pic1.jpg","alt",""],[1,"other"],["src","assets/images/profile/small/pic9.jpg","alt",""],["src","assets/images/profile/small/pic3.jpg","alt",""],["src","assets/images/profile/small/pic4.jpg","alt",""],["href","#","data-bs-toggle","modal","data-bs-target","#exampleModal"],["src","assets/images/plus.svg","alt",""],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered","modal-lg"],[1,"modal-content"],[1,"modal-header"],[1,"d-flex","mod-head","justify-content-between"],["id","exampleModalLabel",1,"modal-title"],["href",""],[1,"fa","fa-link"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close","ms-2"],[1,"modal-body"],["placeholder","Enter Name or Email address","displaySearchStatus","default","multiple","","showSelectAll","",3,"data","templates"],[1,"mt-3","title-1"],[1,"list-group","list-group-flush","list-of-user","mb-3"],[1,"list-group-item","d-flex","justify-content-between","align-items-center"],[1,"d-flex","prof"],["src","assets/images/profile/small/pic1.jpg","alt","",1,"me-2"],["name","","id","",1,"form-control-solid"],["value",""],["value","","selected",""],["src","assets/images/profile/small/pic9.jpg","alt","",1,"me-2"],["src","assets/images/profile/small/pic3.jpg","alt","",1,"me-2"],["src","assets/images/profile/small/pic4.jpg","alt","",1,"me-2"],["src","assets/images/profile/small/pic5.jpg","alt","",1,"me-2"],[1,"d-flex","justify-content-end"],["type","button","data-bs-dismiss","modal",1,"btn","btn-primary"],[1,"form-group"],[1,"tags"],[1,"custom-check"],["for","tag1",1,"tag"],["for","tag2",1,"tag"],["for","tag3",1,"tag"],["for","tag4",1,"tag"],["for","tag4",1,"tag","active"],[1,"fa","fa-plus","me-1"],["data-bs-toggle","modal","data-bs-target","#exampleModal",1,"btn","btn-solid","me-3"],["src","./assets/icons/menu/user.svg","alt","",1,"me-2"],[1,"btn","btn-primary",3,"click"],["src","./assets/icons/info.svg","alt","",1,"me-2","filter"],[1,"col-xxl-2","col-xl-3","col-lg-4","col-sm-6"],[3,"showInfo","favorite","card","index"],[1,"image","me-2"],["alt","",3,"src"]],template:function(t,i){if(t&1){let n=L();o(0,"div",1)(1,"div",2)(2,"div",3)(3,"div")(4,"h3"),s(5,"My files"),a(),o(6,"div",4)(7,"span"),F(8,Ol,3,4,"span")(9,kl,3,4,"span"),s(10),a()()(),F(11,Dl,7,0,"div",5),a(),o(12,"div",6)(13,"strong"),s(14,"Sorting"),a(),o(15,"div",7)(16,"app-sort-files",8),C("optionSelected",function(c){return _(n),w(i.onTypeSelect(c))}),a(),o(17,"app-sort-files",8),C("optionSelected",function(c){return _(n),w(i.onPeopleSelect(c))}),a(),o(18,"app-sort-files",8),C("optionSelected",function(c){return _(n),w(i.onModifiedSelect(c))}),a()()(),o(19,"div",9)(20,"div",10),p(21,"img",11),o(22,"strong"),s(23,"Today"),a()(),o(24,"div",12),F(25,zl,2,2,"div",13),a()()(),o(26,"div",2)(27,"div",14)(28,"div",15),C("click",function(){return _(n),w(i.closeInfo())}),p(29,"img",16),a(),o(30,"h3"),p(31,"img",17),s(32," WOTN drive.jpg"),a(),o(33,"div",18),p(34,"img",19),a(),o(35,"div",20)(36,"h3"),s(37,"Who has access"),a(),o(38,"div",21)(39,"div",22),p(40,"img",23),a(),o(41,"div",24),p(42,"img",25)(43,"img",26)(44,"img",27),o(45,"a",28),p(46,"img",29),a()()(),o(47,"p"),s(48,"Owend by you."),a()(),o(49,"div",30)(50,"div",31)(51,"div",32)(52,"div",33)(53,"div",34)(54,"h5",35),s(55,'Share "WOTN drive.mp4"'),a(),o(56,"div")(57,"a",36),p(58,"i",37),s(59," copy link"),a(),p(60,"button",38),a()()(),o(61,"div",39)(62,"select2",40),F(63,Ll,2,2,"ng-template",null,0,J),a(),o(65,"h3",41),s(66,"Who has access"),a(),o(67,"ul",42)(68,"a",43)(69,"div",44),p(70,"img",45),o(71,"div")(72,"h5"),s(73,"Ahmed El Hammad"),a(),o(74,"p"),s(75,"Ahmed@exapmle.com.sa"),a()()(),o(76,"div")(77,"select",46)(78,"option",47),s(79,"Editor"),a(),o(80,"option",48),s(81,"Viewer"),a()()()(),o(82,"a",43)(83,"div",44),p(84,"img",49),o(85,"div")(86,"h5"),s(87,"Kareem El Hussainy"),a(),o(88,"p"),s(89,"Ahmed@exapmle.com.sa"),a()()(),o(90,"div")(91,"select",46)(92,"option",47),s(93,"Editor"),a(),o(94,"option",47),s(95,"Viewer"),a()()()(),o(96,"a",43)(97,"div",44),p(98,"img",50),o(99,"div")(100,"h5"),s(101,"Saad El Daly"),a(),o(102,"p"),s(103,"Ahmed@exapmle.com.sa"),a()()(),o(104,"div")(105,"select",46)(106,"option",47),s(107,"Editor"),a(),o(108,"option",47),s(109,"Viewer"),a()()()(),o(110,"a",43)(111,"div",44),p(112,"img",51),o(113,"div")(114,"h5"),s(115,"Amr Hassas"),a(),o(116,"p"),s(117,"Ahmed@exapmle.com.sa"),a()()(),o(118,"div")(119,"select",46)(120,"option",47),s(121,"Editor"),a(),o(122,"option",48),s(123,"Viewer"),a()()()(),o(124,"a",43)(125,"div",44),p(126,"img",52),o(127,"div")(128,"h5"),s(129,"Mostafa El Hammad"),a(),o(130,"p"),s(131,"Ahmed@exapmle.com.sa"),a()()(),o(132,"div")(133,"select",46)(134,"option",47),s(135,"Editor"),a(),o(136,"option",47),s(137,"Viewer"),a()()()()(),o(138,"div",53)(139,"button",54),s(140,"Done"),a()()()()()(),o(141,"div",20)(142,"h3"),s(143,"Tags"),a(),o(144,"div",55)(145,"div",56)(146,"div",57)(147,"label",58),s(148,"Website"),a()(),o(149,"div",57)(150,"label",59),s(151,"Government agencies"),a()(),o(152,"div",57)(153,"label",60),s(154,"Photo"),a()(),o(155,"div",57)(156,"label",61),s(157,"Videos"),a()(),o(158,"div",57)(159,"label",62),p(160,"i",63),s(161," Add Tag"),a()()()()(),o(162,"div",20)(163,"h3"),s(164,"Description"),a(),o(165,"p"),s(166,"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. "),a()(),o(167,"div",20)(168,"h3"),s(169,"Project Details"),a(),o(170,"h4"),s(171,"Project Type"),a(),o(172,"p"),s(173,"conference"),a(),o(174,"h4"),s(175,"Size"),a(),o(176,"p"),s(177,"105.3 MB"),a(),o(178,"h4"),s(179,"Owner"),a(),o(180,"p"),s(181,"You are Owner"),a(),o(182,"h4"),s(183,"Created"),a(),o(184,"p"),s(185,"25 May 2025"),a()()()()()}if(t&2){let n,r,c=R(64);U("expand",i.shownInfo),h(8),Z(((n=i.totalFileSize)!==null&&n!==void 0?n:0)>1?8:9),h(2),D(" | ",(r=i.fileCount)!==null&&r!==void 0?r:0," items"),h(),S("ngIf",i.shownInfo),h(5),S("label","Type")("icon","assets/icons/file-text.svg")("options",k(19,Fl)),h(),S("label","People")("icon","assets/icons/profile-middle.svg")("options",k(20,Pl)),h(),S("label","Modified")("icon","assets/icons/modified-middle.svg")("options",k(21,Tl)),h(7),S("ngForOf",i.projectFiles),h(),U("active",i.shownInfo),h(36),S("data",i.data)("templates",K(22,Ml,c))}},dependencies:[te,X,de,Se,le,se,ne,Te],encapsulation:2})};var Rl=()=>["PDF","Word","Excel"],Nl=()=>["Name 1","Name 2","Name 3"],Vl=()=>["Newest","Oldest","Recently Edited"],Bl=l=>({template1:l});function Hl(l,e){if(l&1){let t=L();o(0,"div")(1,"button",63),p(2,"img",64),s(3,"Share"),a(),o(4,"button",65),C("click",function(){_(t);let n=I();return w(n.closeInfo())}),p(5,"img",66),s(6,"Information"),a()()}}function Ul(l,e){if(l&1){let t=L();o(0,"div",67)(1,"app-file-card",68),C("showInfo",function(n){_(t);let r=I();return w(r.showInfo(n))}),a()()}if(l&2){let t=e.$implicit,i=e.index;h(),S("card",t)("index",i)}}function Wl(l,e){if(l&1&&(o(0,"div",69),p(1,"img",70),a()),l&2){let t=I().data;h(),$("src",t==null?null:t.image,N)}}function $l(l,e){if(l&1&&(F(0,Wl,2,1,"div",69),s(1)),l&2){let t=e.data;Z(t!=null&&t.image?0:-1),h(),D(" ",t==null?null:t.name," ")}}var rn=class l{constructor(e,t){this.projectService=e;this.el=t}projectFiles=[];bootstrap;subscriptions=[];projectId;isFetching=!1;isFetchingProjects=!1;isFetchingFiles=!1;userId;ngOnInit(){q.bind(this.el.nativeElement,"[data-fancybox]",{}),this.userId=localStorage.getItem("userId"),this.fetchProjectFiles()}fetchProjectFiles(){let e=this.projectService.fetchProjectFiles(null,null,1,1e4,null,this.userId,!0).subscribe(t=>{t&&(console.log(t),this.projectFiles=t.data,console.log(this.projectFiles)),this.isFetchingFiles=!1});this.subscriptions.push(e)}data=[{options:[{value:"Omar Ezz",label:"Omar Ezz",data:{name:"Omar Ezz",email:"Omar_Ezz@exapmle.com.sa",image:"assets/images/profile/pic1.jpg"},templateId:"template1",templateSelectionId:"template1Selection",id:"1"},{value:"Emad hamdi",label:"Emad Hamdi",data:{name:"Emad hamdi",email:"emad_hamdi@exapmle.com.sa",image:"assets/images/profile/user4.jpg"},templateId:"template1",templateSelectionId:"template1Selection",id:"2"},{value:"Ehab Zakaria",label:"Ehab Zakaria",data:{name:"Ehab Zakaria",email:"ehab_zakaria@exapmle.com.sa",image:"assets/images/profile/default-profile-img.png"},templateId:"template1",templateSelectionId:"template1Selection",id:"3"},{value:"mohamed Ezz",label:"mohamed Ezz",data:{name:"mohamed Ezz",email:"mohamed@exapmle.com.sa",image:"assets/images/profile/pic1.jpg"},templateId:"template1",templateSelectionId:"template1Selection",id:"4"},{value:"Ali hamdi",label:"Ali Hamdi",data:{name:"Ali hamdi",email:"Ali@exapmle.com.sa",image:"assets/images/profile/user4.jpg"},templateId:"template1",templateSelectionId:"template1Selection",id:"5"},{value:"hassan Zakaria",label:"hassan Zakaria",data:{name:"hassan Zakaria",email:"hassan@exapmle.com.sa",image:"assets/images/profile/default-profile-img.png"},templateId:"template1",templateSelectionId:"template1Selection",id:"6"}]}];onTypeSelect(e){}onPeopleSelect(e){}onModifiedSelect(e){}shownInfo=!1;showInfo(e){console.log(e),this.shownInfo==!1&&(this.shownInfo=!this.shownInfo)}closeInfo(){this.shownInfo=!this.shownInfo}ngOnDestroy(){q.unbind(this.el.nativeElement),q.close()}static \u0275fac=function(t){return new(t||l)(P(oe),P(ye))};static \u0275cmp=W({type:l,selectors:[["app-favorite"]],standalone:!1,decls:181,vars:22,consts:[["template1",""],[1,"row","home-layout"],[1,"col"],[1,"d-flex","justify-content-between","heady","mb-4"],[4,"ngIf"],[1,"sorting"],[1,"pt-3","d-flex","flex-row","gap-3","sorting-row"],[3,"optionSelected","label","icon","options"],[1,"recent-file","pt-5"],[1,"d-flex","flex-row","align-items-center"],["src","assets/icons/middle-arrow-down.svg","alt",""],[1,"row","pt-3","recent-file-row"],["class","col-xxl-2 col-xl-3 col-lg-4 col-sm-6",4,"ngFor","ngForOf"],[1,"file-info"],[1,"close-info",3,"click"],["src","assets/icons/close.svg","alt",""],["src","assets/icons/file-photo.svg","alt","",1,"me-2"],[1,"file-image"],["src","assets/images/file-card.png","alt",""],[1,"v-mar"],[1,"users"],[1,"m-user"],["src","assets/images/profile/small/pic1.jpg","alt",""],[1,"other"],["src","assets/images/profile/small/pic9.jpg","alt",""],["src","assets/images/profile/small/pic3.jpg","alt",""],["src","assets/images/profile/small/pic4.jpg","alt",""],["href","#","data-bs-toggle","modal","data-bs-target","#exampleModal"],["src","assets/images/plus.svg","alt",""],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered","modal-lg"],[1,"modal-content"],[1,"modal-header"],[1,"d-flex","mod-head","justify-content-between"],["id","exampleModalLabel",1,"modal-title"],["href",""],[1,"fa","fa-link"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close","ms-2"],[1,"modal-body"],["placeholder","Enter Name or Email address","displaySearchStatus","default","multiple","","showSelectAll","",3,"data","templates"],[1,"mt-3","title-1"],[1,"list-group","list-group-flush","list-of-user","mb-3"],[1,"list-group-item","d-flex","justify-content-between","align-items-center"],[1,"d-flex","prof"],["src","assets/images/profile/small/pic1.jpg","alt","",1,"me-2"],["name","","id","",1,"form-control-solid"],["value",""],["value","","selected",""],["src","assets/images/profile/small/pic9.jpg","alt","",1,"me-2"],["src","assets/images/profile/small/pic3.jpg","alt","",1,"me-2"],["src","assets/images/profile/small/pic4.jpg","alt","",1,"me-2"],["src","assets/images/profile/small/pic5.jpg","alt","",1,"me-2"],[1,"d-flex","justify-content-end"],["type","button","data-bs-dismiss","modal",1,"btn","btn-primary"],[1,"form-group"],[1,"tags"],[1,"custom-check"],["for","tag1",1,"tag"],["for","tag2",1,"tag"],["for","tag3",1,"tag"],["for","tag4",1,"tag"],["for","tag4",1,"tag","active"],[1,"fa","fa-plus","me-1"],["data-bs-toggle","modal","data-bs-target","#exampleModal",1,"btn","btn-solid","me-3"],["src","./assets/icons/menu/user.svg","alt","",1,"me-2"],[1,"btn","btn-primary",3,"click"],["src","./assets/icons/info.svg","alt","",1,"me-2","filter"],[1,"col-xxl-2","col-xl-3","col-lg-4","col-sm-6"],[3,"showInfo","card","index"],[1,"image","me-2"],["alt","",3,"src"]],template:function(t,i){if(t&1){let n=L();o(0,"div",1)(1,"div",2)(2,"div",3)(3,"div")(4,"h3"),s(5,"Favorite"),a()(),F(6,Hl,7,0,"div",4),a(),o(7,"div",5)(8,"strong"),s(9,"Sorting"),a(),o(10,"div",6)(11,"app-sort-files",7),C("optionSelected",function(c){return _(n),w(i.onTypeSelect(c))}),a(),o(12,"app-sort-files",7),C("optionSelected",function(c){return _(n),w(i.onPeopleSelect(c))}),a(),o(13,"app-sort-files",7),C("optionSelected",function(c){return _(n),w(i.onModifiedSelect(c))}),a()()(),o(14,"div",8)(15,"div",9),p(16,"img",10),o(17,"strong"),s(18,"Today"),a()(),o(19,"div",11),F(20,Ul,2,2,"div",12),a()()(),o(21,"div",2)(22,"div",13)(23,"div",14),C("click",function(){return _(n),w(i.closeInfo())}),p(24,"img",15),a(),o(25,"h3"),p(26,"img",16),s(27," WOTN drive.jpg"),a(),o(28,"div",17),p(29,"img",18),a(),o(30,"div",19)(31,"h3"),s(32,"Who has access"),a(),o(33,"div",20)(34,"div",21),p(35,"img",22),a(),o(36,"div",23),p(37,"img",24)(38,"img",25)(39,"img",26),o(40,"a",27),p(41,"img",28),a()()(),o(42,"p"),s(43,"Owend by you."),a()(),o(44,"div",29)(45,"div",30)(46,"div",31)(47,"div",32)(48,"div",33)(49,"h5",34),s(50,'Share "WOTN drive.mp4"'),a(),o(51,"div")(52,"a",35),p(53,"i",36),s(54," copy link"),a(),p(55,"button",37),a()()(),o(56,"div",38)(57,"select2",39),F(58,$l,2,2,"ng-template",null,0,J),a(),o(60,"h3",40),s(61,"Who has access"),a(),o(62,"ul",41)(63,"a",42)(64,"div",43),p(65,"img",44),o(66,"div")(67,"h5"),s(68,"Ahmed El Hammad"),a(),o(69,"p"),s(70,"Ahmed@exapmle.com.sa"),a()()(),o(71,"div")(72,"select",45)(73,"option",46),s(74,"Editor"),a(),o(75,"option",47),s(76,"Viewer"),a()()()(),o(77,"a",42)(78,"div",43),p(79,"img",48),o(80,"div")(81,"h5"),s(82,"Kareem El Hussainy"),a(),o(83,"p"),s(84,"Ahmed@exapmle.com.sa"),a()()(),o(85,"div")(86,"select",45)(87,"option",46),s(88,"Editor"),a(),o(89,"option",46),s(90,"Viewer"),a()()()(),o(91,"a",42)(92,"div",43),p(93,"img",49),o(94,"div")(95,"h5"),s(96,"Saad El Daly"),a(),o(97,"p"),s(98,"Ahmed@exapmle.com.sa"),a()()(),o(99,"div")(100,"select",45)(101,"option",46),s(102,"Editor"),a(),o(103,"option",46),s(104,"Viewer"),a()()()(),o(105,"a",42)(106,"div",43),p(107,"img",50),o(108,"div")(109,"h5"),s(110,"Amr Hassas"),a(),o(111,"p"),s(112,"Ahmed@exapmle.com.sa"),a()()(),o(113,"div")(114,"select",45)(115,"option",46),s(116,"Editor"),a(),o(117,"option",47),s(118,"Viewer"),a()()()(),o(119,"a",42)(120,"div",43),p(121,"img",51),o(122,"div")(123,"h5"),s(124,"Mostafa El Hammad"),a(),o(125,"p"),s(126,"Ahmed@exapmle.com.sa"),a()()(),o(127,"div")(128,"select",45)(129,"option",46),s(130,"Editor"),a(),o(131,"option",46),s(132,"Viewer"),a()()()()(),o(133,"div",52)(134,"button",53),s(135,"Done"),a()()()()()(),o(136,"div",19)(137,"h3"),s(138,"Tags"),a(),o(139,"div",54)(140,"div",55)(141,"div",56)(142,"label",57),s(143,"Website"),a()(),o(144,"div",56)(145,"label",58),s(146,"Government agencies"),a()(),o(147,"div",56)(148,"label",59),s(149,"Photo"),a()(),o(150,"div",56)(151,"label",60),s(152,"Videos"),a()(),o(153,"div",56)(154,"label",61),p(155,"i",62),s(156," Add Tag"),a()()()()(),o(157,"div",19)(158,"h3"),s(159,"Description"),a(),o(160,"p"),s(161,"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. "),a()(),o(162,"div",19)(163,"h3"),s(164,"Project Details"),a(),o(165,"h4"),s(166,"Project Type"),a(),o(167,"p"),s(168,"conference"),a(),o(169,"h4"),s(170,"Size"),a(),o(171,"p"),s(172,"105.3 MB"),a(),o(173,"h4"),s(174,"Owner"),a(),o(175,"p"),s(176,"You are Owner"),a(),o(177,"h4"),s(178,"Created"),a(),o(179,"p"),s(180,"25 May 2025"),a()()()()()}if(t&2){let n=R(59);U("expand",i.shownInfo),h(6),S("ngIf",i.shownInfo),h(5),S("label","Type")("icon","assets/icons/file-text.svg")("options",k(17,Rl)),h(),S("label","People")("icon","assets/icons/profile-middle.svg")("options",k(18,Nl)),h(),S("label","Modified")("icon","assets/icons/modified-middle.svg")("options",k(19,Vl)),h(7),S("ngForOf",i.projectFiles),h(),U("active",i.shownInfo),h(36),S("data",i.data)("templates",K(20,Bl,n))}},dependencies:[te,X,de,Se,le,se,ne],encapsulation:2})};var ln=class l{constructor(e,t,i=0,n,r,c,d=11,m=!0,u=null){this.parentId=e;this.projectId=t;this.type=i;this.title=n;this.brief=r;this.imageUrl=c;this.typeId=d;this.isActive=m;this.areaReference=u}folderId;folderHtml=null;static \u0275fac=function(t){return new(t||l)(we("parentId"),we("projectId"),we("type"),we("title"),we("brief"),we("imageUrl"),we("typeId"),we("isActive"),we("areaReference"))};static \u0275prov=Ve({token:l,factory:l.\u0275fac,providedIn:"root"})};function Zl(l,e){l&1&&(o(0,"div",27),s(1),M(2,"translate"),a()),l&2&&(h(),D(" ",H(2,1,"RequieredField")," "))}function ql(l,e){if(l&1&&(o(0,"div",28)(1,"h5"),s(2),M(3,"translate"),a(),p(4,"img",29),M(5,"translate"),a()),l&2){let t=I();h(2),D("",H(3,3,"Folders.ImagePreview"),":"),h(2),$("alt",H(5,5,"Folders.UploadedImage")),S("src",t.imagePreview,N)}}var Vt=class l{constructor(e,t,i,n){this.activeModal=e;this.translate=t;this.toastr=i;this.projectService=n}isSuccess=new Ge;projectId;parentId;folderForm;hasError=!1;isLoading=!1;isSubmittedItem=!1;selectedFile=null;imagePreview=null;subscriptions=[];ngOnInit(){this.initializeForm()}initializeForm(){this.folderForm=new hi({title:new me("",$t.required),brief:new me(""),imageFile:new me(null),parentId:new me(this.parentId),projectId:new me(this.projectId),typeId:new me(11),type:new me(0),isActive:new me(!0)},{validators:this.dateGreaterThan("startDate","endDate")})}submitFolder(){if(this.isSubmittedItem=!0,this.folderForm.invalid){this.folderForm.markAllAsTouched(),this.toastr.error(this.translate.instant("Folders.EnterValidData"));return}let e=new FormData;Object.keys(this.folderForm.controls).forEach(r=>{e.append(r,this.folderForm.get(r)?.value)}),this.selectedFile&&e.append("imageFile",this.selectedFile,this.selectedFile.name);let t=this.folderForm.value,i=new ln(t.parentId,t.projectId,t.type,t.title,t.brief,t.imageUrl,t.typeId,t.isActive);console.log(i);let n=this.projectService.createFolder(e).subscribe(r=>{r?(this.toastr.success(this.translate.instant("Folders.FolderAddedSuccessfully")),this.isSuccess.emit(!0),this.closeModal()):this.showError(this.translate.instant("Folders.FolderCreationFaild"))},r=>{console.error("Error creating folder:",r),this.showError(this.translate.instant("Folders.FolderCreationFaild"))});this.subscriptions.push(n)}showError(e){this.toastr.error(e)}closeModal(){this.activeModal.close()}onDragOver(e){e.preventDefault()}onFileChange(e){let t=e.target.files[0];if(t){this.selectedFile=t;let i=new FileReader;i.onload=n=>this.imagePreview=n.target?.result,i.readAsDataURL(t)}}onDrop(e){e.preventDefault();let t=e.dataTransfer?.files;if(t&&t.length){this.selectedFile=t[0];let i=new FileReader;i.onload=n=>this.imagePreview=n.target?.result,i.readAsDataURL(this.selectedFile)}}dateGreaterThan(e,t){return i=>{let n=i.get(e)?.value,r=i.get(t)?.value;return n&&!r||!n&&r||n&&r&&new Date(r)<=new Date(n)?{dateInvalid:!0}:null}}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}static \u0275fac=function(t){return new(t||l)(P(xi),P(he),P(re),P(oe))};static \u0275cmp=W({type:l,selectors:[["app-folder-create"]],outputs:{isSuccess:"isSuccess"},standalone:!1,decls:54,vars:35,consts:[["imageFile",""],[1,"modal-header"],[1,"d-flex","mod-head","justify-content-between"],["id","addFolderModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close","ms-2",3,"click"],[3,"ngSubmit","formGroup"],["id","parentId","formControlName","parentId","type","hidden"],["id","projectId","formControlName","projectId","type","hidden"],["id","typeId","formControlName","typeId","type","hidden"],["id","type","formControlName","type","type","hidden"],["id","isActive","formControlName","isActive","type","hidden"],[1,"modal-body"],[1,"row"],[1,"col-lg-12"],[1,"form-group"],["for","title"],["id","title","type","text","formControlName","title",1,"form-control",3,"placeholder"],["class","alert alert-danger",4,"ngIf"],["for","brief"],["id","brief","formControlName","brief","rows","3",1,"form-control",3,"placeholder"],["for","imageFile"],[1,"fileset",3,"click","dragover","drop"],["src","assets/images/Upload.svg",3,"alt"],["id","imageFile","accept","image/*","formControlName","imageFile","type","file",2,"display","none",3,"change"],["class","image-preview mt-3",4,"ngIf"],[1,"d-flex","justify-content-end"],["type","submit",1,"btn","btn-primary"],[1,"alert","alert-danger"],[1,"image-preview","mt-3"],[1,"img-thumbnail",2,"max-width","100%","height","auto",3,"src","alt"]],template:function(t,i){if(t&1){let n=L();o(0,"div",1)(1,"div",2)(2,"h5",3),s(3),M(4,"translate"),a(),o(5,"div")(6,"button",4),C("click",function(){return _(n),w(i.closeModal())}),a()()()(),o(7,"form",5),C("ngSubmit",function(){return _(n),w(i.submitFolder())}),p(8,"input",6)(9,"input",7)(10,"input",8)(11,"input",9)(12,"input",10),o(13,"div",11)(14,"div",12)(15,"div",13)(16,"div",14)(17,"label",15),s(18),M(19,"translate"),o(20,"em"),s(21,"*"),a()(),p(22,"input",16),M(23,"translate"),a(),F(24,Zl,3,3,"div",17),a(),o(25,"div",13)(26,"div",14)(27,"label",18),s(28),M(29,"translate"),a(),p(30,"textarea",19),M(31,"translate"),a()(),o(32,"div",13)(33,"div",14)(34,"label",20),s(35),M(36,"translate"),a(),o(37,"div",21),C("click",function(){_(n);let c=R(47);return w(c.click())})("dragover",function(c){return _(n),w(i.onDragOver(c))})("drop",function(c){return _(n),w(i.onDrop(c))}),p(38,"img",22),M(39,"translate"),o(40,"h4"),s(41),M(42,"translate"),a(),o(43,"p"),s(44),M(45,"translate"),a(),o(46,"input",23,0),C("change",function(c){return _(n),w(i.onFileChange(c))}),a()()()(),o(48,"div",13),F(49,ql,6,7,"div",24),a()(),o(50,"div",25)(51,"button",26),s(52),M(53,"translate"),a()()()()}if(t&2){let n;h(3),V(H(4,15,"Folders.CreateFolder")),h(4),S("formGroup",i.folderForm),h(11),D("",H(19,17,"Folders.FolderName")," "),h(4),lt("placeholder","",H(23,19,"Folders.WriteFolderNameHere"),"..."),h(2),S("ngIf",((n=i.folderForm.get("title"))==null?null:n.invalid)&&(i.isSubmittedItem||((n=i.folderForm.get("title"))==null?null:n.touched)||((n=i.folderForm.get("title"))==null?null:n.dirty))),h(4),V(H(29,21,"Folders.Description")),h(2),lt("placeholder","",H(31,23,"Folders.WriteDescriptionHere"),"..."),h(5),D(" ",H(36,25,"Folders.AddPropjectPhoto"),""),h(3),$("alt",H(39,27,"Upload")),h(3),V(H(42,29,"Folders.DropImageHereOrBrowse")),h(3),V(H(45,31,"Folders.PhotoInfo")),h(5),S("ngIf",i.imagePreview),h(3),D(" ",H(53,33,"Save")," ")}},dependencies:[X,Ue,ct,dt,He,vi,bi,Pt],encapsulation:2})};var Xl=()=>["PDF","Word","Excel"],Gl=()=>["Name 1","Name 2","Name 3"],Kl=()=>["Newest","Oldest","Recently Edited"],Ql=l=>({template1:l}),Jl=()=>["/projects/project-map"],es=l=>({id:l}),ts=()=>["/projects/folder-details"],is=(l,e)=>({id:l,projectId:e});function ns(l,e){if(l&1&&(o(0,"span"),s(1),M(2,"number"),a()),l&2){let t,i=I();h(),D("",Q(2,1,((t=i.project==null?null:i.project.filesSize)!==null&&t!==void 0?t:0)/1.024,"1.2-2")," MB")}}function os(l,e){if(l&1&&(o(0,"span"),s(1),M(2,"number"),a()),l&2){let t,i=I();h(),D("",Q(2,1,((t=i.project==null?null:i.project.filesSize)!==null&&t!==void 0?t:0)*1024,"1.2-2")," KB")}}function as(l,e){if(l&1){let t=L();o(0,"div")(1,"button",115),p(2,"img",116),s(3,"Share"),a(),o(4,"button",117),C("click",function(){_(t);let n=I();return w(n.closeInfo())}),p(5,"img",118),s(6,"Information"),a()()}}function rs(l,e){if(l&1){let t=L();o(0,"a",12),C("click",function(){_(t),I();let n=R(28);return w(n.click())}),p(1,"img",13),o(2,"span",14),s(3,"Add Map"),a()()}}function ls(l,e){if(l&1&&(o(0,"a",119),p(1,"i",120),o(2,"span",14),s(3,"Open Map"),a()()),l&2){let t=I();S("routerLink",k(2,Jl))("queryParams",K(3,es,t.projectMap.folderId))}}function ss(l,e){l&1&&(o(0,"div"),s(1," File url is required "),a())}function cs(l,e){if(l&1&&(o(0,"div",121),F(1,ss,2,0,"div",10),a()),l&2){I();let t=R(47);h(),S("ngIf",t==null||t.errors==null?null:t.errors.required)}}function ds(l,e){if(l&1&&p(0,"img",127),l&2){let t=I().$implicit;S("src",t.imageUrl,N)}}function ms(l,e){if(l&1&&(o(0,"span"),s(1),M(2,"number"),a()),l&2){let t,i=I().$implicit;h(),D("",Q(2,1,((t=i.filesSize)!==null&&t!==void 0?t:0)/1.024,"1.2-2")," MB")}}function ps(l,e){if(l&1&&(o(0,"span"),s(1),M(2,"number"),a()),l&2){let t,i=I().$implicit;h(),D("",Q(2,1,((t=i.filesSize)!==null&&t!==void 0?t:0)*1024,"1.2-2")," KB")}}function us(l,e){if(l&1&&(o(0,"div",122)(1,"a",123)(2,"div",124),F(3,ds,1,1,"img",125),a(),o(4,"div",126)(5,"span"),s(6),a()(),o(7,"div",9)(8,"span"),F(9,ms,3,4,"span")(10,ps,3,4,"span"),s(11),a()()()()),l&2){let t,i,n=e.$implicit,r=I();h(),S("routerLink",k(6,ts))("queryParams",Ft(7,is,n.folderId,r.projectId)),h(2),S("ngIf",n.imageUrl),h(3),V(n.title),h(3),Z(((t=n.filesSize)!==null&&t!==void 0?t:0)>1?9:10),h(2),D(" | ",(i=n.filesNum)!==null&&i!==void 0?i:0," items")}}function fs(l,e){if(l&1){let t=L();o(0,"div",122)(1,"app-file-card",128),C("showInfo",function(n){_(t);let r=I();return w(r.showInfo(n))})("favorite",function(n){_(t);let r=I();return w(r.favorite(n))}),a()()}if(l&2){let t=e.$implicit,i=e.index;h(),S("card",t)("index",i)}}function hs(l,e){if(l&1&&(o(0,"div",129),p(1,"img",130),a()),l&2){let t=I().data;h(),$("src",t==null?null:t.image,N)}}function gs(l,e){if(l&1&&(F(0,hs,2,1,"div",129),s(1)),l&2){let t=e.data;Z(t!=null&&t.image?0:-1),h(),D(" ",t==null?null:t.name," ")}}var sn=class l{constructor(e,t,i,n,r,c,d,m,u,f,g){this.route=e;this.renderer=t;this.projectCoverService=i;this.fileUploadService=n;this.projectService=r;this.modalService=c;this.router=d;this.toaster=m;this.translate=u;this.el=f;this.uploadService=g}active=1;uploads=[];projectFolders=[];projectMap=null;projectFiles=[];isUpload=!1;count=0;bootstrap;subscriptions=[];projectId;project;isFetching=!1;isFetchingProjects=!1;isFetchingFiles=!1;isFetchingMap=!1;extFile="";ngOnInit(){q.bind(this.el.nativeElement,"[data-fancybox]",{}),this.route.queryParams.subscribe(e=>{this.projectId=e.id,this.fetchProject(this.projectId),this.fetchProjectMap(this.projectId),this.fetchProjectFolders(this.projectId),this.fetchProjectFiles(this.projectId)})}fetchProject(e){if(!e||this.isFetching)return;this.isFetching=!0;let t=this.projectService.fetchProject(e).subscribe(i=>{i&&(this.project=i,this.project?.imageUrl&&setTimeout(()=>{this.projectCoverService.setSource(this.project?.imageUrl??""),this.projectCoverService.setShow(!0)})),this.isFetching=!1});this.subscriptions.push(t)}fetchProjectFolders(e){if(!e||this.isFetchingProjects)return;this.isFetchingProjects=!0;let t=this.projectService.fetchProjectFolders(e,null,1,1e4,null,null,0).subscribe(i=>{i&&(console.log("Project folders:",i),this.projectFolders=i.data),this.isFetchingProjects=!1});this.subscriptions.push(t)}fetchProjectFiles(e){if(!e||this.isFetchingFiles)return;this.isFetchingFiles=!0;let t=this.projectService.fetchProjectFiles(e,null,1,1e4,null,null,!0).subscribe(i=>{i&&(this.projectFiles=i.data,console.log(this.projectFiles)),this.isFetchingFiles=!1});this.subscriptions.push(t)}fetchProjectMap(e,t=!1){if(!e||this.isFetchingMap)return;this.isFetchingMap=!0;let i=this.projectService.fetchProjectFolders(e,null,1,1e4,null,null,1).subscribe(n=>{n&&(this.projectMap=n.data[0],t&&this.projectMap&&this.router.navigate(["/projects/project-map"],{queryParams:{id:this.projectMap.folderId}})),this.isFetchingMap=!1});this.subscriptions.push(i)}data=[{options:[{value:"Omar Ezz",label:"Omar Ezz",data:{name:"Omar Ezz",email:"Omar_Ezz@exapmle.com.sa",image:"assets/images/profile/pic1.jpg"},templateId:"template1",templateSelectionId:"template1Selection",id:"1"},{value:"Emad hamdi",label:"Emad Hamdi",data:{name:"Emad hamdi",email:"emad_hamdi@exapmle.com.sa",image:"assets/images/profile/user4.jpg"},templateId:"template1",templateSelectionId:"template1Selection",id:"2"},{value:"Ehab Zakaria",label:"Ehab Zakaria",data:{name:"Ehab Zakaria",email:"ehab_zakaria@exapmle.com.sa",image:"assets/images/profile/default-profile-img.png"},templateId:"template1",templateSelectionId:"template1Selection",id:"3"},{value:"mohamed Ezz",label:"mohamed Ezz",data:{name:"mohamed Ezz",email:"mohamed@exapmle.com.sa",image:"assets/images/profile/pic1.jpg"},templateId:"template1",templateSelectionId:"template1Selection",id:"4"},{value:"Ali hamdi",label:"Ali Hamdi",data:{name:"Ali hamdi",email:"Ali@exapmle.com.sa",image:"assets/images/profile/user4.jpg"},templateId:"template1",templateSelectionId:"template1Selection",id:"5"},{value:"hassan Zakaria",label:"hassan Zakaria",data:{name:"hassan Zakaria",email:"hassan@exapmle.com.sa",image:"assets/images/profile/default-profile-img.png"},templateId:"template1",templateSelectionId:"template1Selection",id:"6"}]}];onTypeSelect(e){console.log("Selected type:",e)}onPeopleSelect(e){console.log("Selected person:",e)}onModifiedSelect(e){console.log("Selected modified:",e)}shownInfo=!1;showInfo(e){console.log(e),this.shownInfo==!1&&(this.shownInfo=!this.shownInfo)}favorite(e){console.log(e),this.projectService.setFavourite(e).subscribe(t=>{this.toaster.success("",this.translate.instant("Favorite list updated successfully")),this.fetchProjectFiles(this.projectId)})}closeInfo(){this.shownInfo=!this.shownInfo}onMapFileSelected=e=>{if(e.length===0)return;let t=e[0];if(!t.type.startsWith("image/")){alert("Please upload a valid image file.");return}let i=new FileReader;i.onload=n=>{let r=n.target?.result;this.uploads=[],this.isUpload=!0;let c=new FormData;c.append("imageFile",t,t.name);let d=this.getFileType(t);d!==null&&c.append("fileType",d.toString()),c.append("title",t.name),c.append("isActive","true"),c.append("TypeId","11"),c.append("projectId",this.projectId?.toString()??""),c.append("folderHtml",JSON.stringify({img:r})),c.append("parentId",""),c.append("type",1 .toString());let m={fileName:t.name,progress:0};this.uploads.push(m),this.projectService.createFolder(c).pipe(Ne(f=>{f.type===Ce.UploadProgress?f.total&&(m.progress=Math.round(100*f.loaded/f.total)):f.type===Ce.Response&&(m.progress=100,console.log("Upload map complete for",m.fileName,f.body),this.fetchProjectMap(this.projectId,!0))})).subscribe({next:f=>{console.log("Upload completed!",f),setTimeout(()=>{this.isUpload=!1,this.closeProjectUploadModal()},3e3)},error:f=>{console.error("Error during file upload:",f),this.isUpload=!1}})},i.readAsDataURL(t)};externalUpload(){let e=new FormData,t=new File([this.extFile],this.extFile,{type:"text/plain"});e.append("Title",t.name);let i=this.getFileType(t);i!==null&&e.append("fileType",i.toString()),e.append("isActive","true"),e.append("TypeId","12"),e.append("projectId",this.projectId?.toString()??""),e.append("folderId",""),e.append("ExternalFileUrl",this.extFile),console.log("formData",e),this.projectService.createFile1(e).subscribe(n=>{n&&(console.log("Upload complete for",n),this.closeProjectUploadModal(),this.fetchProjectFiles(this.projectId))})}onFilesSelected=e=>{if(e.length===0)return;this.uploads=[],this.isUpload=!0,this.count=e.length;let t=[];for(let i=0;i<e.length;i++){let n=e[i],r=this.uploadService.startUpload(n.name),c=new FormData;c.append("fileFile",n,n.name);let d=this.getFileType(n);d!==null&&c.append("fileType",d.toString()),c.append("Title",n.name),c.append("isActive","true"),c.append("TypeId","12"),c.append("projectId",this.projectId?.toString()??""),c.append("folderId","");let m={fileName:n.name,progress:0};this.uploads.push(m);let u=this.projectService.createFile(c).pipe(Ne(f=>{f.type===Ce.UploadProgress?f.total&&(m.progress=Math.round(100*f.loaded/f.total),this.uploadService.updateProgress(r,m.progress)):f.type===Ce.Response&&(m.progress=100,this.uploadService.updateProgress(r,m.progress),console.log("Upload complete for",m.fileName,f.body),this.fetchProjectFiles(this.projectId))}));t.push(u)}Re(t).subscribe({next:i=>{console.log("All uploads completed!",i),setTimeout(()=>{this.isUpload=!1,this.closeProjectUploadModal()},3e3)},error:i=>{console.error("Error during file upload:",i),this.isUpload=!1}})};getFileType(e){switch(e.name.split(".").pop()?.toLowerCase()){case"jpg":case"jpeg":case"png":case"gif":return 0;case"mp4":case"avi":return 1;case"pdf":return 2;case"doc":case"docx":return 3;case"xls":case"xlsx":return 4;case"ppt":case"pptx":return 5;case"txt":return 6;case"zip":return 7;default:return null}}modalInstance;ngAfterViewInit(){let e=document.getElementById("projectUploadModal");if(e){let t=window.bootstrap;this.modalInstance=new t.Modal(e)}}closeProjectUploadModal(){this.modalInstance?.hide()}openAddFolderModal(){let e=this.modalService.open(Vt,{backdrop:"static",keyboard:!1});e.componentInstance.projectId=this.projectId,e.componentInstance.parentId="";let t=e.componentInstance.isSuccess.subscribe(i=>{i&&this.fetchProjectFolders(this.projectId)});this.subscriptions.push(t)}ngOnDestroy(){q.unbind(this.el.nativeElement),q.close(),setTimeout(()=>{this.projectCoverService.setShow(!1)}),this.subscriptions.forEach(e=>e.unsubscribe())}static \u0275fac=function(t){return new(t||l)(P(Be),P(ae),P(We),P(be),P(oe),P(mt),P(st),P(re),P(he),P(ye),P(yi))};static \u0275cmp=W({type:l,selectors:[["app-project-details"]],standalone:!1,decls:356,vars:30,consts:[["mapFile",""],["file",""],["extFileForm","ngForm"],["extFile1","ngModel"],["sidebarRef",""],["template1",""],[1,"row","home-layout"],[1,"col"],[1,"d-flex","justify-content-between","heady"],[1,"recent-file-footer","pt-2","d-flex","flex-row","align-items-center"],[4,"ngIf"],[1,"upper","d-flex","flex-row"],[1,"upload-btn",3,"click"],["src","assets/icons/plus.svg","alt",""],[1,"pt-3"],["data-bs-toggle","modal","data-bs-target","#projectUploadModal",1,"upload-btn"],["class","upload-btn",3,"click",4,"ngIf"],["class","upload-btn",3,"routerLink","queryParams",4,"ngIf"],["type","file","accept","image/*",1,"form-control",2,"display","none",3,"change"],["type","file","placeholder","Choose file","multiple","",1,"form-control",2,"display","none",3,"change"],["id","projectUploadModal","tabindex","-1","aria-labelledby","projectUploadModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered","modal-lg"],[1,"modal-content"],[1,"modal-header"],[1,"d-flex","mod-head","justify-content-between"],["id","projectUploadModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close","ms-2"],[1,"modal-body"],[1,"form",3,"ngSubmit"],[1,"form-group"],["for",""],["type","text","placeholder","Files url","id","extFile","name","extFile","required","",1,"form-control",3,"ngModelChange","ngModel"],["class","alert alert-danger",4,"ngIf"],[1,"d-flex","justify-content-end"],["type","submit",1,"btn","btn-primary"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger","ms-3"],[1,"sorting"],[1,"pt-3","d-flex","flex-row","gap-3","sorting-row"],[3,"optionSelected","label","icon","options"],[1,"recent-file","pt-5"],[1,"d-flex","flex-row","align-items-center"],["src","assets/icons/middle-arrow-down.svg","alt",""],[1,"row","pt-3","recent-file-row"],["class","col-xxl-2 col-xl-3 col-lg-4 col-sm-6",4,"ngFor","ngForOf"],[1,"file-info"],[1,"close-info",3,"click"],["src","./assets/icons/close.svg","alt",""],["id","myTab","role","tablist",1,"nav","nav-tabs","mb-3"],["role","presentation",1,"nav-item"],["id","Details-tab","data-bs-toggle","tab","data-bs-target","#Details-tab-pane","type","button","role","tab","aria-controls","Details-tab-pane","aria-selected","true",1,"nav-link","active"],["src","./assets/icons/timeline.svg","alt","",1,"me-1"],["id","Timeline-tab","data-bs-toggle","tab","data-bs-target","#Timeline-tab-pane","type","button","role","tab","aria-controls","Timeline-tab-pane","aria-selected","false",1,"nav-link"],["src","./assets/icons/clock.svg","alt","",1,"me-1"],["id","myTabContent",1,"tab-content"],["id","Details-tab-pane","role","tabpanel","aria-labelledby","Details-tab","tabindex","0",1,"tab-pane","fade","show","active"],["src","assets/icons/file-photo.svg","alt","",1,"me-2"],[1,"file-image"],["src","assets/images/file-card.png","alt",""],[1,"v-mar"],[1,"users"],[1,"m-user"],["src","assets/images/profile/small/pic1.jpg","alt",""],[1,"other"],["src","assets/images/profile/small/pic9.jpg","alt",""],["src","assets/images/profile/small/pic3.jpg","alt",""],["src","assets/images/profile/small/pic4.jpg","alt",""],["href","#","data-bs-toggle","modal","data-bs-target","#exampleModal"],["src","./assets/images/plus.svg","alt",""],[1,"tags"],[1,"custom-check"],["for","tag1",1,"tag"],["for","tag2",1,"tag"],["for","tag3",1,"tag"],["for","tag4",1,"tag"],["for","tag4",1,"tag","active"],[1,"fa","fa-plus","me-1"],["id","Timeline-tab-pane","role","tabpanel","aria-labelledby","Timeline-tab","tabindex","0",1,"tab-pane","fade"],[1,"activities"],["href","",1,"replied"],["src","./assets/icons/reply1.svg","alt","",1,"me-1"],[1,"file-timeline","mt-3"],[1,"ms-4"],[1,"active"],[1,"comment-header"],["src","./assets/images/pp.jpg","alt","User"],[1,"comment-name"],[1,"deta"],[1,"commented"],[1,"comment-text"],[1,"attachment"],["href",""],["src","./assets/icons/attachment.svg","alt","",1,"me-1"],[1,"time","d-flex","justify-content-end"],["href","#",1,"reply-button"],[1,"latest"],["src","./assets/images/1.jpg","alt","User"],["href","",1,"replied","dark"],["src","./assets/icons/reply.svg","alt","",1,"me-1"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["id","exampleModalLabel",1,"modal-title"],[1,"fa","fa-link"],["placeholder","Enter Name or Email address","displaySearchStatus","default","multiple","","showSelectAll","",3,"data","templates"],[1,"mt-3","title-1"],[1,"list-group","list-group-flush","list-of-user","mb-3"],[1,"list-group-item","d-flex","justify-content-between","align-items-center"],[1,"d-flex","prof"],["src","assets/images/profile/small/pic1.jpg","alt","",1,"me-2"],["name","","id","",1,"form-control-solid"],["value",""],["value","","selected",""],["src","assets/images/profile/small/pic9.jpg","alt","",1,"me-2"],["src","assets/images/profile/small/pic3.jpg","alt","",1,"me-2"],["src","assets/images/profile/small/pic4.jpg","alt","",1,"me-2"],["src","assets/images/profile/small/pic5.jpg","alt","",1,"me-2"],["type","button","data-bs-dismiss","modal",1,"btn","btn-primary"],["data-bs-toggle","modal","data-bs-target","#exampleModal",1,"btn","btn-solid","me-3"],["src","./assets/icons/menu/user.svg","alt","",1,"me-2"],[1,"btn","btn-primary",3,"click"],["src","./assets/icons/info.svg","alt","",1,"me-2","filter"],[1,"upload-btn",3,"routerLink","queryParams"],[1,"las","la-map","la-2x"],[1,"alert","alert-danger"],[1,"col-xxl-2","col-xl-3","col-lg-4","col-sm-6"],[1,"recent-file-card","projects-block",3,"routerLink","queryParams"],[1,"proj-img-holder"],[3,"src",4,"ngIf"],[1,"recent-file-type","pt-2","d-flex","flex-row","align-items-center"],[3,"src"],[3,"showInfo","favorite","card","index"],[1,"image","me-2"],["alt","",3,"src"]],template:function(t,i){if(t&1){let n=L();o(0,"div",6)(1,"div",7)(2,"div",8)(3,"div")(4,"h3"),s(5),a(),o(6,"div",9)(7,"span"),F(8,ns,3,4,"span")(9,os,3,4,"span"),s(10),a()()(),F(11,as,7,0,"div",10),a(),o(12,"div",11)(13,"button",12),C("click",function(){return _(n),w(i.openAddFolderModal())}),p(14,"img",13),o(15,"span",14),s(16,"Create Folder"),a()(),o(17,"button",15),p(18,"img",13),o(19,"span",14),s(20,"Import Files via URL"),a()(),o(21,"button",12),C("click",function(){_(n);let c=R(30);return w(c.click())}),p(22,"img",13),o(23,"span",14),s(24,"Upload File"),a()(),F(25,rs,4,0,"a",16)(26,ls,4,5,"a",17),o(27,"input",18,0),C("change",function(){_(n);let c=R(28);return w(i.onMapFileSelected(c.files))}),a(),o(29,"input",19,1),C("change",function(){_(n);let c=R(30);return w(i.onFilesSelected(c.files))}),a()(),o(31,"div",20)(32,"div",21)(33,"div",22)(34,"div",23)(35,"div",24)(36,"h5",25),s(37,"Upload files"),a(),o(38,"div"),p(39,"button",26),a()()(),o(40,"div",27)(41,"form",28,2),C("ngSubmit",function(){_(n);let c=R(42);return w(c.form.valid&&i.externalUpload())}),o(43,"div",29)(44,"label",30),s(45,"Files url"),a(),o(46,"input",31,3),di("ngModelChange",function(c){return _(n),ci(i.extFile,c)||(i.extFile=c),w(c)}),a(),F(48,cs,2,1,"div",32),a(),p(49,"hr"),o(50,"div",33)(51,"button",34),s(52,"Upload"),a(),o(53,"button",35),s(54,"Close"),a()()()()()()(),o(55,"div",36)(56,"strong"),s(57,"Sorting"),a(),o(58,"div",37)(59,"app-sort-files",38),C("optionSelected",function(c){return _(n),w(i.onTypeSelect(c))}),a(),o(60,"app-sort-files",38),C("optionSelected",function(c){return _(n),w(i.onPeopleSelect(c))}),a(),o(61,"app-sort-files",38),C("optionSelected",function(c){return _(n),w(i.onModifiedSelect(c))}),a()()(),o(62,"div",39)(63,"div",40),p(64,"img",41),o(65,"strong"),s(66,"Folders"),a()(),o(67,"div",42),F(68,us,12,10,"div",43),a(),o(69,"div",40),p(70,"img",41),o(71,"strong"),s(72,"Files"),a()(),o(73,"div",42),F(74,fs,2,2,"div",43),a()()(),o(75,"div",7)(76,"div",44,4)(78,"div",45),C("click",function(){return _(n),w(i.closeInfo())}),p(79,"img",46),a(),o(80,"ul",47)(81,"li",48)(82,"button",49),p(83,"img",50),s(84," Details "),a()(),o(85,"li",48)(86,"button",51),p(87,"img",52),s(88," Timeline "),a()()(),o(89,"div",53)(90,"div",54)(91,"h3"),p(92,"img",55),s(93," WOTN drive.jpg"),a(),o(94,"div",56),p(95,"img",57),a(),o(96,"div",58)(97,"h3"),s(98,"Who has access"),a(),o(99,"div",59)(100,"div",60),p(101,"img",61),a(),o(102,"div",62),p(103,"img",63)(104,"img",64)(105,"img",65),o(106,"a",66),p(107,"img",67),a()()(),o(108,"p"),s(109,"Owend by you."),a()(),o(110,"div",58)(111,"h3"),s(112,"Tags"),a(),o(113,"div",29)(114,"div",68)(115,"div",69)(116,"label",70),s(117,"Website"),a()(),o(118,"div",69)(119,"label",71),s(120,"Government agencies"),a()(),o(121,"div",69)(122,"label",72),s(123,"Photo"),a()(),o(124,"div",69)(125,"label",73),s(126,"Videos"),a()(),o(127,"div",69)(128,"label",74),p(129,"i",75),s(130," Add Tag"),a()()()()(),o(131,"div",58)(132,"h3"),s(133,"Description"),a(),o(134,"p"),s(135,"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. "),a()(),o(136,"div",58)(137,"h3"),s(138,"Project Details"),a(),o(139,"h4"),s(140,"Project Type"),a(),o(141,"p"),s(142,"conference"),a(),o(143,"h4"),s(144,"Size"),a(),o(145,"p"),s(146,"105.3 MB"),a(),o(147,"h4"),s(148,"Owner"),a(),o(149,"p"),s(150,"You are Owner"),a(),o(151,"h4"),s(152,"Created"),a(),o(153,"p"),s(154,"25 May 2025"),a()()(),o(155,"div",76)(156,"div",77)(157,"h3"),s(158,"No longer reply from"),a(),o(159,"a",78),p(160,"img",79),s(161," Mohamed Khaled"),a(),o(162,"a",78),p(163,"img",79),s(164," Ahmed Mohamed"),a(),o(165,"div",80)(166,"h3"),s(167,"Today"),a(),o(168,"ul",81)(169,"li",82)(170,"div",83),p(171,"img",84),o(172,"div",85),s(173,"Samir Mohamed"),a()(),o(174,"div",86)(175,"div",87),s(176,"Commented"),a(),o(177,"div",88),s(178," Maybe increasing the padding or using a grid layout could help. "),a(),o(179,"div",89)(180,"a",90),p(181,"img",91),s(182,"Attachment .file.pdf"),a()(),o(183,"a",78),p(184,"img",79),s(185," Ahmed Mohamed"),a(),o(186,"div",92),s(187,"12:19 PM"),a(),o(188,"a",93),s(189,"Reply to Mohamed Khaled"),a()()(),o(190,"li",94)(191,"div",83),p(192,"img",95),o(193,"div",85),s(194,"Branch Manager"),a()(),o(195,"div",86)(196,"div",87),s(197,"Commented"),a(),o(198,"div",88),s(199," Could we adjust the spacing between the card components on the dashboard screen? Right now it feels a bit cramped, especially on smaller screens. "),a(),o(200,"a",96),p(201,"img",97),s(202," Ahmed Mohamed"),a(),o(203,"div",92),s(204,"12:19 PM"),a(),o(205,"a",93),s(206,"Reply to Mohamed Khaled"),a()()()(),o(207,"h3"),s(208,"12 Sep 2024"),a(),o(209,"ul",81)(210,"li")(211,"div",83),p(212,"img",84),o(213,"div",85),s(214,"Ahmed Mohamed"),a()(),o(215,"div",86)(216,"div",87),s(217,"File updated"),a(),o(218,"div",88),s(219," updates done check this link kindly. "),a(),o(220,"div",89)(221,"a",90),p(222,"img",91),s(223,"Attachment .file.pdf"),a()(),o(224,"a",78),p(225,"img",79),s(226,"Mohamed Khaled"),a()()(),o(227,"li",94)(228,"div",83),p(229,"img",95),o(230,"div",85),s(231,"Mohamed Khaled"),a()(),o(232,"div",86)(233,"div",87),s(234,"Commented"),a(),o(235,"div",88),s(236," Could we adjust the spacing between the card components on the dashboard screen? Right now it feels a bit cramped, especially on smaller screens. "),a(),o(237,"a",96),p(238,"img",97),s(239,"Ahmed Mohamed"),a(),o(240,"div",92),s(241,"12:19 PM"),a(),o(242,"a",93),s(243,"Reply to Mohamed Khaled"),a()()()(),o(244,"h3"),s(245,"20 May 2025"),a(),o(246,"ul",81)(247,"li")(248,"div",83),p(249,"img",84),o(250,"div",85),s(251,"Ahmed Mohamed"),a()(),o(252,"div",86)(253,"div",87),s(254,"File Created"),a(),o(255,"div",89)(256,"a",90),p(257,"img",91),s(258,"Attachment .file.pdf"),a()(),o(259,"a",78),p(260,"img",79),s(261,"Mohamed Khaled, Branch Manger"),a(),o(262,"div",92),s(263,"13:17 Pm"),a()()()()()()()(),o(264,"div",98)(265,"div",21)(266,"div",22)(267,"div",23)(268,"div",24)(269,"h5",99),s(270,'Share "WOTN drive.mp4"'),a(),o(271,"div")(272,"a",90),p(273,"i",100),s(274," copy link"),a(),p(275,"button",26),a()()(),o(276,"div",27)(277,"select2",101),F(278,gs,2,2,"ng-template",null,5,J),a(),o(280,"h3",102),s(281,"Who has access"),a(),o(282,"ul",103)(283,"a",104)(284,"div",105),p(285,"img",106),o(286,"div")(287,"h5"),s(288,"Ahmed El Hammad"),a(),o(289,"p"),s(290,"Ahmed@exapmle.com.sa"),a()()(),o(291,"div")(292,"select",107)(293,"option",108),s(294,"Editor"),a(),o(295,"option",109),s(296,"Viewer"),a()()()(),o(297,"a",104)(298,"div",105),p(299,"img",110),o(300,"div")(301,"h5"),s(302,"Kareem El Hussainy"),a(),o(303,"p"),s(304,"Ahmed@exapmle.com.sa"),a()()(),o(305,"div")(306,"select",107)(307,"option",108),s(308,"Editor"),a(),o(309,"option",108),s(310,"Viewer"),a()()()(),o(311,"a",104)(312,"div",105),p(313,"img",111),o(314,"div")(315,"h5"),s(316,"Saad El Daly"),a(),o(317,"p"),s(318,"Ahmed@exapmle.com.sa"),a()()(),o(319,"div")(320,"select",107)(321,"option",108),s(322,"Editor"),a(),o(323,"option",108),s(324,"Viewer"),a()()()(),o(325,"a",104)(326,"div",105),p(327,"img",112),o(328,"div")(329,"h5"),s(330,"Amr Hassas"),a(),o(331,"p"),s(332,"Ahmed@exapmle.com.sa"),a()()(),o(333,"div")(334,"select",107)(335,"option",108),s(336,"Editor"),a(),o(337,"option",109),s(338,"Viewer"),a()()()(),o(339,"a",104)(340,"div",105),p(341,"img",113),o(342,"div")(343,"h5"),s(344,"Mostafa El Hammad"),a(),o(345,"p"),s(346,"Ahmed@exapmle.com.sa"),a()()(),o(347,"div")(348,"select",107)(349,"option",108),s(350,"Editor"),a(),o(351,"option",108),s(352,"Viewer"),a()()()()(),o(353,"div",33)(354,"button",114),s(355,"Done"),a()()()()()()()()()}if(t&2){let n,r=R(42),c=R(47),d=R(279);U("expand",i.shownInfo),h(5),V(i.project==null?null:i.project.title),h(3),Z(((n=i.project==null?null:i.project.filesSize)!==null&&n!==void 0?n:0)>1?8:9),h(2),D(" | ",i.project==null?null:i.project.filesNum," items"),h(),S("ngIf",i.shownInfo),h(14),S("ngIf",!i.projectMap),h(),S("ngIf",i.projectMap),h(20),si("ngModel",i.extFile),h(2),S("ngIf",c.invalid&&(c.dirty||c.touched||r.submitted)),h(11),S("label","Type")("icon","assets/icons/file-text.svg")("options",k(25,Xl)),h(),S("label","People")("icon","assets/icons/profile-middle.svg")("options",k(26,Gl)),h(),S("label","Modified")("icon","assets/icons/modified-middle.svg")("options",k(27,Kl)),h(7),S("ngForOf",i.projectFolders),h(6),S("ngForOf",i.projectFiles),h(),U("active",i.shownInfo),h(202),S("data",i.data)("templates",K(28,Ql,d))}},dependencies:[te,X,de,Se,je,Ue,le,se,ct,dt,He,Si,gi,Tt,ne,Te],styles:[".file-info.fixed[_ngcontent-%COMP%]{position:relative;top:20px}"]})};var vs=["load"],bs=["saveToLocalStorage"],Ss=["saveDetails"],xs=()=>["/projects/folder-details"],ys=(l,e)=>({id:l,projectId:e});function Es(l,e){if(l&1&&p(0,"img",102),l&2){let t=I().$implicit;S("src",t.imageUrl,N)}}function _s(l,e){if(l&1&&(o(0,"div",96)(1,"a",97)(2,"div",98),F(3,Es,1,1,"img",99),a(),o(4,"div",100)(5,"span"),s(6),a()(),o(7,"div",101)(8,"span"),s(9),a()()()()),l&2){let t,i=e.$implicit,n=I();h(),S("routerLink",k(6,xs))("queryParams",Ft(7,ys,i.folderId,n.projectId)),h(2),S("ngIf",i.imageUrl),h(3),V(i.title),h(3),li(" ",(t=n.filesSize)!==null&&t!==void 0?t:0," MB | ",(t=n.filesNum)!==null&&t!==void 0?t:0," items")}}var cn=class l{constructor(e,t,i,n,r){this.sanitizer=e;this.route=t;this.translate=i;this.toastr=n;this.projectService=r}loadButton;saveToLocalStorage;saveDetails;subscriptions=[];projectFolders=[];folderId=0;areaToOpen=null;folder;areasToAdd=[];areasToUpdate=[];foldersToDelete=[];isThereMapChanges=!1;isFetching=!1;isFetchingProjects=!1;ngOnInit(){this.loadStyles(),this.loadScripts()}ngAfterViewInit(){this.route.queryParams.subscribe(e=>{this.folderId=Number(e.id),this.fetchFolder(this.folderId)})}fetchFolder(e){if(!e||this.isFetching)return;this.isFetching=!0;let t=this.projectService.fetchFolder(e).subscribe(i=>{i&&(this.folder=i,this.fetchProjectFolders(),this.folder?.folderHtml&&setTimeout(()=>{this.areaToOpen=this.folder.folderHtml,this.loadMap()},100)),this.isFetching=!1});this.subscriptions.push(t)}loadStyles(){let e=document.createElement("link");e.rel="stylesheet",e.href="assets/css/map_main.css",document.head.appendChild(e)}loadScripts(){let e=document.createElement("script");e.src="assets/scripts/summerHTMLImageMapCreator.js?v=1.5",document.body.appendChild(e)}ngOnDestroy(){localStorage.removeItem("SummerHTMLImageMapCreator"),this.subscriptions.forEach(i=>i.unsubscribe()),document.querySelectorAll('link[href="assets/css/map_main.css"]').forEach(i=>i.remove()),document.querySelectorAll('script[src="assets/scripts/summerHTMLImageMapCreator.js"]').forEach(i=>i.remove())}loadMap(){this.areaToOpen&&localStorage.setItem("SummerHTMLImageMapCreator",this.areaToOpen),this.loadButton.nativeElement.click()}btnSaveToLocalStorage(){this.saveToLocalStorage.nativeElement.click(),this.setMapChanges()}saveMap(e=!1){this.saveToLocalStorage.nativeElement.click(),setTimeout(()=>{let t=new FormData,i=localStorage.getItem("SummerHTMLImageMapCreator");i&&t.append("folderHtml",i??"");let n=this.projectService.patchFolder(this.folderId,t).subscribe(r=>{r?(this.folder.folderHtml=i,e?this.generateAreasFolders():this.toastr.success(this.translate.instant("Maps.MapSavedSuccessfully"))):this.showError(this.translate.instant("Maps.MapSaveFaild"))},r=>{console.error("Error saving map:",r),this.showError(this.translate.instant("Maps.MapSaveFaild"))});this.subscriptions.push(n)},500)}setMapChanges(){let e=JSON.parse(localStorage.getItem("SummerHTMLImageMapCreator")??""),t=this.projectFolders.map(n=>({folderId:n.folderId,areaReference:n.areaReference,title:n.title})),i=e?.areas?.map(n=>({id:n.attributes.id,title:n.attributes.title,desc:n.attributes.desc}))??[];this.areasToAdd=i.filter(n=>!t.some(r=>r.areaReference===n.id)&&n.title),this.areasToUpdate=i.filter(n=>t.some(r=>r.areaReference===n.id&&r.title!==n.title)),this.foldersToDelete=t.filter(n=>!i.some(r=>r.id===n.areaReference)),this.isThereMapChanges=this.areasToAdd.length>0||this.areasToUpdate.length>0||this.foldersToDelete.length>0}saveArea(){this.saveDetails.nativeElement.click()}generateAreasFolders(){if(JSON.parse(this.folder.folderHtml??"")){let t=[];this.setMapChanges(),this.areasToAdd.forEach(i=>{let n=new FormData;n.append("title",i.title),n.append("brief",i.desc),n.append("parentId",this.folder.folderId?.toString()??""),n.append("projectId",this.folder.projectId?.toString()??""),n.append("typeId",this.folder.typeId?.toString()??""),n.append("type",this.folder.type?.toString()??""),n.append("isActive","true"),n.append("areaReference",i.id);let r=this.projectService.createFolder(n);t.push(r)}),this.areasToUpdate.forEach(i=>{let n=this.projectFolders.find(d=>d.areaReference==i.id),r=new FormData;r.append("title",i.title),r.append("brief",i.desc),r.append("parentId",n?.folderId?.toString()??""),r.append("projectId",n?.projectId?.toString()??""),r.append("typeId",n?.typeId?.toString()??""),r.append("type",n?.type?.toString()??""),r.append("isActive",n?.isActive?.toString()??""),r.append("areaReference",i.id);let c=this.projectService.updateFolder(n?.folderId??0,r);t.push(c)}),this.foldersToDelete.forEach(i=>{let n=this.projectService.activateFolder(i?.folderId??0);t.push(n)}),t.length>0?Re(t).subscribe(i=>{i.forEach((n,r)=>{}),this.fetchProjectFolders()},i=>{console.error("Error creating folders:",i),this.showError(this.translate.instant("Folders.FolderCreationFailed"))}):this.fetchProjectFolders()}else this.showError(this.translate.instant("Maps.NoAreasToGenerate"))}fetchProjectFolders(){if(this.isFetchingProjects)return;this.isFetchingProjects=!0;let e=this.projectService.fetchProjectFolders(this.folder.projectId??0,this.folder.folderId,1,1e4,null,null,1,!0).pipe(rt(()=>{this.isFetchingProjects=!1})).subscribe(t=>{t&&(console.log(t),this.projectFolders=t.data,this.setMapChanges())});this.subscriptions.push(e)}showError(e){this.toastr.error(e)}static \u0275fac=function(t){return new(t||l)(P(Yn),P(Be),P(he),P(re),P(oe))};static \u0275cmp=W({type:l,selectors:[["app-image-map-creator"]],viewQuery:function(t,i){if(t&1&&(pe(vs,5),pe(bs,5),pe(Ss,5)),t&2){let n;ue(n=fe())&&(i.loadButton=n.first),ue(n=fe())&&(i.saveToLocalStorage=n.first),ue(n=fe())&&(i.saveDetails=n.first)}},decls:256,vars:2,consts:[["saveToLocalStorage",""],["load",""],["saveDetails",""],[1,"main-wrapper"],["id","wrapper"],["id","header"],["id","logo"],["href",""],["src","./assets/images/Logo-white.svg","alt","Summer html image map creator"],["id","nav",1,"clearfix"],["id","save",2,"display","none"],["href","javascript:;"],[3,"click"],["id","load"],["id","from_html"],["id","rectangle"],["id","circle"],["id","polygon"],["id","edit"],["id","to_html"],["id","preview"],["id","clear"],["id","new_image"],["id","show_help"],["id","coords"],["id","debug"],["id","image_wrapper"],["id","image"],["src","","alt","#","id","img"],["xmlns","http://www.w3.org/2000/svg","version","1.2","baseProfile","tiny","id","svg"],["id","code"],["title","close",1,"close_button"],["id","code_content"],["id","edit_details"],[1,"modal-content"],[1,"modal-header"],["id","rectangleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close","close_button"],["src","./assets/images/close.svg","alt",""],[1,"modal-body"],[1,"row"],[1,"col-lg-6"],[1,"form-group"],["type","text","id","title_attr","placeholder","title",1,"form-control"],["type","hidden","id","id_attr"],["type","text","id","href_attr","placeholder","Href",1,"form-control"],[1,"col-lg-12"],["id","desc_attr","placeholder","description",1,"form-control"],["for",""],["type","color","id","exampleColorInput","value","#563d7c","title","Choose your color",1,"form-control","form-control-color"],[1,"col-lg-8"],["type","file","placeholder","color",1,"form-control"],[1,"col-lg-4"],["type","text","id","alt_attr","placeholder","alt",1,"form-control"],[1,"modal-footer","d-flex","justify-content-end"],["id","save_details","type","button",2,"display","none"],["type","button",1,"btn","btn-primary","mt-1",3,"click"],["id","from_html_wrapper"],["id","from_html_form"],["for","code_input"],["id","code_input"],["id","load_code_button"],["id","get_image_wrapper"],[1,"container"],[1,"row","justify-content-center","align-items-center","h-100"],["id","get_image"],["id","logo_get_image"],["src","./assets/images/logo.svg","alt","Summer html image map creator"],["id","loading"],["id","file_reader_support"],["id","dropzone"],["title","clear",1,"clear_button"],["src","","alt","preview","id","sm_img"],["for","url"],["id","url_wrapper"],["type","text","id","url",1,"form-control"],["id","button",1,"btn","btn-primary"],["id","overlay"],["id","help"],[1,"txt"],[1,"key"],["id","rectangleModal","tabindex","-1","aria-labelledby","rectangleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],["type","text","placeholder","title",1,"form-control"],["placeholder","description",1,"form-control"],["type","button",1,"btn","btn-primary","me-3"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],[2,"margin-top","10px"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-primary",2,"margin","10px",3,"click","disabled"],[1,"recent-file","pt-5",2,"min-height","500px"],[1,"d-flex","flex-row","align-items-center"],["src","assets/icons/middle-arrow-down.svg","alt",""],[1,"row","pt-3","recent-file-row"],["class","col-xxl-2 col-xl-3 col-lg-4 col-sm-6",4,"ngFor","ngForOf"],[1,"col-xxl-2","col-xl-3","col-lg-4","col-sm-6"],[1,"recent-file-card","projects-block",3,"routerLink","queryParams"],[1,"proj-img-holder"],[3,"src",4,"ngIf"],[1,"recent-file-type","pt-2","d-flex","flex-row","align-items-center"],[1,"recent-file-footer","pt-2","d-flex","flex-row","align-items-center"],[3,"src"]],template:function(t,i){if(t&1){let n=L();o(0,"div",3)(1,"div",4)(2,"header",5)(3,"h1",6)(4,"a",7),p(5,"img",8),a()(),o(6,"nav",9)(7,"ul")(8,"li",10,0)(10,"a",11),s(11,"save"),a()(),o(12,"li",12),C("click",function(){return _(n),w(i.btnSaveToLocalStorage())}),o(13,"a",11),s(14,"save"),a()(),o(15,"li",13)(16,"a",11,1),s(18,"load"),a()(),o(19,"li",14)(20,"a",11),s(21,"from html"),a()(),o(22,"li",15)(23,"a",11),s(24,"rectangle"),a()(),o(25,"li",16)(26,"a",11),s(27,"circle"),a()(),o(28,"li",17)(29,"a",11),s(30,"polygon"),a()(),o(31,"li",18)(32,"a",11),s(33,"edit"),a()(),o(34,"li",19)(35,"a",11),s(36,"to html"),a()(),o(37,"li",20)(38,"a",11),s(39,"preview"),a()(),o(40,"li",21)(41,"a",11),s(42,"clear"),a()(),o(43,"li",22)(44,"a",11),s(45,"new image"),a()(),o(46,"li",23)(47,"a",11),s(48,"?"),a()()()(),p(49,"div",24)(50,"div",25),a(),o(51,"div",26)(52,"div",27),p(53,"img",28),jt(),p(54,"svg",29),a()()(),It(),o(55,"div",30),p(56,"span",31)(57,"div",32),a(),o(58,"form",33)(59,"div",34)(60,"div",35)(61,"h5",36),s(62,"Part Info"),a(),o(63,"button",37),p(64,"img",38),a()(),o(65,"div",39)(66,"div",40)(67,"div",41)(68,"div",42)(69,"label"),s(70,"Part title"),a(),p(71,"input",43),a()(),p(72,"input",44),o(73,"div",41)(74,"div",42)(75,"label"),s(76,"Link"),a(),p(77,"input",45),a()(),o(78,"div",46)(79,"div",42)(80,"label"),s(81,"Part description"),a(),p(82,"textarea",47),a()(),o(83,"div",46)(84,"div",42)(85,"label",48),s(86,"Label color"),a(),p(87,"input",49),a()(),o(88,"div",50)(89,"div",42)(90,"label",48),s(91,"Part image"),a(),p(92,"input",51),a()(),o(93,"div",52)(94,"div",42)(95,"label"),s(96,"ALT"),a(),p(97,"input",53),a()()()(),o(98,"div",54),p(99,"button",55,2),o(101,"button",56),C("click",function(){return _(n),w(i.saveArea())}),s(102,"Save"),a()()()(),o(103,"div",57)(104,"form",58)(105,"h5"),s(106,"Loading areas"),a(),p(107,"span",31),o(108,"p")(109,"label",59),s(110,"Enter your html code:"),a(),p(111,"textarea",60),a(),o(112,"button",61),s(113,"Load"),a()()(),o(114,"div",62)(115,"div",63)(116,"div",64)(117,"div",52)(118,"div",65),p(119,"span",31),o(120,"div",66)(121,"a",7),p(122,"img",67),a()(),o(123,"div",68),s(124,"Loading"),a(),o(125,"div",69)(126,"label"),s(127,"Drag an image"),a(),o(128,"div",70)(129,"span",71),s(130,"x"),a(),p(131,"img",72),a(),o(132,"b"),s(133,"or"),a()(),o(134,"label",73),s(135,"type a url"),a(),o(136,"span",74)(137,"span",71),s(138,"x"),a(),p(139,"input",75),a(),o(140,"button",76),s(141,"OK"),a()()()()()(),p(142,"div",77),o(143,"div",78),p(144,"span",31),o(145,"div",79)(146,"section")(147,"h2"),s(148,"Main"),a(),o(149,"p")(150,"span",80),s(151,"F5"),a(),s(152," \u2014 reload the page and display the form for loading image again"),a(),o(153,"p")(154,"span",80),s(155,"S"),a(),s(156," \u2014 save map params in localStorage"),a()(),o(157,"section")(158,"h2"),s(159,"Drawing mode (rectangle / circle / polygon)"),a(),o(160,"p")(161,"span",80),s(162,"ENTER"),a(),s(163," \u2014 stop polygon drawing (or click on first helper)"),a(),o(164,"p")(165,"span",80),s(166,"ESC"),a(),s(167," \u2014 cancel drawing of a new area"),a(),o(168,"p")(169,"span",80),s(170,"SHIFT"),a(),s(171," \u2014 square drawing in case of a rectangle and right angle drawing in case of a polygon"),a()(),o(172,"section")(173,"h2"),s(174,"Editing mode"),a(),o(175,"p")(176,"span",80),s(177,"DELETE"),a(),s(178," \u2014 remove a selected area"),a(),o(179,"p")(180,"span",80),s(181,"ESC"),a(),s(182," \u2014 cancel editing of a selected area"),a(),o(183,"p")(184,"span",80),s(185,"SHIFT"),a(),s(186," \u2014 edit and save proportions for rectangle"),a(),o(187,"p")(188,"span",80),s(189,"I"),a(),s(190," \u2014 edit attributes of a selected area (or dblclick on an area)"),a(),o(191,"p")(192,"span",80),s(193,"CTRL"),a(),s(194," + "),o(195,"span",80),s(196,"C"),a(),s(197," \u2014 a copy of the selected area"),a(),o(198,"p")(199,"span",80),s(200,"\u2191"),a(),s(201," \u2014 move a selected area up"),a(),o(202,"p")(203,"span",80),s(204,"\u2193"),a(),s(205," \u2014 move a selected area down"),a(),o(206,"p")(207,"span",80),s(208,"\u2190"),a(),s(209," \u2014 move a selected area to the left"),a(),o(210,"p")(211,"span",80),s(212,"\u2192"),a(),s(213," \u2014 move a selected area to the right"),a()()()(),o(214,"div",81)(215,"div",82)(216,"div",34)(217,"div",35)(218,"h5",36),s(219,"Part Info"),a(),p(220,"button",83),a(),o(221,"div",39)(222,"div",42)(223,"label"),s(224,"Part title"),a(),p(225,"input",84),a(),o(226,"div",42)(227,"label"),s(228,"Part description"),a(),p(229,"textarea",85),a(),o(230,"div",42)(231,"label",48),s(232,"Label color"),a(),p(233,"input",49),a(),o(234,"div",42)(235,"label",48),s(236,"Part image"),a(),p(237,"input",51),a()(),o(238,"div",54)(239,"button",86),s(240,"Submit"),a(),o(241,"button",87),s(242,"Close"),a()()()()()(),o(243,"div",40)(244,"div",88)(245,"button",89),C("click",function(){return _(n),w(i.saveMap())}),s(246," Save "),a(),o(247,"button",90),C("click",function(){return _(n),w(i.saveMap(!0))}),s(248," Generate "),a()(),o(249,"div",91)(250,"div",92),p(251,"img",93),o(252,"strong"),s(253,"Folders"),a()(),o(254,"div",94),F(255,_s,10,10,"div",95),a()()()}t&2&&(h(247),S("disabled",!i.isThereMapChanges),h(8),S("ngForOf",i.projectFolders))},dependencies:[Ht,te,X],styles:[".title-badge[_ngcontent-%COMP%]{fill:#00f!important;font-size:14px;font-weight:700;text-anchor:middle}.title-badge-container[_ngcontent-%COMP%]{stroke-width:3px!important;stroke:#ff0!important;fill:#ff0!important}"]})};var ws=["cardElement"],Cs=()=>["/projects/project-map"],js=()=>({id:2}),Is=()=>["PDF","Word","Excel"],Fs=()=>["Name 1","Name 2","Name 3"],Ps=()=>["Newest","Oldest","Recently Edited"],Ts=()=>["/projects/project-screen-details"],Ms=l=>({template1:l});function Os(l,e){if(l&1){let t=L();o(0,"div")(1,"button",87),p(2,"img",88),s(3,"Share"),a(),o(4,"button",89),C("click",function(){_(t);let n=I();return w(n.closeInfo())}),p(5,"img",90),s(6,"Information"),a()()}}function ks(l,e){if(l&1&&(o(0,"div"),p(1,"app-upload-toast",91),a()),l&2){let t=e.$implicit;h(),S("fileName",t.fileName)("progress",t.progress)}}function Ds(l,e){if(l&1){let t=L();o(0,"div",40)(1,"app-file-card",92),C("showInfo",function(n){_(t);let r=I();return w(r.showInfo(n))}),a()()}if(l&2){let t=e.$implicit,i=e.index;h(),S("card",t)("index",i)}}function zs(l,e){if(l&1&&(o(0,"div",93),p(1,"img",94),a()),l&2){let t=I().data;h(),$("src",t==null?null:t.image,N)}}function As(l,e){if(l&1&&(F(0,zs,2,1,"div",93),s(1)),l&2){let t=e.data;Z(t!=null&&t.image?0:-1),h(),D(" ",t==null?null:t.name," ")}}var dn=class l{constructor(e,t,i){this.renderer=e;this.projectCoverService=t;this.fileUploadService=i}cardElements;uploads=[];files;isUpload=!1;count=0;bootstrap;ngOnInit(){setTimeout(()=>{this.projectCoverService.setShow(!0),this.projectCoverService.setSource("assets/images/files/proj4.jpg")})}data=[{options:[{value:"Omar Ezz",label:"Omar Ezz",data:{name:"Omar Ezz",email:"Omar_Ezz@exapmle.com.sa",image:"assets/images/profile/pic1.jpg"},templateId:"template1",templateSelectionId:"template1Selection",id:"1"},{value:"Emad hamdi",label:"Emad Hamdi",data:{name:"Emad hamdi",email:"emad_hamdi@exapmle.com.sa",image:"assets/images/profile/user4.jpg"},templateId:"template1",templateSelectionId:"template1Selection",id:"2"},{value:"Ehab Zakaria",label:"Ehab Zakaria",data:{name:"Ehab Zakaria",email:"ehab_zakaria@exapmle.com.sa",image:"assets/images/profile/default-profile-img.png"},templateId:"template1",templateSelectionId:"template1Selection",id:"3"},{value:"mohamed Ezz",label:"mohamed Ezz",data:{name:"mohamed Ezz",email:"mohamed@exapmle.com.sa",image:"assets/images/profile/pic1.jpg"},templateId:"template1",templateSelectionId:"template1Selection",id:"4"},{value:"Ali hamdi",label:"Ali Hamdi",data:{name:"Ali hamdi",email:"Ali@exapmle.com.sa",image:"assets/images/profile/user4.jpg"},templateId:"template1",templateSelectionId:"template1Selection",id:"5"},{value:"hassan Zakaria",label:"hassan Zakaria",data:{name:"hassan Zakaria",email:"hassan@exapmle.com.sa",image:"assets/images/profile/default-profile-img.png"},templateId:"template1",templateSelectionId:"template1Selection",id:"6"}]}];cards=[{id:1,isOpen:!0,isVideo:!0,openedAt:"10:54 AM",fileType:"video",fileImage:"assets/images/files/proj-d1.jpg",fileName:"WOTN drive.mp4",filePath:"assets/videos/HeroDesktop.mp4",fileSize:"105.3 MB",favorite:!0,videoDuration:"04:55 Min",Status:1},{id:2,isOpen:!0,isVideo:!0,openedAt:"10:54 AM",fileType:"photo",fileImage:"assets/images/file-card.png",fileName:"WOTN drive.png",filePath:"assets/videos/HeroDesktop.mp4",fileSize:"105.3 MB",favorite:!0,videoDuration:"",Status:1},{id:3,isOpen:!0,isVideo:!0,openedAt:"10:54 AM",fileType:"text",fileImage:"assets/images/files/proj-d2.jpg",fileName:"WOTN drive.pdf",filePath:"assets/videos/HeroDesktop.mp4",fileSize:"105.3 MB",favorite:!0,videoDuration:"",Status:1},{id:4,isOpen:!0,isVideo:!0,openedAt:"10:54 AM",fileType:"video",fileImage:"assets/images/files/project-1.jpg",fileName:"WOTN drive1.mp4",filePath:"assets/videos/HeroDesktop.mp4",fileSize:"105.3 MB",favorite:!0,videoDuration:"04:55 Min",Status:1}];onTypeSelect(e){console.log("Selected type:",e)}onPeopleSelect(e){console.log("Selected person:",e)}onModifiedSelect(e){console.log("Selected modified:",e)}shownInfo=!1;showInfo(e){console.log(e),this.shownInfo==!1&&(this.shownInfo=!this.shownInfo)}closeInfo(){this.shownInfo=!this.shownInfo}onFilesSelected=e=>{if(e.length===0)return;this.uploads=[],this.isUpload=!0,this.count=e.length;let t=[];for(let i=0;i<e.length;i++){let n=e[i],r=new FormData;r.append("file",n,n.name);let c={fileName:n.name,progress:0};this.uploads.push(c);let d=this.fileUploadService.upload(r).pipe(Ne(m=>{m.type?m.total&&(c.progress=Math.round(100*m.loaded/m.total)):m.type===Ce.Response&&(c.progress=100,console.log("Upload complete for",c.fileName,m.body))}));t.push(d)}Re(t).subscribe({next:i=>{console.log("All uploads completed!",i),setTimeout(()=>{this.isUpload=!1,this.closeProjectUploadModal()},3e3)},error:i=>{console.error("Error during file upload:",i),this.isUpload=!1}})};modalInstance;ngAfterViewInit(){let e=document.getElementById("projectUploadModal");if(e){let t=window.bootstrap;this.modalInstance=new t.Modal(e)}}openProjectUploadModal(){this.modalInstance?.show()}closeProjectUploadModal(){this.modalInstance?.hide()}static \u0275fac=function(t){return new(t||l)(P(ae),P(We),P(be))};static \u0275cmp=W({type:l,selectors:[["app-project-screen-details"]],viewQuery:function(t,i){if(t&1&&pe(ws,5),t&2){let n;ue(n=fe())&&(i.cardElements=n)}},standalone:!1,decls:242,vars:32,consts:[["file",""],["template1",""],[1,"row","home-layout"],[1,"col"],[1,"d-flex","justify-content-between","heady"],[1,"recent-file-footer","pt-2","d-flex","flex-row","align-items-center"],[4,"ngIf"],[1,"upper","d-flex","flex-row"],["data-bs-toggle","modal","data-bs-target","#projectUploadModal",1,"upload-btn"],["src","assets/icons/plus.svg","alt",""],[1,"pt-3"],[1,"upload-btn",3,"click"],[1,"upload-btn",3,"routerLink","queryParams"],[1,"las","la-map","la-2x"],["type","file","placeholder","Choose file","multiple","",1,"form-control",2,"display","none",3,"change"],[1,"toaste"],[1,"heade","d-flex","justify-content-between"],["src","assets/icons/close.svg","alt","",1,"close"],[1,"t-body"],[4,"ngFor","ngForOf"],["id","projectUploadModal","tabindex","-1","aria-labelledby","projectUploadModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered","modal-lg"],[1,"modal-content"],[1,"modal-header"],[1,"d-flex","mod-head","justify-content-between"],["id","projectUploadModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close","ms-2"],[1,"modal-body"],[1,"form-group"],["for",""],["type","text","placeholder","Files url",1,"form-control"],[1,"d-flex","justify-content-end"],["type","button","data-bs-dismiss","modal",1,"btn","btn-primary"],[1,"sorting"],[1,"pt-3","d-flex","flex-row","gap-3","sorting-row"],[3,"optionSelected","label","icon","options"],[1,"recent-file","pt-5"],[1,"d-flex","flex-row","align-items-center"],["src","assets/icons/middle-arrow-down.svg","alt",""],[1,"row","pt-3","recent-file-row"],[1,"col-xxl-2","col-xl-3","col-lg-4","col-sm-6"],[1,"recent-file-card","projects-block",3,"routerLink"],[1,"proj-img-holder"],["src","./assets/images/files/project-5.jpg","alt",""],[1,"recent-file-type","pt-2","d-flex","flex-row","align-items-center"],["class","col-xxl-2 col-xl-3 col-lg-4 col-sm-6",4,"ngFor","ngForOf"],[1,"file-info"],[1,"close-info",3,"click"],["src","assets/icons/close.svg","alt",""],["src","assets/icons/file-photo.svg","alt","",1,"me-2"],[1,"file-image"],["src","assets/images/file-card.png","alt",""],[1,"v-mar"],[1,"users"],[1,"m-user"],["src","assets/images/profile/small/pic1.jpg","alt",""],[1,"other"],["src","assets/images/profile/small/pic9.jpg","alt",""],["src","assets/images/profile/small/pic3.jpg","alt",""],["src","assets/images/profile/small/pic4.jpg","alt",""],["href","#","data-bs-toggle","modal","data-bs-target","#exampleModal"],["src","assets/images/plus.svg","alt",""],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["id","exampleModalLabel",1,"modal-title"],["href",""],[1,"fa","fa-link"],["placeholder","Enter Name or Email address","displaySearchStatus","default","multiple","","showSelectAll","",3,"data","templates"],[1,"mt-3","title-1"],[1,"list-group","list-group-flush","list-of-user","mb-3"],[1,"list-group-item","d-flex","justify-content-between","align-items-center"],[1,"d-flex","prof"],["src","assets/images/profile/small/pic1.jpg","alt","",1,"me-2"],["name","","id","",1,"form-control-solid"],["value",""],["value","","selected",""],["src","assets/images/profile/small/pic9.jpg","alt","",1,"me-2"],["src","assets/images/profile/small/pic3.jpg","alt","",1,"me-2"],["src","assets/images/profile/small/pic4.jpg","alt","",1,"me-2"],["src","assets/images/profile/small/pic5.jpg","alt","",1,"me-2"],[1,"tags"],[1,"custom-check"],["for","tag1",1,"tag"],["for","tag2",1,"tag"],["for","tag3",1,"tag"],["for","tag4",1,"tag"],["for","tag4",1,"tag","active"],[1,"fa","fa-plus","me-1"],["data-bs-toggle","modal","data-bs-target","#exampleModal",1,"btn","btn-solid","me-3"],["src","./assets/icons/menu/user.svg","alt","",1,"me-2"],[1,"btn","btn-primary",3,"click"],["src","./assets/icons/info.svg","alt","",1,"me-2","filter"],[3,"fileName","progress"],[3,"showInfo","card","index"],[1,"image","me-2"],["alt","",3,"src"]],template:function(t,i){if(t&1){let n=L();o(0,"div",2)(1,"div",3)(2,"div",4)(3,"div")(4,"h3"),s(5,"Project title"),a(),o(6,"div",5)(7,"span"),s(8,"105.3 MB | 235 items"),a()()(),F(9,Os,7,0,"div",6),a(),o(10,"div",7)(11,"button",8),p(12,"img",9),o(13,"span",10),s(14,"Import Files via URL"),a()(),o(15,"button",11),C("click",function(){_(n);let c=R(24);return w(c.click())}),p(16,"img",9),o(17,"span",10),s(18,"Upload File"),a()(),o(19,"a",12),p(20,"i",13),o(21,"span",10),s(22,"Map Files"),a()(),o(23,"input",14,0),C("change",function(){_(n);let c=R(24);return w(i.onFilesSelected(c.files))}),a(),o(25,"div",15)(26,"h3",16)(27,"div"),s(28,"Loading "),o(29,"span"),s(30),a(),s(31," item."),a(),p(32,"img",17),a(),o(33,"div",18),F(34,ks,2,2,"div",19),a()()(),o(35,"div",20)(36,"div",21)(37,"div",22)(38,"div",23)(39,"div",24)(40,"h5",25),s(41,"Upload files"),a(),o(42,"div"),p(43,"button",26),a()()(),o(44,"div",27)(45,"div",28)(46,"label",29),s(47,"Files url"),a(),p(48,"input",30),a(),p(49,"hr"),o(50,"div",31)(51,"button",32),s(52,"Done"),a()()()()()(),o(53,"div",33)(54,"strong"),s(55,"Sorting"),a(),o(56,"div",34)(57,"app-sort-files",35),C("optionSelected",function(c){return _(n),w(i.onTypeSelect(c))}),a(),o(58,"app-sort-files",35),C("optionSelected",function(c){return _(n),w(i.onPeopleSelect(c))}),a(),o(59,"app-sort-files",35),C("optionSelected",function(c){return _(n),w(i.onModifiedSelect(c))}),a()()(),o(60,"div",36)(61,"div",37),p(62,"img",38),o(63,"strong"),s(64,"Folders"),a()(),o(65,"div",39)(66,"div",40)(67,"a",41)(68,"div",42),p(69,"img",43),a(),o(70,"div",44)(71,"span"),s(72,"Sub folder"),a()(),o(73,"div",5)(74,"span"),s(75," 105.3 MB | 223 items"),a()()()()(),o(76,"div",37),p(77,"img",38),o(78,"strong"),s(79,"recent file"),a()(),o(80,"div",39),F(81,Ds,2,2,"div",45),a()()(),o(82,"div",3)(83,"div",46)(84,"div",47),C("click",function(){return _(n),w(i.closeInfo())}),p(85,"img",48),a(),o(86,"h3"),p(87,"img",49),s(88," WOTN drive.jpg"),a(),o(89,"div",50),p(90,"img",51),a(),o(91,"div",52)(92,"h3"),s(93,"Who has access"),a(),o(94,"div",53)(95,"div",54),p(96,"img",55),a(),o(97,"div",56),p(98,"img",57)(99,"img",58)(100,"img",59),o(101,"a",60),p(102,"img",61),a()()(),o(103,"p"),s(104,"Owend by you."),a()(),o(105,"div",62)(106,"div",21)(107,"div",22)(108,"div",23)(109,"div",24)(110,"h5",63),s(111,'Share "WOTN drive.mp4"'),a(),o(112,"div")(113,"a",64),p(114,"i",65),s(115," copy link"),a(),p(116,"button",26),a()()(),o(117,"div",27)(118,"select2",66),F(119,As,2,2,"ng-template",null,1,J),a(),o(121,"h3",67),s(122,"Who has access"),a(),o(123,"ul",68)(124,"a",69)(125,"div",70),p(126,"img",71),o(127,"div")(128,"h5"),s(129,"Ahmed El Hammad"),a(),o(130,"p"),s(131,"Ahmed@exapmle.com.sa"),a()()(),o(132,"div")(133,"select",72)(134,"option",73),s(135,"Editor"),a(),o(136,"option",74),s(137,"Viewer"),a()()()(),o(138,"a",69)(139,"div",70),p(140,"img",75),o(141,"div")(142,"h5"),s(143,"Kareem El Hussainy"),a(),o(144,"p"),s(145,"Ahmed@exapmle.com.sa"),a()()(),o(146,"div")(147,"select",72)(148,"option",73),s(149,"Editor"),a(),o(150,"option",73),s(151,"Viewer"),a()()()(),o(152,"a",69)(153,"div",70),p(154,"img",76),o(155,"div")(156,"h5"),s(157,"Saad El Daly"),a(),o(158,"p"),s(159,"Ahmed@exapmle.com.sa"),a()()(),o(160,"div")(161,"select",72)(162,"option",73),s(163,"Editor"),a(),o(164,"option",73),s(165,"Viewer"),a()()()(),o(166,"a",69)(167,"div",70),p(168,"img",77),o(169,"div")(170,"h5"),s(171,"Amr Hassas"),a(),o(172,"p"),s(173,"Ahmed@exapmle.com.sa"),a()()(),o(174,"div")(175,"select",72)(176,"option",73),s(177,"Editor"),a(),o(178,"option",74),s(179,"Viewer"),a()()()(),o(180,"a",69)(181,"div",70),p(182,"img",78),o(183,"div")(184,"h5"),s(185,"Mostafa El Hammad"),a(),o(186,"p"),s(187,"Ahmed@exapmle.com.sa"),a()()(),o(188,"div")(189,"select",72)(190,"option",73),s(191,"Editor"),a(),o(192,"option",73),s(193,"Viewer"),a()()()()(),o(194,"div",31)(195,"button",32),s(196,"Done"),a()()()()()(),o(197,"div",52)(198,"h3"),s(199,"Tags"),a(),o(200,"div",28)(201,"div",79)(202,"div",80)(203,"label",81),s(204,"Website"),a()(),o(205,"div",80)(206,"label",82),s(207,"Government agencies"),a()(),o(208,"div",80)(209,"label",83),s(210,"Photo"),a()(),o(211,"div",80)(212,"label",84),s(213,"Videos"),a()(),o(214,"div",80)(215,"label",85),p(216,"i",86),s(217," Add Tag"),a()()()()(),o(218,"div",52)(219,"h3"),s(220,"Description"),a(),o(221,"p"),s(222,"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. "),a()(),o(223,"div",52)(224,"h3"),s(225,"Project Details"),a(),o(226,"h4"),s(227,"Project Type"),a(),o(228,"p"),s(229,"conference"),a(),o(230,"h4"),s(231,"Size"),a(),o(232,"p"),s(233,"105.3 MB"),a(),o(234,"h4"),s(235,"Owner"),a(),o(236,"p"),s(237,"You are Owner"),a(),o(238,"h4"),s(239,"Created"),a(),o(240,"p"),s(241,"25 May 2025"),a()()()()()}if(t&2){let n=R(120);U("expand",i.shownInfo),h(9),S("ngIf",i.shownInfo),h(10),S("routerLink",k(24,Cs))("queryParams",k(25,js)),h(6),U("load",i.isUpload),h(5),V(i.count),h(4),S("ngForOf",i.uploads),h(23),S("label","Type")("icon","assets/icons/file-text.svg")("options",k(26,Is)),h(),S("label","People")("icon","assets/icons/profile-middle.svg")("options",k(27,Fs)),h(),S("label","Modified")("icon","assets/icons/modified-middle.svg")("options",k(28,Ps)),h(8),S("routerLink",k(29,Ts)),h(14),S("ngForOf",i.cards),h(),U("active",i.shownInfo),h(36),S("data",i.data)("templates",K(30,Ms,n))}},dependencies:[te,X,Ei,de,Se,je,le,se,ne],encapsulation:2})};var Ls=()=>["PDF","Word","Excel"],Rs=()=>["Name 1","Name 2","Name 3"],Ns=()=>["Newest","Oldest","Recently Edited"],Vs=l=>({template1:l}),Bs=()=>["/projects/project-map"],Hs=l=>({id:l}),Us=()=>["/projects/folder-details"],Ws=(l,e)=>({id:l,projectId:e});function $s(l,e){if(l&1&&(o(0,"span"),s(1),M(2,"number"),a()),l&2){let t,i=I();h(),D("",Q(2,1,((t=i.folder==null?null:i.folder.filesSize)!==null&&t!==void 0?t:0)/1.024,"1.2-2")," MB")}}function Zs(l,e){if(l&1&&(o(0,"span"),s(1),M(2,"number"),a()),l&2){let t,i=I();h(),D("",Q(2,1,((t=i.folder==null?null:i.folder.filesSize)!==null&&t!==void 0?t:0)*1024,"1.2-2")," KB")}}function qs(l,e){if(l&1){let t=L();o(0,"div")(1,"button",115),p(2,"img",116),s(3,"Share"),a(),o(4,"button",117),C("click",function(){_(t);let n=I();return w(n.closeInfo())}),p(5,"img",118),s(6,"Information"),a()()}}function Ys(l,e){if(l&1){let t=L();o(0,"a",12),C("click",function(){_(t),I();let n=R(28);return w(n.click())}),p(1,"img",13),o(2,"span",14),s(3,"Add Map"),a()()}}function Xs(l,e){if(l&1&&(o(0,"a",119),p(1,"i",120),o(2,"span",14),s(3,"Open Map"),a()()),l&2){let t=I();S("routerLink",k(2,Bs))("queryParams",K(3,Hs,t.folderMap.folderId))}}function Gs(l,e){l&1&&(o(0,"div"),s(1," File url is required "),a())}function Ks(l,e){if(l&1&&(o(0,"div",121),F(1,Gs,2,0,"div",10),a()),l&2){I();let t=R(47);h(),S("ngIf",t==null||t.errors==null?null:t.errors.required)}}function Qs(l,e){if(l&1&&p(0,"img",127),l&2){let t=I().$implicit;S("src",t.imageUrl,N)}}function Js(l,e){if(l&1&&(o(0,"span"),s(1),M(2,"number"),a()),l&2){let t,i=I().$implicit;h(),D("",Q(2,1,((t=i.filesSize)!==null&&t!==void 0?t:0)/1.024,"1.2-2")," MB")}}function ec(l,e){if(l&1&&(o(0,"span"),s(1),M(2,"number"),a()),l&2){let t,i=I().$implicit;h(),D("",Q(2,1,((t=i.filesSize)!==null&&t!==void 0?t:0)*1024,"1.2-2")," KB")}}function tc(l,e){if(l&1&&(o(0,"div",122)(1,"a",123)(2,"div",124),F(3,Qs,1,1,"img",125),a(),o(4,"div",126)(5,"span"),s(6),a()(),o(7,"div",9)(8,"span"),F(9,Js,3,4,"span")(10,ec,3,4,"span"),s(11),a()()()()),l&2){let t,i,n=e.$implicit,r=I();h(),S("routerLink",k(6,Us))("queryParams",Ft(7,Ws,n.folderId,r.projectId)),h(2),S("ngIf",n.imageUrl),h(3),V(n.title),h(3),Z(((t=n.filesSize)!==null&&t!==void 0?t:0)>1?9:10),h(2),D(" | ",(i=n.filesNum)!==null&&i!==void 0?i:0," items")}}function ic(l,e){if(l&1){let t=L();o(0,"div",122)(1,"app-file-card",128),C("showInfo",function(n){_(t);let r=I();return w(r.showInfo(n))})("favorite",function(n){_(t);let r=I();return w(r.favorite(n))}),a()()}if(l&2){let t=e.$implicit,i=e.index;h(),S("card",t)("index",i)}}function nc(l,e){if(l&1&&(o(0,"div",129),p(1,"img",130),a()),l&2){let t=I().data;h(),$("src",t==null?null:t.image,N)}}function oc(l,e){if(l&1&&(F(0,nc,2,1,"div",129),s(1)),l&2){let t=e.data;Z(t!=null&&t.image?0:-1),h(),D(" ",t==null?null:t.name," ")}}var mn=class l{constructor(e,t,i,n,r,c,d,m,u,f,g){this.route=e;this.renderer=t;this.projectCoverService=i;this.fileUploadService=n;this.projectService=r;this.modalService=c;this.toaster=d;this.router=m;this.translate=u;this.el=f;this.uploadService=g}active=1;uploads=[];projectFolders=[];projectFiles=[];isUpload=!1;count=0;bootstrap;extFile="";subscriptions=[];folderId;folder;isFetching=!1;isFetchingProjects=!1;isFetchingFiles=!1;isFetchingMap=!1;fetchProjectFolders;projectId;folderMap=null;ngOnInit(){q.bind(this.el.nativeElement,"[data-fancybox]",{}),this.route.queryParams.subscribe(e=>{this.folderId=e.id,this.projectId=e.projectId,this.fetchFolder(this.folderId),this.fetchFolderFiles(this.projectId),this.fetchFolderFolders(this.projectId),this.fetchFolderMap(this.folderId)})}fetchFolder(e){if(!e||this.isFetching)return;this.isFetching=!0;let t=this.projectService.fetchFolder(e).subscribe(i=>{i&&(console.log("folder",i),this.folder=i,this.folder?.imageUrl&&setTimeout(()=>{this.projectCoverService.setShow(!1)})),this.isFetching=!1});this.subscriptions.push(t)}fetchFolderFolders(e){if(!e||this.isFetchingProjects)return;this.isFetchingProjects=!0;let t=this.projectService.fetchProjectFolders(e,this.folderId,1,1e4,null,null).subscribe(i=>{i&&(console.log("projectFolders",i),this.projectFolders=i.data),this.isFetchingProjects=!1});this.subscriptions.push(t)}fetchFolderFiles(e){if(!e||this.isFetchingFiles)return;this.isFetchingFiles=!0;let t=this.projectService.fetchProjectFiles(e,this.folderId,1,1e4,null,null,!0).subscribe(i=>{i&&(console.log("projectFiles",i),this.projectFiles=i.data),this.isFetchingFiles=!1});this.subscriptions.push(t)}fetchFolderMap(e,t=!1){if(!e||this.isFetchingMap)return;this.isFetchingMap=!0;let i=this.projectService.fetchProjectFolders(this.projectId,this.folderId,1,1e4,null,null,1).subscribe(n=>{n&&(this.folderMap=n.data[0],t&&this.folderMap&&this.router.navigate(["/projects/project-map"],{queryParams:{id:this.folderMap.folderId}})),this.isFetchingMap=!1});this.subscriptions.push(i)}onMapFileSelected=e=>{if(e.length===0)return;let t=e[0];if(!t.type.startsWith("image/")){alert("Please upload a valid image file.");return}let i=new FileReader;i.onload=n=>{let r=n.target?.result;this.uploads=[],this.isUpload=!0;let c=new FormData;c.append("imageFile",t,t.name);let d=this.getFileType(t);d!==null&&c.append("fileType",d.toString()),c.append("title",t.name),c.append("isActive","true"),c.append("TypeId","11"),c.append("projectId",this.projectId?.toString()??""),c.append("folderHtml",JSON.stringify({img:r})),c.append("parentId",this.folderId?.toString()??""),c.append("type",1 .toString());let m={fileName:t.name,progress:0};this.uploads.push(m),this.projectService.createFolder(c).pipe(Ne(f=>{f.type===Ce.UploadProgress?f.total&&(m.progress=Math.round(100*f.loaded/f.total)):f.type===Ce.Response&&(m.progress=100,console.log("Upload map complete for",m.fileName,f.body),this.fetchFolderMap(this.folderId,!0))})).subscribe({next:f=>{console.log("Upload completed!",f),setTimeout(()=>{this.isUpload=!1,this.closeProjectUploadModal()},3e3)},error:f=>{console.error("Error during file upload:",f),this.isUpload=!1}})},i.readAsDataURL(t)};favorite(e){console.log(e),this.projectService.setFavourite(e).subscribe(t=>{this.toaster.success("",this.translate.instant("Favorite list updated successfully")),this.fetchFolderFiles(this.projectId)})}data=[{options:[{value:"Omar Ezz",label:"Omar Ezz",data:{name:"Omar Ezz",email:"Omar_Ezz@exapmle.com.sa",image:"assets/images/profile/pic1.jpg"},templateId:"template1",templateSelectionId:"template1Selection",id:"1"},{value:"Emad hamdi",label:"Emad Hamdi",data:{name:"Emad hamdi",email:"emad_hamdi@exapmle.com.sa",image:"assets/images/profile/user4.jpg"},templateId:"template1",templateSelectionId:"template1Selection",id:"2"},{value:"Ehab Zakaria",label:"Ehab Zakaria",data:{name:"Ehab Zakaria",email:"ehab_zakaria@exapmle.com.sa",image:"assets/images/profile/default-profile-img.png"},templateId:"template1",templateSelectionId:"template1Selection",id:"3"},{value:"mohamed Ezz",label:"mohamed Ezz",data:{name:"mohamed Ezz",email:"mohamed@exapmle.com.sa",image:"assets/images/profile/pic1.jpg"},templateId:"template1",templateSelectionId:"template1Selection",id:"4"},{value:"Ali hamdi",label:"Ali Hamdi",data:{name:"Ali hamdi",email:"Ali@exapmle.com.sa",image:"assets/images/profile/user4.jpg"},templateId:"template1",templateSelectionId:"template1Selection",id:"5"},{value:"hassan Zakaria",label:"hassan Zakaria",data:{name:"hassan Zakaria",email:"hassan@exapmle.com.sa",image:"assets/images/profile/default-profile-img.png"},templateId:"template1",templateSelectionId:"template1Selection",id:"6"}]}];onTypeSelect(e){}onPeopleSelect(e){}onModifiedSelect(e){}shownInfo=!1;showInfo(e){this.shownInfo==!1&&(this.shownInfo=!this.shownInfo)}closeInfo(){this.shownInfo=!this.shownInfo}externalUpload(){let e=new FormData,t=new File([this.extFile],this.extFile,{type:"text/plain"});e.append("Title",t.name);let i=this.getFileType(t);i!==null&&e.append("fileType",i.toString()),e.append("isActive","true"),e.append("TypeId","12"),e.append("projectId",this.projectId?.toString()??""),e.append("folderId",this.folderId?.toString()??""),e.append("ExternalFileUrl",this.extFile),console.log("formData",e),this.projectService.createFile1(e).subscribe(n=>{n&&(console.log("Upload complete for",n),this.closeProjectUploadModal(),this.fetchFolderFiles(this.projectId))})}onFilesSelected=e=>{if(e.length===0)return;this.uploads=[],this.isUpload=!0,this.count=e.length;let t=[];for(let i=0;i<e.length;i++){let n=e[i],r=new FormData;r.append("fileFile",n,n.name);let c=this.uploadService.startUpload(n.name),d=this.getFileType(n);d!==null&&r.append("fileType",d.toString()),r.append("Title",n.name),r.append("isActive","true"),r.append("TypeId","12"),r.append("projectId",this.projectId?.toString()??""),r.append("folderId",this.folderId?.toString()??"");let m={fileName:n.name,progress:0};this.uploads.push(m);let u=this.projectService.createFile(r).pipe(Ne(f=>{f.type===Ce.UploadProgress?f.total&&(console.log("event",f),m.progress=Math.round(100*f.loaded/f.total),this.uploadService.updateProgress(c,m.progress)):f.type===Ce.Response&&(m.progress=100,this.uploadService.updateProgress(c,m.progress),console.log("Upload complete for",m.fileName,f.body),this.fetchFolderFiles(this.projectId))}));t.push(u)}Re(t).subscribe({next:i=>{console.log("All uploads completed!",i),setTimeout(()=>{this.isUpload=!1,this.closeProjectUploadModal()},3e3)},error:i=>{console.error("Error during file upload:",i),this.isUpload=!1}})};getFileType(e){switch(e.name.split(".").pop()?.toLowerCase()){case"jpg":case"jpeg":case"png":case"gif":return 0;case"mp4":case"avi":return 1;case"pdf":return 2;case"doc":case"docx":return 3;case"xls":case"xlsx":return 4;case"ppt":case"pptx":return 5;case"txt":return 6;case"zip":return 7;default:return null}}modalInstance;ngAfterViewInit(){let e=document.getElementById("projectUploadModal");if(e){let t=window.bootstrap;this.modalInstance=new t.Modal(e)}}closeProjectUploadModal(){this.modalInstance?.hide()}openAddFolderModal(){let e=this.modalService.open(Vt,{backdrop:"static",keyboard:!1});e.componentInstance.projectId=this.folder.projectId,e.componentInstance.parentId=this.folderId;let t=e.componentInstance.isSuccess.subscribe(i=>{i&&this.fetchFolderFolders(this.projectId)});this.subscriptions.push(t)}ngOnDestroy(){q.unbind(this.el.nativeElement),q.close(),setTimeout(()=>{this.projectCoverService.setShow(!1)}),this.subscriptions.forEach(e=>e.unsubscribe())}static \u0275fac=function(t){return new(t||l)(P(Be),P(ae),P(We),P(be),P(oe),P(mt),P(re),P(st),P(he),P(ye),P(yi))};static \u0275cmp=W({type:l,selectors:[["app-folder-details"]],standalone:!1,decls:356,vars:30,consts:[["mapFile",""],["file",""],["extFileForm","ngForm"],["extFile1","ngModel"],["sidebarRef",""],["template1",""],[1,"row","home-layout"],[1,"col"],[1,"d-flex","justify-content-between","heady"],[1,"recent-file-footer","pt-2","d-flex","flex-row","align-items-center"],[4,"ngIf"],[1,"upper","d-flex","flex-row"],[1,"upload-btn",3,"click"],["src","assets/icons/plus.svg","alt",""],[1,"pt-3"],["data-bs-toggle","modal","data-bs-target","#projectUploadModal",1,"upload-btn"],["class","upload-btn",3,"click",4,"ngIf"],["class","upload-btn",3,"routerLink","queryParams",4,"ngIf"],["type","file","accept","image/*",1,"form-control",2,"display","none",3,"change"],["type","file","placeholder","Choose file","multiple","",1,"form-control",2,"display","none",3,"change"],["id","projectUploadModal","tabindex","-1","aria-labelledby","projectUploadModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered","modal-lg"],[1,"modal-content"],[1,"modal-header"],[1,"d-flex","mod-head","justify-content-between"],["id","projectUploadModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close","ms-2"],[1,"modal-body"],[1,"form",3,"ngSubmit"],[1,"form-group"],["for",""],["type","text","placeholder","Files url","id","extFile","name","extFile","required","",1,"form-control",3,"ngModelChange","ngModel"],["class","alert alert-danger",4,"ngIf"],[1,"d-flex","justify-content-end"],["type","submit",1,"btn","btn-primary"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger","ms-3"],[1,"sorting"],[1,"pt-3","d-flex","flex-row","gap-3","sorting-row"],[3,"optionSelected","label","icon","options"],[1,"recent-file","pt-5"],[1,"d-flex","flex-row","align-items-center"],["src","assets/icons/middle-arrow-down.svg","alt",""],[1,"row","pt-3","recent-file-row"],["class","col-xxl-2 col-xl-3 col-lg-4 col-sm-6",4,"ngFor","ngForOf"],[1,"file-info"],[1,"close-info",3,"click"],["src","./assets/icons/close.svg","alt",""],["id","myTab","role","tablist",1,"nav","nav-tabs","mb-3"],["role","presentation",1,"nav-item"],["id","Details-tab","data-bs-toggle","tab","data-bs-target","#Details-tab-pane","type","button","role","tab","aria-controls","Details-tab-pane","aria-selected","true",1,"nav-link","active"],["src","./assets/icons/timeline.svg","alt","",1,"me-1"],["id","Timeline-tab","data-bs-toggle","tab","data-bs-target","#Timeline-tab-pane","type","button","role","tab","aria-controls","Timeline-tab-pane","aria-selected","false",1,"nav-link"],["src","./assets/icons/clock.svg","alt","",1,"me-1"],["id","myTabContent",1,"tab-content"],["id","Details-tab-pane","role","tabpanel","aria-labelledby","Details-tab","tabindex","0",1,"tab-pane","fade","show","active"],["src","assets/icons/file-photo.svg","alt","",1,"me-2"],[1,"file-image"],["src","assets/images/file-card.png","alt",""],[1,"v-mar"],[1,"users"],[1,"m-user"],["src","assets/images/profile/small/pic1.jpg","alt",""],[1,"other"],["src","assets/images/profile/small/pic9.jpg","alt",""],["src","assets/images/profile/small/pic3.jpg","alt",""],["src","assets/images/profile/small/pic4.jpg","alt",""],["href","#","data-bs-toggle","modal","data-bs-target","#exampleModal"],["src","./assets/images/plus.svg","alt",""],[1,"tags"],[1,"custom-check"],["for","tag1",1,"tag"],["for","tag2",1,"tag"],["for","tag3",1,"tag"],["for","tag4",1,"tag"],["for","tag4",1,"tag","active"],[1,"fa","fa-plus","me-1"],["id","Timeline-tab-pane","role","tabpanel","aria-labelledby","Timeline-tab","tabindex","0",1,"tab-pane","fade"],[1,"activities"],["href","",1,"replied"],["src","./assets/icons/reply1.svg","alt","",1,"me-1"],[1,"file-timeline","mt-3"],[1,"ms-4"],[1,"active"],[1,"comment-header"],["src","./assets/images/pp.jpg","alt","User"],[1,"comment-name"],[1,"deta"],[1,"commented"],[1,"comment-text"],[1,"attachment"],["href",""],["src","./assets/icons/attachment.svg","alt","",1,"me-1"],[1,"time","d-flex","justify-content-end"],["href","#",1,"reply-button"],[1,"latest"],["src","./assets/images/1.jpg","alt","User"],["href","",1,"replied","dark"],["src","./assets/icons/reply.svg","alt","",1,"me-1"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["id","exampleModalLabel",1,"modal-title"],[1,"fa","fa-link"],["placeholder","Enter Name or Email address","displaySearchStatus","default","multiple","","showSelectAll","",3,"data","templates"],[1,"mt-3","title-1"],[1,"list-group","list-group-flush","list-of-user","mb-3"],[1,"list-group-item","d-flex","justify-content-between","align-items-center"],[1,"d-flex","prof"],["src","assets/images/profile/small/pic1.jpg","alt","",1,"me-2"],["name","","id","",1,"form-control-solid"],["value",""],["value","","selected",""],["src","assets/images/profile/small/pic9.jpg","alt","",1,"me-2"],["src","assets/images/profile/small/pic3.jpg","alt","",1,"me-2"],["src","assets/images/profile/small/pic4.jpg","alt","",1,"me-2"],["src","assets/images/profile/small/pic5.jpg","alt","",1,"me-2"],["type","button","data-bs-dismiss","modal",1,"btn","btn-primary"],["data-bs-toggle","modal","data-bs-target","#exampleModal",1,"btn","btn-solid","me-3"],["src","./assets/icons/menu/user.svg","alt","",1,"me-2"],[1,"btn","btn-primary",3,"click"],["src","./assets/icons/info.svg","alt","",1,"me-2","filter"],[1,"upload-btn",3,"routerLink","queryParams"],[1,"las","la-map","la-2x"],[1,"alert","alert-danger"],[1,"col-xxl-2","col-xl-3","col-lg-4","col-sm-6"],[1,"recent-file-card","projects-block",3,"routerLink","queryParams"],[1,"proj-img-holder"],[3,"src",4,"ngIf"],[1,"recent-file-type","pt-2","d-flex","flex-row","align-items-center"],[3,"src"],[3,"showInfo","favorite","card","index"],[1,"image","me-2"],["alt","",3,"src"]],template:function(t,i){if(t&1){let n=L();o(0,"div",6)(1,"div",7)(2,"div",8)(3,"div")(4,"h3"),s(5),a(),o(6,"div",9)(7,"span"),F(8,$s,3,4,"span")(9,Zs,3,4,"span"),s(10),a()()(),F(11,qs,7,0,"div",10),a(),o(12,"div",11)(13,"button",12),C("click",function(){return _(n),w(i.openAddFolderModal())}),p(14,"img",13),o(15,"span",14),s(16,"Create Folder"),a()(),o(17,"button",15),p(18,"img",13),o(19,"span",14),s(20,"Import Files via URL"),a()(),o(21,"button",12),C("click",function(){_(n);let c=R(30);return w(c.click())}),p(22,"img",13),o(23,"span",14),s(24,"Upload File"),a()(),F(25,Ys,4,0,"a",16)(26,Xs,4,5,"a",17),o(27,"input",18,0),C("change",function(){_(n);let c=R(28);return w(i.onMapFileSelected(c.files))}),a(),o(29,"input",19,1),C("change",function(){_(n);let c=R(30);return w(i.onFilesSelected(c.files))}),a()(),o(31,"div",20)(32,"div",21)(33,"div",22)(34,"div",23)(35,"div",24)(36,"h5",25),s(37,"Upload files"),a(),o(38,"div"),p(39,"button",26),a()()(),o(40,"div",27)(41,"form",28,2),C("ngSubmit",function(){_(n);let c=R(42);return w(c.form.valid&&i.externalUpload())}),o(43,"div",29)(44,"label",30),s(45,"Files url"),a(),o(46,"input",31,3),di("ngModelChange",function(c){return _(n),ci(i.extFile,c)||(i.extFile=c),w(c)}),a(),F(48,Ks,2,1,"div",32),a(),p(49,"hr"),o(50,"div",33)(51,"button",34),s(52,"Upload"),a(),o(53,"button",35),s(54,"Close"),a()()()()()()(),o(55,"div",36)(56,"strong"),s(57,"Sorting"),a(),o(58,"div",37)(59,"app-sort-files",38),C("optionSelected",function(c){return _(n),w(i.onTypeSelect(c))}),a(),o(60,"app-sort-files",38),C("optionSelected",function(c){return _(n),w(i.onPeopleSelect(c))}),a(),o(61,"app-sort-files",38),C("optionSelected",function(c){return _(n),w(i.onModifiedSelect(c))}),a()()(),o(62,"div",39)(63,"div",40),p(64,"img",41),o(65,"strong"),s(66,"Folders"),a()(),o(67,"div",42),F(68,tc,12,10,"div",43),a(),o(69,"div",40),p(70,"img",41),o(71,"strong"),s(72,"Files"),a()(),o(73,"div",42),F(74,ic,2,2,"div",43),a()()(),o(75,"div",7)(76,"div",44,4)(78,"div",45),C("click",function(){return _(n),w(i.closeInfo())}),p(79,"img",46),a(),o(80,"ul",47)(81,"li",48)(82,"button",49),p(83,"img",50),s(84," Details "),a()(),o(85,"li",48)(86,"button",51),p(87,"img",52),s(88," Timeline "),a()()(),o(89,"div",53)(90,"div",54)(91,"h3"),p(92,"img",55),s(93," WOTN drive.jpg"),a(),o(94,"div",56),p(95,"img",57),a(),o(96,"div",58)(97,"h3"),s(98,"Who has access"),a(),o(99,"div",59)(100,"div",60),p(101,"img",61),a(),o(102,"div",62),p(103,"img",63)(104,"img",64)(105,"img",65),o(106,"a",66),p(107,"img",67),a()()(),o(108,"p"),s(109,"Owend by you."),a()(),o(110,"div",58)(111,"h3"),s(112,"Tags"),a(),o(113,"div",29)(114,"div",68)(115,"div",69)(116,"label",70),s(117,"Website"),a()(),o(118,"div",69)(119,"label",71),s(120,"Government agencies"),a()(),o(121,"div",69)(122,"label",72),s(123,"Photo"),a()(),o(124,"div",69)(125,"label",73),s(126,"Videos"),a()(),o(127,"div",69)(128,"label",74),p(129,"i",75),s(130," Add Tag"),a()()()()(),o(131,"div",58)(132,"h3"),s(133,"Description"),a(),o(134,"p"),s(135,"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. "),a()(),o(136,"div",58)(137,"h3"),s(138,"Project Details"),a(),o(139,"h4"),s(140,"Project Type"),a(),o(141,"p"),s(142,"conference"),a(),o(143,"h4"),s(144,"Size"),a(),o(145,"p"),s(146,"105.3 MB"),a(),o(147,"h4"),s(148,"Owner"),a(),o(149,"p"),s(150,"You are Owner"),a(),o(151,"h4"),s(152,"Created"),a(),o(153,"p"),s(154,"25 May 2025"),a()()(),o(155,"div",76)(156,"div",77)(157,"h3"),s(158,"No longer reply from"),a(),o(159,"a",78),p(160,"img",79),s(161," Mohamed Khaled"),a(),o(162,"a",78),p(163,"img",79),s(164," Ahmed Mohamed"),a(),o(165,"div",80)(166,"h3"),s(167,"Today"),a(),o(168,"ul",81)(169,"li",82)(170,"div",83),p(171,"img",84),o(172,"div",85),s(173,"Samir Mohamed"),a()(),o(174,"div",86)(175,"div",87),s(176,"Commented"),a(),o(177,"div",88),s(178," Maybe increasing the padding or using a grid layout could help. "),a(),o(179,"div",89)(180,"a",90),p(181,"img",91),s(182,"Attachment .file.pdf"),a()(),o(183,"a",78),p(184,"img",79),s(185," Ahmed Mohamed"),a(),o(186,"div",92),s(187,"12:19 PM"),a(),o(188,"a",93),s(189,"Reply to Mohamed Khaled"),a()()(),o(190,"li",94)(191,"div",83),p(192,"img",95),o(193,"div",85),s(194,"Branch Manager"),a()(),o(195,"div",86)(196,"div",87),s(197,"Commented"),a(),o(198,"div",88),s(199," Could we adjust the spacing between the card components on the dashboard screen? Right now it feels a bit cramped, especially on smaller screens. "),a(),o(200,"a",96),p(201,"img",97),s(202," Ahmed Mohamed"),a(),o(203,"div",92),s(204,"12:19 PM"),a(),o(205,"a",93),s(206,"Reply to Mohamed Khaled"),a()()()(),o(207,"h3"),s(208,"12 Sep 2024"),a(),o(209,"ul",81)(210,"li")(211,"div",83),p(212,"img",84),o(213,"div",85),s(214,"Ahmed Mohamed"),a()(),o(215,"div",86)(216,"div",87),s(217,"File updated"),a(),o(218,"div",88),s(219," updates done check this link kindly. "),a(),o(220,"div",89)(221,"a",90),p(222,"img",91),s(223,"Attachment .file.pdf"),a()(),o(224,"a",78),p(225,"img",79),s(226,"Mohamed Khaled"),a()()(),o(227,"li",94)(228,"div",83),p(229,"img",95),o(230,"div",85),s(231,"Mohamed Khaled"),a()(),o(232,"div",86)(233,"div",87),s(234,"Commented"),a(),o(235,"div",88),s(236," Could we adjust the spacing between the card components on the dashboard screen? Right now it feels a bit cramped, especially on smaller screens. "),a(),o(237,"a",96),p(238,"img",97),s(239,"Ahmed Mohamed"),a(),o(240,"div",92),s(241,"12:19 PM"),a(),o(242,"a",93),s(243,"Reply to Mohamed Khaled"),a()()()(),o(244,"h3"),s(245,"20 May 2025"),a(),o(246,"ul",81)(247,"li")(248,"div",83),p(249,"img",84),o(250,"div",85),s(251,"Ahmed Mohamed"),a()(),o(252,"div",86)(253,"div",87),s(254,"File Created"),a(),o(255,"div",89)(256,"a",90),p(257,"img",91),s(258,"Attachment .file.pdf"),a()(),o(259,"a",78),p(260,"img",79),s(261,"Mohamed Khaled, Branch Manger"),a(),o(262,"div",92),s(263,"13:17 Pm"),a()()()()()()()(),o(264,"div",98)(265,"div",21)(266,"div",22)(267,"div",23)(268,"div",24)(269,"h5",99),s(270,'Share "WOTN drive.mp4"'),a(),o(271,"div")(272,"a",90),p(273,"i",100),s(274," copy link"),a(),p(275,"button",26),a()()(),o(276,"div",27)(277,"select2",101),F(278,oc,2,2,"ng-template",null,5,J),a(),o(280,"h3",102),s(281,"Who has access"),a(),o(282,"ul",103)(283,"a",104)(284,"div",105),p(285,"img",106),o(286,"div")(287,"h5"),s(288,"Ahmed El Hammad"),a(),o(289,"p"),s(290,"Ahmed@exapmle.com.sa"),a()()(),o(291,"div")(292,"select",107)(293,"option",108),s(294,"Editor"),a(),o(295,"option",109),s(296,"Viewer"),a()()()(),o(297,"a",104)(298,"div",105),p(299,"img",110),o(300,"div")(301,"h5"),s(302,"Kareem El Hussainy"),a(),o(303,"p"),s(304,"Ahmed@exapmle.com.sa"),a()()(),o(305,"div")(306,"select",107)(307,"option",108),s(308,"Editor"),a(),o(309,"option",108),s(310,"Viewer"),a()()()(),o(311,"a",104)(312,"div",105),p(313,"img",111),o(314,"div")(315,"h5"),s(316,"Saad El Daly"),a(),o(317,"p"),s(318,"Ahmed@exapmle.com.sa"),a()()(),o(319,"div")(320,"select",107)(321,"option",108),s(322,"Editor"),a(),o(323,"option",108),s(324,"Viewer"),a()()()(),o(325,"a",104)(326,"div",105),p(327,"img",112),o(328,"div")(329,"h5"),s(330,"Amr Hassas"),a(),o(331,"p"),s(332,"Ahmed@exapmle.com.sa"),a()()(),o(333,"div")(334,"select",107)(335,"option",108),s(336,"Editor"),a(),o(337,"option",109),s(338,"Viewer"),a()()()(),o(339,"a",104)(340,"div",105),p(341,"img",113),o(342,"div")(343,"h5"),s(344,"Mostafa El Hammad"),a(),o(345,"p"),s(346,"Ahmed@exapmle.com.sa"),a()()(),o(347,"div")(348,"select",107)(349,"option",108),s(350,"Editor"),a(),o(351,"option",108),s(352,"Viewer"),a()()()()(),o(353,"div",33)(354,"button",114),s(355,"Done"),a()()()()()()()()()}if(t&2){let n,r,c=R(42),d=R(47),m=R(279);U("expand",i.shownInfo),h(5),V(i.folder==null?null:i.folder.title),h(3),Z(((n=i.folder==null?null:i.folder.filesSize)!==null&&n!==void 0?n:0)>1?8:9),h(2),D("| ",(r=i.folder==null?null:i.folder.filesNum)!==null&&r!==void 0?r:0," items"),h(),S("ngIf",i.shownInfo),h(14),S("ngIf",!i.folderMap),h(),S("ngIf",i.folderMap),h(20),si("ngModel",i.extFile),h(2),S("ngIf",d.invalid&&(d.dirty||d.touched||c.submitted)),h(11),S("label","Type")("icon","assets/icons/file-text.svg")("options",k(25,Ls)),h(),S("label","People")("icon","assets/icons/profile-middle.svg")("options",k(26,Rs)),h(),S("label","Modified")("icon","assets/icons/modified-middle.svg")("options",k(27,Ns)),h(7),S("ngForOf",i.projectFolders),h(6),S("ngForOf",i.projectFiles),h(),U("active",i.shownInfo),h(202),S("data",i.data)("templates",K(28,Vs,m))}},dependencies:[te,X,de,Se,je,Ue,le,se,ct,dt,He,Si,gi,Tt,ne,Te],encapsulation:2})};var ac=[{path:"",component:Ii,children:[{path:"",component:Ji,data:{title:"Home"}},{path:"recent-files",component:en,data:{title:"Recent files"}},{path:"projects",component:tn,data:{title:"Projects"}},{path:"bin",component:nn,data:{title:"Trash"}},{path:"shared",component:on,data:{title:"Shared with me"}},{path:"my-files",component:an,data:{title:"My Files"}},{path:"favorite",component:rn,data:{title:"favorite"}},{path:"projects/project-details",component:sn,data:{title:"Project details",breadcrumb:"projects"}},{path:"projects/project-map",component:cn,data:{title:"Project Map",breadcrumb:"projects"}},{path:"projects/project-screen-details",component:dn,data:{title:"Project screen details",breadcrumb:"projects"}},{path:"projects/folder-details",component:mn,data:{title:"Folder details",breadcrumb:"projects"}}]}],pn=class l{static \u0275fac=function(t){return new(t||l)};static \u0275mod=oi({type:l});static \u0275inj=ii({imports:[Wt.forChild(ac),Wt]})};var oa=class l{static \u0275fac=function(t){return new(t||l)};static \u0275mod=oi({type:l});static \u0275inj=ii({imports:[Ht,vo,go,pn,Ht,fo,uo,Wt,ho,ne,mo]})};export{oa as PagesModule};
