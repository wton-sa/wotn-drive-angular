import{a as xe,b as di,c as Je,d as ya,e as mi,f as _a,g as xa,h as wa}from"./chunk-FTWBGAKV.js";import{a as ga}from"./chunk-TJHUTPFO.js";import{$a as C,$b as $i,Ab as Zo,Ac as na,B as No,Ba as R,Bb as F,Bc as Jn,Ca as It,Cb as W,Cc as oa,D as De,Da as Ho,Db as K,Dc as aa,E as ti,Ea as Uo,Eb as jt,Ec as ra,Fa as $o,Fb as ue,Fc as eo,Ga as M,Gc as sa,Hb as Ui,Hc as la,Ia as mt,Ic as ca,Ja as S,Jc as da,K as Ct,Ka as ii,Kc as ma,La as B,Lc as pa,Mc as ua,Na as Ci,Nc as Wi,O as Lo,Oa as Y,P as _e,Q as Et,Qc as oi,Rc as gt,S as Pt,Sa as o,Sb as pt,Ta as r,Tb as ee,Tc as se,Ua as u,Ub as X,Uc as Wt,Va as Bt,Vb as Kn,Vc as qt,W as Ri,Wa as Ht,Wb as Gn,Wc as ft,X as _,Xa as Yn,Xb as Xo,Y as x,Ya as D,Yb as Yo,Z as ct,Zb as Qn,_ as wi,_a as w,_b as Ko,_c as me,a as ye,ab as Ut,ac as Me,b as ze,ba as Vo,bb as Mt,bc as Ot,bd as ge,cb as Z,cc as ut,cd as ai,d as zi,da as $,db as Tt,dd as fa,eb as Wo,ed as ha,fb as Ft,fd as va,g as Zn,gb as ae,gd as Ge,h as st,ha as de,hb as G,hc as $t,hd as Ii,ib as Q,ic as Re,jc as kt,jd as Qe,kd as Ne,l as lt,lb as H,ld as ri,mb as l,md as si,n as ke,nb as N,nd as le,oa as Bo,ob as O,oc as Go,od as qi,p as wt,pa as V,pb as qo,pd as Le,qa as dt,qb as Li,qc as Ei,qd as li,ra as Ni,rb as Vi,rc as Ke,rd as ci,sa as f,sb as Bi,sc as Qo,sd as ba,ta as Xn,tc as Dt,td as fe,u as Xe,uc as Fe,ud as he,va as re,vc as Jo,vd as Zi,wa as I,wb as Hi,wc as Pi,xb as A,xc as ea,xd as Sa,y as Ye,yb as te,yc as ta,yd as Xi,z as xi,zb as ni,zc as ia,zd as Yi}from"./chunk-45C5KKRZ.js";var et=class a{showSubject=new st(!1);sourceSubject=new st("");show$=this.showSubject.asObservable();source$=this.sourceSubject.asObservable();setShow(e){this.showSubject.next(e)}setSource(e){this.sourceSubject.next(e)}static \u0275fac=function(t){return new(t||a)};static \u0275prov=_e({token:a,factory:a.\u0275fac,providedIn:"root"})};var Gi=class a{id;name;email;phoneNumber;imageUrl;dateJoin;isMale;isActive;roleId;static \u0275fac=function(t){return new(t||a)};static \u0275prov=_e({token:a,factory:a.\u0275fac,providedIn:"root"})};var jr=a=>({template1:a}),Ca=()=>["/permissions"],Or=()=>["/auth/change-password"],kr=()=>["/"],Dr=a=>["/",a];function Ar(a,e){if(a&1&&(o(0,"div",89),u(1,"img",90),r()),a&2){let t=C().data;f(),Z("src",t==null?null:t.image,V)}}function zr(a,e){if(a&1&&(M(0,Ar,2,1,"div",89),l(1)),a&2){let t=e.data;Y(t!=null&&t.image?0:-1),f(),O(" ",t==null?null:t.name," ")}}function Rr(a,e){if(a&1&&(Bt(0),o(1,"span"),l(2),r(),Ht()),a&2){let t=C();f(2),N(t.title)}}function Nr(a,e){if(a&1&&(o(0,"a",91),l(1),r()),a&2){let t=C(2);S("routerLink",te(2,Dr,t.breadcrumb)),f(),N(t.breadcrumb)}}function Lr(a,e){a&1&&u(0,"img",92)}function Vr(a,e){if(a&1&&(Bt(0),o(1,"a",91),l(2,"Home"),r(),u(3,"img",92),M(4,Nr,2,4,"a",93)(5,Lr,1,0,"img",94),o(6,"span"),l(7),r(),Ht()),a&2){let t=C();f(),S("routerLink",A(4,kr)),f(3),S("ngIf",t.breadcrumb),f(),S("ngIf",t.breadcrumb),f(2),N(t.title)}}function Br(a,e){if(a&1){let t=D();Bt(0),o(1,"button",95),w("click",function(){_(t);let n=C();return x(n.goBack())}),u(2,"i",96),l(3," back "),r(),Ht()}}var Qi=class a{constructor(e,t,i,n,s,c,d){this.authService=e;this.router=t;this.login=i;this.toaster=n;this.translate=s;this.el=c;this.activatedRoute=d;this.router.events.pipe(Xe(m=>m instanceof Ei)).subscribe(()=>{let m=this.activatedRoute.firstChild;m&&(this.title=m.snapshot.data.title,this.breadcrumb=m.snapshot.data.breadcrumb)})}title="";breadcrumb="";currentUser=new Gi;data=[{options:[{value:"Omar Ezz",label:"Omar Ezz",data:{name:"Omar Ezz",email:"Omar_Ezz@exapmle.com.sa",image:"assets/images/profile/pic1.jpg"},templateId:"template1",templateSelectionId:"template1Selection",id:"1"},{value:"Emad hamdi",label:"Emad Hamdi",data:{name:"Emad hamdi",email:"emad_hamdi@exapmle.com.sa",image:"assets/images/profile/user4.jpg"},templateId:"template1",templateSelectionId:"template1Selection",id:"2"},{value:"Ehab Zakaria",label:"Ehab Zakaria",data:{name:"Ehab Zakaria",email:"ehab_zakaria@exapmle.com.sa",image:"assets/images/profile/default-profile-img.png"},templateId:"template1",templateSelectionId:"template1Selection",id:"3"},{value:"mohamed Ezz",label:"mohamed Ezz",data:{name:"mohamed Ezz",email:"mohamed@exapmle.com.sa",image:"assets/images/profile/pic1.jpg"},templateId:"template1",templateSelectionId:"template1Selection",id:"4"},{value:"Ali hamdi",label:"Ali Hamdi",data:{name:"Ali hamdi",email:"Ali@exapmle.com.sa",image:"assets/images/profile/user4.jpg"},templateId:"template1",templateSelectionId:"template1Selection",id:"5"},{value:"hassan Zakaria",label:"hassan Zakaria",data:{name:"hassan Zakaria",email:"hassan@exapmle.com.sa",image:"assets/images/profile/default-profile-img.png"},templateId:"template1",templateSelectionId:"template1Selection",id:"6"}]}];update(e){console.log(e)}ngOnInit(){this.currentUser.id=Number(localStorage.getItem("userId")),this.currentUser.name=localStorage.getItem("userName"),this.currentUser.email=localStorage.getItem("email"),this.currentUser.phoneNumber=localStorage.getItem("phoneNumber"),this.currentUser.imageUrl=localStorage.getItem("imageUrl"),this.currentUser.roleId=Number(localStorage.getItem("roleId")),this.currentUser.isActive=localStorage.getItem("isActive")==="true",this.currentUser.isMale=localStorage.getItem("isMale")==="true",this.currentUser.dateJoin=new Date(localStorage.getItem("dateJoin")||"")}logout(){this.authService.logout().subscribe(e=>{console.log("logout_data",e),localStorage.clear(),localStorage.setItem("TimeSeveral","yes"),localStorage.setItem("isLoggedIn","false"),this.authService.isLoggedIn=!1,this.toaster.success("",this.translate.instant("Logout")),this.router.navigate(["/auth/login"])},e=>{this.toaster.error("",this.translate.instant("LogOut.logoutFailure"))})}ngAfterViewInit(){}goBack(){this.router.navigateByUrl(this.router.url,{skipLocationChange:!0}).then(()=>{window.history.back()})}toggle(){let e=document.getElementById("main-wrapper"),t=this.el.nativeElement.querySelector(".hamburger");e?.classList.toggle("menu-toggle"),t?.classList.toggle("is-active")}filterData(){let e=document.getElementById("filterData"),t=this.el.nativeElement.querySelector(".filter");e?.classList.toggle("active"),t?.classList.toggle("is-active")}static \u0275fac=function(t){return new(t||a)(I(Wi),I(Dt),I(ga),I(me),I(ge),I(de),I(Ke))};static \u0275cmp=R({type:a,selectors:[["app-header"]],standalone:!1,decls:206,vars:18,consts:[["template1",""],[1,"nav-header"],["href","home.html",1,"brand-logo"],["src","assets/images/logo.svg","alt","",1,"logo-abbr"],[1,"nav-control"],[1,"hamburger",3,"click"],[1,"line"],[1,"header","home"],[1,"header-content"],[1,"navbar","navbar-expand"],[1,"collapse","navbar-collapse","justify-content-between"],[1,"header-left"],[1,"filter",3,"click"],["src","assets/icons/filter.svg","alt",""],["type","search","placeholder","Search","aria-label","Search",1,"form-control","search"],["id","filterData",1,"filterData"],[1,"head-title"],["src","assets/icons/close.svg","alt","",3,"click"],[1,"filter-body"],[1,"row"],[1,"col-lg-6"],[1,"form-group"],["for",""],["type","text","placeholder","Write Name Here........",1,"form-control"],["name","","id","",1,"form-control"],["value",""],[1,"col-lg-12"],["placeholder","Enter Name or Email address","displaySearchStatus","default","multiple","","showSelectAll","",3,"update","data","templates"],[1,"col-lg-4"],["type","date","placeholder","Enter Name or Email address",1,"form-control","date"],[1,"tags"],[1,"custom-check"],["type","checkbox","name","tag","id","tag1","checked",""],["for","tag1",1,"tag"],["type","checkbox","name","tag","id","tag2"],["for","tag2",1,"tag"],["type","checkbox","name","tag","id","tag3"],["for","tag3",1,"tag"],["type","checkbox","name","tag","id","tag4"],["for","tag4",1,"tag"],[1,"d-flex","justify-content-end"],["href","",1,"btn","btn-solid","me-3"],["href","",1,"btn","btn-primary"],[1,"navbar-nav","header-right"],[1,"nav-item","dropdown","notification_dropdown"],["href","#","role","button","data-bs-toggle","dropdown",1,"nav-link","bell","ai-icon"],["id","icon-lange","xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"feather","feather-flag"],["d","M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"],["x1","4","y1","22","x2","4","y2","15"],[1,"dropdown-menu","dropdown-menu-end"],[1,"dropdown-item","ai-icon",3,"routerLink"],["src","assets/icons/flag-sa.svg",1,"lang","me-2"],[1,"ml-2"],["src","assets/icons/flag-us.svg",1,"lang","me-2"],["id","icon-user","xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"feather","feather-bell"],["d","M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"],["d","M13.73 21a2 2 0 0 1-3.46 0"],[1,"pulse-css"],[1,"dropdown-menu","dropdown-menu-end","noti"],["id","DZ_W_Notification1",1,"widget-media","dz-scroll","p-3",2,"height","380px"],[1,"timeline"],[1,"timeline-panel"],[1,"media","me-2"],["alt","image","width","50","src","assets/images/avatar/1.jpg"],[1,"media-body"],[1,"mb-1"],[1,"d-block"],[1,"media","me-2","media-info"],[1,"media","me-2","media-success"],[1,"media","me-2","media-danger"],[1,"media","me-2","media-primary"],[1,"nav-item","dropdown","header-profile"],["href","#","role","button","data-bs-toggle","dropdown",1,"nav-link"],["width","20","alt","",3,"src"],[1,"header-info","pl-2"],[1,"dropdown-menu","dropdown-menu-right"],[1,"d-flex","align-items-center","px-4"],["width","20","alt","",1,"me-2",3,"src"],[1,"header-info"],[1,"mx-4","limit"],[1,"d-flex","align-items-center","justify-content-between"],[1,"progress"],["role","progressbar","aria-valuenow","25","aria-valuemin","0","aria-valuemax","100",1,"progress-bar",2,"width","25%"],[1,"ti","ti-angle-right"],[1,"pt-2","px-4"],[1,"btn","btn-primary","d-block",3,"click"],[1,"breadcrumb","d-flex","justify-content-between"],[1,"d-flex"],[4,"ngIf"],[1,"image","me-2"],["alt","",3,"src"],[3,"routerLink"],["src","assets/icons/breadcrumb.svg","alt","",1,"mx-2"],[3,"routerLink",4,"ngIf"],["src","assets/icons/breadcrumb.svg","class","mx-2","alt","",4,"ngIf"],[1,"btn","btn-primary",3,"click"],[1,"ti","ti-arrow-left"]],template:function(t,i){if(t&1){let n=D();o(0,"div",1)(1,"a",2),u(2,"img",3),r(),o(3,"div",4)(4,"div",5),w("click",function(){return _(n),x(i.toggle())}),u(5,"span",6)(6,"span",6)(7,"span",6),r()()(),o(8,"div",7)(9,"div",8)(10,"nav",9)(11,"div",10)(12,"div",11)(13,"form")(14,"a",12),w("click",function(){return _(n),x(i.filterData())}),u(15,"img",13),r(),u(16,"input",14),r(),o(17,"div",15)(18,"div",16)(19,"h3"),l(20,"Search"),r(),o(21,"img",17),w("click",function(){return _(n),x(i.filterData())}),r()(),o(22,"div",18)(23,"div",19)(24,"div",20)(25,"div",21)(26,"label",22),l(27,"Folder Name"),r(),u(28,"input",23),r()(),o(29,"div",20)(30,"div",21)(31,"label",22),l(32,"Project Type"),r(),o(33,"select",24)(34,"option",25),l(35,"Any"),r(),o(36,"option",25),l(37,"event"),r()()()(),o(38,"div",26)(39,"div",21)(40,"label",22),l(41,"Shared To"),r(),o(42,"select2",27),w("update",function(c){return _(n),x(i.update(c))}),M(43,zr,2,2,"ng-template",null,0,ue),r()()(),o(45,"div",28)(46,"div",21)(47,"label",22),l(48,"Owner"),r(),o(49,"select",24)(50,"option",25),l(51,"Anyaone"),r(),o(52,"option",25),l(53,"Ehab"),r()()()(),o(54,"div",28)(55,"div",21)(56,"label",22),l(57,"Location"),r(),o(58,"select",24)(59,"option",25),l(60,"Anywhere"),r(),o(61,"option",25),l(62,"Egypt"),r()()()(),o(63,"div",28)(64,"div",21)(65,"label",22),l(66,"Date Modified"),r(),u(67,"input",29),r()()(),o(68,"div",21)(69,"label",22),l(70,"Tags"),r(),o(71,"div",30)(72,"div",31),u(73,"input",32),o(74,"label",33),l(75,"Website"),r()(),o(76,"div",31),u(77,"input",34),o(78,"label",35),l(79,"Government agencies"),r()(),o(80,"div",31),u(81,"input",36),o(82,"label",37),l(83,"Photo"),r()(),o(84,"div",31),u(85,"input",38),o(86,"label",39),l(87,"Videos"),r()()()(),o(88,"div",40)(89,"a",41),l(90,"Reset"),r(),o(91,"a",42),l(92,"Search"),r()()()()(),o(93,"ul",43)(94,"li",44)(95,"a",45),ct(),o(96,"svg",46),u(97,"path",47)(98,"line",48),r()(),wi(),o(99,"div",49)(100,"a",50),u(101,"img",51),o(102,"span",52),l(103,"\u0639\u0631\u0628\u064A"),r()(),o(104,"a",50),u(105,"img",53),o(106,"span",52),l(107,"English"),r()()()(),o(108,"li",44)(109,"a",45),ct(),o(110,"svg",54),u(111,"path",55)(112,"path",56),r(),wi(),u(113,"div",57),r(),o(114,"div",58)(115,"div",59)(116,"ul",60)(117,"li")(118,"div",61)(119,"div",62),u(120,"img",63),r(),o(121,"div",64)(122,"h6",65),l(123,"You have a new notification from WOTN"),r(),o(124,"small",66),l(125,"11/7/2024 - 02:26 PM"),r()()()(),o(126,"li")(127,"div",61)(128,"div",67),l(129," WOTN "),r(),o(130,"div",64)(131,"h6",65),l(132,"You have a new notification from WOTN"),r(),o(133,"small",66),l(134,"11/7/2024 - 02:26 PM"),r()()()(),o(135,"li")(136,"div",61),u(137,"div",68),o(138,"div",64)(139,"h6",65),l(140,"You have a new notification from WOTN"),r(),o(141,"small",66),l(142,"11/7/2024 - 02:26 PM"),r()()()(),o(143,"li")(144,"div",61)(145,"div",62),u(146,"img",63),r(),o(147,"div",64)(148,"h6",65),l(149,"You have a new notification from WOTN"),r(),o(150,"small",66),l(151,"11/7/2024 - 02:26 PM"),r()()()(),o(152,"li")(153,"div",61)(154,"div",69),l(155," WOTN "),r(),o(156,"div",64)(157,"h6",65),l(158,"You have a new notification from WOTN"),r(),o(159,"small",66),l(160,"11/7/2024 - 02:26 PM"),r()()()(),o(161,"li")(162,"div",61),u(163,"div",70),o(164,"div",64)(165,"h6",65),l(166,"You have a new notification from WOTN"),r(),o(167,"small",66),l(168,"11/7/2024 - 02:26 PM"),r()()()()()()()(),o(169,"li",71)(170,"a",72),u(171,"img",73),o(172,"div",74)(173,"span")(174,"strong"),l(175),r()()()(),o(176,"div",75)(177,"div",76),u(178,"img",77),o(179,"div",78)(180,"span")(181,"strong"),l(182),r()(),u(183,"br"),o(184,"span"),l(185),r()()(),o(186,"div",79)(187,"span",80),l(188,"Limit"),o(189,"span"),l(190,"1 GB of 50 GB"),r()(),o(191,"div",81),u(192,"div",82),r()(),o(193,"a",50)(194,"span",80),l(195,"Change Password "),u(196,"i",83),r()(),o(197,"div",84)(198,"a",85),w("click",function(){return _(n),x(i.logout())}),l(199,"Log out"),r()()()()()()()(),o(200,"div",86)(201,"div",87),M(202,Rr,3,1,"ng-container",88)(203,Vr,8,5,"ng-container",88),r(),o(204,"div",87),M(205,Br,4,0,"ng-container",88),r()()()}if(t&2){let n=H(44);f(42),S("data",i.data)("templates",te(13,jr,n)),f(58),S("routerLink",A(15,Ca)),f(4),S("routerLink",A(16,Ca)),f(67),S("src",i.currentUser.imageUrl,V),f(4),N(i.currentUser.name),f(3),S("src",i.currentUser.imageUrl,V),f(4),N(i.currentUser.name),f(3),N(i.currentUser.email),f(8),S("routerLink",A(17,Or)),f(9),S("ngIf",i.title=="Home"),f(),S("ngIf",i.title!="Home"),f(2),S("ngIf",i.title!="Home")}},dependencies:[X,Fe,Le,fe,he,Ne,si,xe],styles:[".header-left[_ngcontent-%COMP%]   form[_ngcontent-%COMP%], .header-left[_ngcontent-%COMP%]{position:relative}.header-left[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%]{position:absolute;top:50%;right:6px;transform:translateY(-50%);z-index:1;width:40px;line-height:40px;height:40px;text-align:center;border-radius:50%}a.filter[_ngcontent-%COMP%]{cursor:pointer;transition:all .6s ease-in-out;-ms-transition:all .6s ease-in-out;-o-transition:all .6s ease-in-out;-webkit-transition:all .6s ease-in-out;-moz-transition:all .6s ease-in-out}a.filter.is-active[_ngcontent-%COMP%], a.filter[_ngcontent-%COMP%]:hover{background:#eee}.filterData[_ngcontent-%COMP%]{border-radius:20px;border:1px solid #EDEDED;background:#fff;box-shadow:0 0 22px #43434324;position:absolute;width:100%;top:70px;transform:translateY(-100%);left:0;z-index:9;height:0;opacity:0;overflow:hidden;transition:all .4s ease-in-out;-ms-transition:all .4s ease-in-out;-o-transition:all .4s ease-in-out;-webkit-transition:all .4s ease-in-out;-moz-transition:all .4s ease-in-out}.filterData.active[_ngcontent-%COMP%]{height:auto;opacity:1;transform:translateY(0)}.filterData[_ngcontent-%COMP%]   .head-title[_ngcontent-%COMP%]{padding:10px 32px;display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid #D7D7D7}.head-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#000;font-size:20px;font-style:normal;font-weight:500;line-height:150%;margin:0}.head-title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{cursor:pointer;transition:all .6s ease-in-out;-ms-transition:all .6s ease-in-out;-o-transition:all .6s ease-in-out;-webkit-transition:all .6s ease-in-out;-moz-transition:all .6s ease-in-out}.head-title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:rotate(180deg)}.filter-body[_ngcontent-%COMP%]{border-radius:20px;padding:25px 32px;position:relative;background:#fff;z-index:9}.tags[_ngcontent-%COMP%]{position:relative;display:flex;column-gap:5px}.tags[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{display:none}.tag[_ngcontent-%COMP%]{border-radius:8px;border:1px solid #D7D7D7;padding:10px 15px;color:#918c8c;font-size:13px;font-style:normal;font-weight:300;line-height:150%;cursor:pointer}.tags[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]{background:#3a5164;color:#fff}.tag[_ngcontent-%COMP%]:hover{color:#3a5164;background:#f8fafc}.select2-container--default[_ngcontent-%COMP%]   .select2-selection--multiple[_ngcontent-%COMP%]{border:none;background:transparent}"]})};var Ur=()=>["/"],Mi=()=>({exact:!0}),$r=()=>["recent-files"],Wr=()=>["my-files"],qr=()=>["projects"],Zr=()=>["favorite"],Ji=class a{static \u0275fac=function(t){return new(t||a)};static \u0275cmp=R({type:a,selectors:[["app-sidebar"]],standalone:!1,decls:29,vars:20,consts:[[1,"deznav"],[1,"deznav-scroll"],["id","menu",1,"metismenu","pt-5"],["routerLinkActive","active",1,"ai-icon",3,"routerLink","routerLinkActiveOptions"],["src","./assets/icons/menu/home.svg","alt","",1,"me-2"],[1,"nav-text"],["src","./assets/icons/menu/recent.svg","alt","",1,"me-2"],[1,"divider"],["src","./assets/icons/menu/mine.svg","alt","",1,"me-2"],["src","./assets/icons/menu/folder.svg","alt","",1,"me-2"],["src","./assets/icons/menu/star.svg","alt","",1,"me-2"]],template:function(t,i){t&1&&(o(0,"div",0)(1,"div",1)(2,"ul",2)(3,"li")(4,"a",3),u(5,"img",4),o(6,"span",5),l(7,"Home"),r()()(),o(8,"li")(9,"a",3),u(10,"img",6),o(11,"span",5),l(12,"recent"),r()()(),u(13,"li",7),o(14,"li")(15,"a",3),u(16,"img",8),o(17,"span",5),l(18,"My Files"),r()()(),o(19,"li")(20,"a",3),u(21,"img",9),o(22,"span",5),l(23,"Projects"),r()()(),o(24,"li")(25,"a",3),u(26,"img",10),o(27,"span",5),l(28,"favorite"),r()()()()()()),t&2&&(f(4),S("routerLink",A(10,Ur))("routerLinkActiveOptions",A(11,Mi)),f(5),S("routerLink",A(12,$r))("routerLinkActiveOptions",A(13,Mi)),f(6),S("routerLink",A(14,Wr))("routerLinkActiveOptions",A(15,Mi)),f(5),S("routerLink",A(16,qr))("routerLinkActiveOptions",A(17,Mi)),f(5),S("routerLink",A(18,Zr))("routerLinkActiveOptions",A(19,Mi)))},dependencies:[Fe,Jo],encapsulation:2})};var en=class a{show;source;static \u0275fac=function(t){return new(t||a)};static \u0275cmp=R({type:a,selectors:[["app-project-cover"]],inputs:{show:"show",source:"source"},standalone:!1,decls:2,vars:3,consts:[[1,"project-cover"],["alt","",2,"filter","blur(8px)","-webkit-filter","blur(8px)",3,"src"]],template:function(t,i){t&1&&(o(0,"div",0),u(1,"img",1),r()),t&2&&(B("hidden",!i.show),f(),Z("src",i.source,V))},encapsulation:2})};var tn=class a{constructor(e,t,i,n){this.router=e;this.activatedRoute=t;this.projectCoverService=i;this.cdr=n;this.router.events.pipe(Xe(s=>s instanceof Ei)).subscribe(()=>{let s=this.activatedRoute.firstChild;s&&(this.title=s.snapshot.data.title,this.breadcrumb=s.snapshot.data.breadcrumb)})}title="";breadcrumb="";show=!1;source="";ngOnInit(){this.projectCoverService.show$.subscribe(e=>{this.show=e}),this.projectCoverService.source$.subscribe(e=>{this.source=e}),this.cdr.detectChanges(),this.router.events.pipe(Xe(e=>e instanceof Ei)).subscribe(()=>{setTimeout(()=>{this.projectCoverService.setShow(!1),this.projectCoverService.setSource("")})})}static \u0275fac=function(t){return new(t||a)(I(Dt),I(Ke),I(et),I(Ui))};static \u0275cmp=R({type:a,selectors:[["app-pages"]],standalone:!1,decls:8,vars:2,consts:[["id","main-wrapper"],[1,"content-body"],[3,"show","source"],[1,"container-fluid"],[1,"main-body"]],template:function(t,i){t&1&&(o(0,"div",0),u(1,"app-header")(2,"app-sidebar"),o(3,"div",1),u(4,"app-project-cover",2),o(5,"div",3)(6,"div",4),u(7,"router-outlet"),r()()()()),t&2&&(f(4),S("show",i.show)("source",i.source))},dependencies:[Qi,Ji,Qo,en],encapsulation:2})};var ht=(t=>(t[t.Event=0]="Event",t[t.Conference=1]="Conference",t))(ht||{});var pe=class a{constructor(e){this.http=e}isLoadingSubject=new st(!1);setLoading(e){this.isLoadingSubject.next(e)}createProject(e){return this.http.post(ea,e)}createFile(e){return this.http.post(eo,e,{reportProgress:!0,observe:"events",responseType:"json"})}createFile1(e){return this.http.post(eo,e)}createFolder(e){return this.http.post(Jn,e)}createMap(e){return this.http.post(Jn,e,{reportProgress:!0,observe:"events",responseType:"json"})}updateFolder(e,t){return this.http.put(oa+e.toString(),t)}activateFolder(e){return this.http.post(aa+e.toString(),{})}patchFolder(e,t){return this.http.patch(ra+e.toString(),t)}fetchProjects(e,t,i=null,n=null){this.setLoading(!0);let s=new $t().set("isActive","").set("pageNumber",e.toString()).set("pageSize",t.toString());return i!=null&&(s=s.set("Type",i.toString())),n&&(s=s.set("sortOrder",n)),this.http.get(ta,{params:s,observe:"response"}).pipe(ke(c=>{let d=c.body;var m;c.headers.get("pagination")&&(m=JSON.parse(c.headers.get("pagination")??""));let g={currentPage:m?Number(m.currentPage):0,pageSize:m?Number(m.pageSize):0,numberOfPages:m?Number(m.numberOfPages):0,totalItems:m?Number(m.totalItems):0};return ze(ye({},g),{data:d})}),Ye(c=>this.handleError("fetching projects",c)),De(()=>this.setLoading(!1)))}fetchProject(e){return this.setLoading(!0),this.http.get(ia+e?.toString(),{observe:"response"}).pipe(ke(t=>t.body),Ye(t=>this.handleError("fetching project",t)),De(()=>this.setLoading(!1)))}fetchFolder(e){return this.setLoading(!0),this.http.get(na+e?.toString(),{observe:"response"}).pipe(ke(t=>t.body),Ye(t=>this.handleError("fetching folder",t)),De(()=>this.setLoading(!1)))}fetchProjectFolders(e,t,i,n,s=null,c,d=0,m=!1,g=null){this.setLoading(!0);let p=new $t().set("projectId",e.toString()).set("pageNumber",i.toString()).set("pageSize",n.toString());return d!=null&&(p=p.set("type",d)),s&&(p=p.set("sortOrder",s)),t&&(p=p.set("parentId",t.toString())),c&&(p=p.set("FavUserId",c.toString())),g!=null&&(p=p.set("isActive",g.toString())),m&&(p=p.set("showCurrentUserFav",m.toString())),this.http.get(sa,{params:p,observe:"response"}).pipe(ke(h=>{let b=h.body;var v;h.headers.get("pagination")&&(v=JSON.parse(h.headers.get("pagination")??""));let y={currentPage:v?Number(v.currentPage):0,pageSize:v?Number(v.pageSize):0,numberOfPages:v?Number(v.numberOfPages):0,totalItems:v?Number(v.totalItems):0};return ze(ye({},y),{data:b})}),Ye(h=>this.handleError("fetching project folders",h)),De(()=>this.setLoading(!1)))}fetchProjectFiles(e,t,i,n,s=null,c,d=!1){this.setLoading(!0);let m=new $t().set("projectId",e?.toString()??"").set("isActive","").set("pageNumber",i.toString()).set("pageSize",n.toString()).set("FavUserId",c?.toString()??"");return s&&(m=m.set("sortOrder",s)),t&&(m=m.set("folderId",t.toString())),d&&(m=m.set("ShowCurrentUserFav",d.toString())),this.http.get(la,{params:m,observe:"response"}).pipe(ke(g=>{let p=g.body;var h;g.headers.get("pagination")&&(h=JSON.parse(g.headers.get("pagination")??""));let b={currentPage:h?Number(h.currentPage):0,pageSize:h?Number(h.pageSize):0,numberOfPages:h?Number(h.numberOfPages):0,totalItems:h?Number(h.totalItems):0};return ze(ye({},b),{data:p})}),Ye(g=>this.handleError("fetching project files",g)),De(()=>this.setLoading(!1)))}fetchTags(e,t,i){this.setLoading(!0);let n=new $t().set("isActive","").set("pageNumber",t.toString()).set("pageSize",i.toString());return e!=null&&(n=n.set("keyword",e)),this.http.get(ma,{params:n,observe:"response"}).pipe(ke(s=>s.body?.map(d=>d?.title)??[]),Ye(s=>(this.handleError("fetching tags",s),lt([]))),De(()=>this.setLoading(!1)))}handleError(e,t){return console.error(`Error ${e}:`,t),this.setLoading(!1),lt(void 0)}setFavourite(e){let t={};return this.http.post(ca+"/"+e,t)}setFavouriteFolder(e){let t={};return this.http.post(da+"/"+e,t)}static \u0275fac=function(t){return new(t||a)(Pt(kt))};static \u0275prov=_e({token:a,factory:a.\u0275fac,providedIn:"root"})};var nn=class a{constructor(e){this.http=e}isLoadingSubject=new st(!1);setLoading(e){this.isLoadingSubject.next(e)}fetchUsers(e,t,i,n=null){this.setLoading(!0);let s=new $t().set("isActive","").set("pageNumber",t.toString()).set("pageSize",i.toString());return n&&(s=s.set("sortOrder",n)),e&&(s=s.set("keyword",e)),this.http.get(pa,{params:s,observe:"response"}).pipe(ke(c=>{let d=c.body;var m;c.headers.get("pagination")&&(m=JSON.parse(c.headers.get("pagination")??""));let g={currentPage:m?Number(m.currentPage):0,pageSize:m?Number(m.pageSize):0,numberOfPages:m?Number(m.numberOfPages):0,totalItems:m?Number(m.totalItems):0};return ze(ye({},g),{data:d})}),Ye(c=>this.handleError("fetching users",c)),De(()=>this.setLoading(!1)))}handleError(e,t){return console.error(`Error ${e}:`,t),this.setLoading(!1),lt(void 0)}static \u0275fac=function(t){return new(t||a)(Pt(kt))};static \u0275prov=_e({token:a,factory:a.\u0275fac,providedIn:"root"})};var Gr=a=>({focused:a}),Qr=a=>({selected:a});function Jr(a,e){a&1&&(o(0,"div",43),l(1),F(2,"translate"),r()),a&2&&(f(),O(" ",W(2,1,"RequieredField")," "))}function es(a,e){a&1&&(o(0,"div",43),l(1),F(2,"translate"),r()),a&2&&(f(),O(" ",W(2,1,"RequieredField")," "))}function ts(a,e){a&1&&(o(0,"div",43),l(1),F(2,"translate"),r()),a&2&&(f(),O(" ",W(2,1,"Projects.EndDateMustBeGreater")," "))}function is(a,e){if(a&1){let t=D();o(0,"li",44)(1,"span",45),w("click",function(){let n=_(t).$implicit,s=C();return x(s.removeUser(n))}),l(2,"\xD7"),r(),o(3,"div",46)(4,"div",47)(5,"div",48),u(6,"img",49),r(),l(7),r(),o(8,"select",50),w("change",function(n){let s=_(t).$implicit,c=C();return x(c.onRoleChange(s,n.target.value))}),o(9,"option",51),l(10,"Viewer"),r(),o(11,"option",52),l(12,"Editor"),r(),o(13,"option",53),l(14,"Admin"),r()()()()}if(a&2){let t=e.$implicit;Z("title",t.name),f(6),Z("alt",t.name),S("src",t.imageUrl?t.imageUrl:t.isMale!=!1?"assets/images/profile/default-profile-img.png":"assets/images/profile/default-profile-female-img.jpg",V),f(),O("",t.name," ")}}function ns(a,e){if(a&1){let t=D();o(0,"li",58),w("click",function(){let n=_(t).$implicit,s=C(2);return x(s.selectUser(n))}),o(1,"div",46)(2,"div",47)(3,"div",48),u(4,"img",49),r(),l(5),r()()()}if(a&2){let t=e.$implicit;S("ngClass",te(4,Qr,t.isSelected)),f(4),Z("alt",t==null?null:t.name),S("src",t.imageUrl?t.imageUrl:t.isMale!=!1?"assets/images/profile/default-profile-img.png":"assets/images/profile/default-profile-female-img.jpg",V),f(),O(" ",t==null?null:t.name," ")}}function os(a,e){if(a&1&&(o(0,"div",54)(1,"div",55)(2,"ul",56),M(3,ns,6,6,"li",57),r()()()),a&2){let t=C();f(3),S("ngForOf",t.usersData)}}function as(a,e){if(a&1&&(o(0,"div",59)(1,"h5"),l(2),F(3,"translate"),r(),o(4,"div",60),u(5,"img",49),F(6,"translate"),r()()),a&2){let t=C();f(2),O("",W(3,3,"Projects.ImagePreview"),":"),f(3),Z("alt",W(6,5,"Projects.UploadedImage")),S("src",t.imagePreview,V)}}var pi=class a{constructor(e,t,i,n,s){this.activeModal=e;this.translate=t;this.toastr=i;this.projectService=n;this.userService=s}isSuccess=new $;projectForm;hasError=!1;isLoading=!1;isSubmittedItem=!1;selectedFile=null;ProjectTypes=ht;imagePreview=null;isFetchingUsers=!1;usersData=[];selectedUsers=[];subscriptions=[];ngOnInit(){this.initializeForm(),this.projectForm.get("searchQuery")?.valueChanges.subscribe(e=>{this.onSearch(e)})}onSearch(e){if(!this.isFetchingUsers)if(e){this.isFetchingUsers=!0;let t=this.userService.fetchUsers(e,1,1e4).subscribe(i=>{i&&(console.log("Users:",i),this.usersData=i.data.map(n=>this.mapUserToProjectUser(n))),this.isFetchingUsers=!1});this.subscriptions.push(t)}else this.usersData=[]}mapUserToProjectUser(e){return{id:e.id,name:e.name,email:e.email,phoneNumber:e.phoneNumber,imageUrl:e.imageUrl,isMale:e.isMale,isSelected:this.selectedUsers.some(t=>t.id===e.id),projectRole:1}}selectUser(e){this.selectedUsers.some(i=>i.id===e.id)||(e.isSelected=!0,this.selectedUsers.push(e))}removeUser(e){this.selectedUsers=this.selectedUsers.filter(t=>t.id!==e.id),e.isSelected=!1}onRoleChange(e,t){e.projectRole=t}initializeForm(){this.projectForm=new ri({title:new le("",Ii.required),type:new le("",Ii.required),brief:new le(""),location:new le(null),imageFile:new le(null),startDate:new le(null),endDate:new le(null),typeId:new le(10),isActive:new le(!0),searchQuery:new le("")},{validators:this.dateGreaterThan("startDate","endDate")})}submitProject(){if(this.isSubmittedItem=!0,this.projectForm.invalid){this.projectForm.markAllAsTouched(),this.toastr.error(this.translate.instant("Projects.EnterValidData"));return}let e=new FormData;Object.keys(this.projectForm.controls).forEach(i=>{e.append(i,this.projectForm.get(i)?.value)}),this.selectedFile&&e.append("imageFile",this.selectedFile,this.selectedFile.name);for(let i of this.selectedUsers)i.projectRole==1&&e.append("UserViewIDs",i?.id.toString()),i.projectRole==2&&e.append("UserUpdateIDs",i?.id.toString()),i.projectRole==3&&e.append("UserApproveIDs",i?.id.toString());let t=this.projectService.createProject(e).subscribe(i=>{i?(this.toastr.success(this.translate.instant("Projects.ProjectAddedSuccessfully")),this.isSuccess.emit(!0),this.closeModal()):this.showError(this.translate.instant("Projects.ProjectCreationFaild"))},i=>{console.error("Error creating project:",i),this.showError(this.translate.instant("Projects.ProjectCreationFaild"))});this.subscriptions.push(t)}showError(e){this.toastr.error(e)}closeModal(){this.activeModal.close()}onDragOver(e){e.preventDefault()}onFileChange(e){let t=e.target.files[0];if(t){this.selectedFile=t;let i=new FileReader;i.onload=n=>this.imagePreview=n.target?.result,i.readAsDataURL(t)}}onDrop(e){e.preventDefault();let t=e.dataTransfer?.files;if(t&&t.length){this.selectedFile=t[0];let i=new FileReader;i.onload=n=>this.imagePreview=n.target?.result,i.readAsDataURL(this.selectedFile)}}dateGreaterThan(e,t){return i=>{let n=i.get(e)?.value,s=i.get(t)?.value;return n&&!s||!n&&s||n&&s&&new Date(s)<=new Date(n)?{dateInvalid:!0}:null}}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}static \u0275fac=function(t){return new(t||a)(I(di),I(ge),I(me),I(pe),I(nn))};static \u0275cmp=R({type:a,selectors:[["app-project-create"]],outputs:{isSuccess:"isSuccess"},standalone:!1,decls:103,vars:76,consts:[["imageFile",""],[1,"modal-header"],[1,"d-flex","mod-head","justify-content-between"],["id","addProjectModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close","ms-2",3,"click"],[3,"ngSubmit","formGroup"],["id","typeId","formControlName","typeId","type","hidden"],["id","isActive","formControlName","isActive","type","hidden"],[1,"modal-body"],[1,"row"],[1,"col-lg-6"],[1,"form-group"],["for","title"],["id","title","type","text","formControlName","title",1,"form-control",3,"placeholder"],["class","formError",4,"ngIf"],["for","type"],["id","type","formControlName","type",1,"form-control"],["value","","disabled",""],[3,"value"],[1,"col-lg-12"],["for","brief"],["id","brief","formControlName","brief","rows","4",1,"form-control",3,"placeholder"],["for","startDate"],["id","startDate","type","date","formControlName","startDate",1,"form-control"],["for","endDate"],["id","endDate","type","date","formControlName","endDate",1,"form-control"],["for","peopleWithAccess"],[1,"select2","select2-container","select2-container--default","select2-container--open"],["role","combobox","id","select2-4-combo","tabindex","-1","aria-expanded","true",1,"selection","select2-focused"],[1,"select2-selection","select2-selection--multiple"],[1,"select2-selection__rendered",2,"padding","0.5rem!important"],["tabindex","0","class","select2-selection__choice",3,"title",4,"ngFor","ngForOf"],["type","text","id","searchQuery","formControlName","searchQuery","aria-describedby","searchHelp",1,"form-control",3,"placeholder","ngClass"],["class","select2-container select2-container--default select2-container-dropdown select2-container--open",4,"ngIf"],["for","location"],["id","location","type","text","formControlName","location",1,"form-control",3,"placeholder"],["for","imageFile"],[1,"fileset",3,"click","dragover","drop"],["src","assets/images/Upload.svg",3,"alt"],["id","imageFile","accept","image/*","formControlName","imageFile","type","file",2,"display","none",3,"change"],["class","image-preview d-flex align-items-center mt-2",4,"ngIf"],[1,"d-flex","justify-content-end"],["type","submit",1,"btn","btn-primary"],[1,"formError"],["tabindex","0",1,"select2-selection__choice",3,"title"],[1,"select2-selection__choice__remove","ng-star-inserted",2,"color","var(--select2-selection-choice-close-color, #999)","font-weight","700",3,"click"],[1,"d-flex","align-items-center","justify-content-between"],[1,"d-flex","align-items-center"],[1,"image","me-2"],[3,"src","alt"],["name","role1",1,"form-control",3,"change"],["value","1"],["value","2"],["value","3"],[1,"select2-container","select2-container--default","select2-container-dropdown","select2-container--open"],[1,"select2-dropdown","select2-dropdown--below"],["role","group",1,"select2-results__options","select2-results__options--nested",2,"height","auto","max-height","200px"],["role","option","class","select2-results__option","style","height: 40px; margin: 1px;",3,"ngClass","click",4,"ngFor","ngForOf"],["role","option",1,"select2-results__option",2,"height","40px","margin","1px",3,"click","ngClass"],[1,"image-preview","d-flex","align-items-center","mt-2"],[1,"proj-img-holder","ms-3"]],template:function(t,i){if(t&1){let n=D();o(0,"div",1)(1,"div",2)(2,"h5",3),l(3),F(4,"translate"),r(),o(5,"div")(6,"button",4),w("click",function(){return _(n),x(i.closeModal())}),r()()()(),o(7,"form",5),w("ngSubmit",function(){return _(n),x(i.submitProject())}),u(8,"input",6)(9,"input",7),o(10,"div",8)(11,"div",9)(12,"div",10)(13,"div",11)(14,"label",12),l(15),F(16,"translate"),o(17,"em"),l(18,"*"),r()(),u(19,"input",13),F(20,"translate"),M(21,Jr,3,3,"div",14),r()(),o(22,"div",10)(23,"div",11)(24,"label",15),l(25),F(26,"translate"),o(27,"em"),l(28,"*"),r()(),o(29,"select",16)(30,"option",17),l(31),F(32,"translate"),r(),o(33,"option",18),l(34),F(35,"translate"),r(),o(36,"option",18),l(37),F(38,"translate"),r()(),M(39,es,3,3,"div",14),r()(),o(40,"div",19)(41,"div",11)(42,"label",20),l(43),F(44,"translate"),r(),u(45,"textarea",21),F(46,"translate"),r()(),o(47,"div",10)(48,"div",11)(49,"label",22),l(50),F(51,"translate"),r(),u(52,"input",23),r()(),o(53,"div",10)(54,"div",11)(55,"label",24),l(56),F(57,"translate"),r(),u(58,"input",25),M(59,ts,3,3,"div",14),r()(),o(60,"div",10)(61,"div",11)(62,"label",26),l(63),F(64,"translate"),r(),o(65,"div",27)(66,"div",28)(67,"div",29)(68,"ul",30),M(69,is,15,4,"li",31),o(70,"li"),u(71,"input",32),F(72,"translate"),r()()()()(),M(73,os,4,1,"div",33),r()(),o(74,"div",10)(75,"div",11)(76,"label",34),l(77),F(78,"translate"),r(),u(79,"input",35),F(80,"translate"),r()(),o(81,"div",19)(82,"div",11)(83,"label",36),l(84),F(85,"translate"),r(),o(86,"div",37),w("click",function(){_(n);let c=H(96);return x(c.click())})("dragover",function(c){return _(n),x(i.onDragOver(c))})("drop",function(c){return _(n),x(i.onDrop(c))}),u(87,"img",38),F(88,"translate"),o(89,"h4"),l(90),F(91,"translate"),r(),o(92,"p"),l(93),F(94,"translate"),r(),o(95,"input",39,0),w("change",function(c){return _(n),x(i.onFileChange(c))}),r()()()(),o(97,"div",19),M(98,as,7,7,"div",40),r()(),o(99,"div",41)(100,"button",42),l(101),F(102,"translate"),r()()()()}if(t&2){let n,s,c,d;f(3),N(W(4,34,"Projects.CreateProject")),f(4),S("formGroup",i.projectForm),f(8),O("",W(16,36,"Projects.ProjectName")," "),f(4),Tt("placeholder","",W(20,38,"Projects.WriteProjectNameHere"),"..."),f(2),S("ngIf",((n=i.projectForm.get("title"))==null?null:n.invalid)&&(i.isSubmittedItem||((n=i.projectForm.get("title"))==null?null:n.touched)||((n=i.projectForm.get("title"))==null?null:n.dirty))),f(4),N(W(26,40,"Projects.ProjectType")),f(6),N(W(32,42,"Projects.SelectProjectType")),f(2),S("value",i.ProjectTypes.Event),f(),N(W(35,44,"Projects.Event")),f(2),S("value",i.ProjectTypes.Conference),f(),N(W(38,46,"Projects.Conference")),f(2),S("ngIf",((s=i.projectForm.get("type"))==null?null:s.invalid)&&(i.isSubmittedItem||((s=i.projectForm.get("type"))==null?null:s.touched)||((s=i.projectForm.get("type"))==null?null:s.dirty))),f(4),N(W(44,48,"Projects.Description")),f(2),Tt("placeholder","",W(46,50,"Projects.WriteDescriptionHere"),"..."),f(5),N(W(51,52,"Projects.StartDate")),f(6),N(W(57,54,"Projects.EndDate")),f(3),S("ngIf",(i.projectForm.errors==null?null:i.projectForm.errors.dateInvalid)&&(i.isSubmittedItem||((c=i.projectForm.get("startDate"))==null?null:c.touched)||((c=i.projectForm.get("endDate"))==null?null:c.touched))),f(4),N(W(64,56,"Projects.PeopleWithAccess")),f(6),S("ngForOf",i.selectedUsers),f(2),Tt("placeholder","",W(72,58,"Projects.EnterNameOrEmail"),"..."),S("ngClass",te(74,Gr,((d=i.projectForm.get("searchQuery"))==null?null:d.value.length)>0)),f(2),S("ngIf",i.usersData.length>0),f(4),N(W(78,60,"Projects.Location")),f(2),Tt("placeholder","",W(80,62,"Projects.WriteLocationHere"),"..."),f(5),O(" ",W(85,64,"Projects.AddPropjectPhoto"),""),f(3),Z("alt",W(88,66,"Upload")),f(3),N(W(91,68,"Projects.DropImageHereOrBrowse")),f(3),N(W(94,70,"Projects.PhotoInfo")),f(5),S("ngIf",i.imagePreview),f(3),O(" ",W(102,72,"Save")," ")}},dependencies:[pt,ee,X,Le,fe,he,Ge,ba,Qe,Ne,li,ci,ai],styles:[".focused[_ngcontent-%COMP%]{background:#f9f9f9;border:1px solid #e0e1e2;color:#333;outline:0;box-shadow:0 0 15.5px #0000000d}.selected[_ngcontent-%COMP%]{background:var(--select2-option-selected-background, #ddd);color:var(--select2-option-selected-text-color, #000)}.select2-results__option[_ngcontent-%COMP%]:not(.selected):hover{background:var(--select2-option-hover-background, #f0f0f0);color:var(--select2-option-hover-text-color, #000);cursor:pointer}"]})};var j=(a,e=1e4)=>(a=parseFloat(a+"")||0,Math.round((a+Number.EPSILON)*e)/e),yo=function(a){if(!(a&&a instanceof Element&&a.offsetParent))return!1;let e=a.scrollHeight>a.clientHeight,t=window.getComputedStyle(a).overflowY,i=t.indexOf("hidden")!==-1,n=t.indexOf("visible")!==-1;return e&&!i&&!n},hn=function(a,e=void 0){return!(!a||a===document.body||e&&a===e)&&(yo(a)?a:hn(a.parentElement,e))},at=function(a){var e=new DOMParser().parseFromString(a,"text/html").body;if(e.childElementCount>1){for(var t=document.createElement("div");e.firstChild;)t.appendChild(e.firstChild);return t}return e.firstChild},Co=a=>`${a||""}`.split(" ").filter(e=>!!e),rt=(a,e,t)=>{a&&Co(e).forEach(i=>{a.classList.toggle(i,t||!1)})},Rt=class{constructor(e){Object.defineProperty(this,"pageX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"pageY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"clientX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"clientY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"time",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"nativePointer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.nativePointer=e,this.pageX=e.pageX,this.pageY=e.pageY,this.clientX=e.clientX,this.clientY=e.clientY,this.id=self.Touch&&e instanceof Touch?e.identifier:-1,this.time=Date.now()}},ui={passive:!1},_o=class{constructor(e,{start:t=()=>!0,move:i=()=>{},end:n=()=>{}}){Object.defineProperty(this,"element",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"startCallback",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"moveCallback",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"endCallback",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"currentPointers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"startPointers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),this.element=e,this.startCallback=t,this.moveCallback=i,this.endCallback=n;for(let s of["onPointerStart","onTouchStart","onMove","onTouchEnd","onPointerEnd","onWindowBlur"])this[s]=this[s].bind(this);this.element.addEventListener("mousedown",this.onPointerStart,ui),this.element.addEventListener("touchstart",this.onTouchStart,ui),this.element.addEventListener("touchmove",this.onMove,ui),this.element.addEventListener("touchend",this.onTouchEnd),this.element.addEventListener("touchcancel",this.onTouchEnd)}onPointerStart(e){if(!e.buttons||e.button!==0)return;let t=new Rt(e);this.currentPointers.some(i=>i.id===t.id)||this.triggerPointerStart(t,e)&&(window.addEventListener("mousemove",this.onMove),window.addEventListener("mouseup",this.onPointerEnd),window.addEventListener("blur",this.onWindowBlur))}onTouchStart(e){for(let t of Array.from(e.changedTouches||[]))this.triggerPointerStart(new Rt(t),e);window.addEventListener("blur",this.onWindowBlur)}onMove(e){let t=this.currentPointers.slice(),i="changedTouches"in e?Array.from(e.changedTouches||[]).map(s=>new Rt(s)):[new Rt(e)],n=[];for(let s of i){let c=this.currentPointers.findIndex(d=>d.id===s.id);c<0||(n.push(s),this.currentPointers[c]=s)}n.length&&this.moveCallback(e,this.currentPointers.slice(),t)}onPointerEnd(e){e.buttons>0&&e.button!==0||(this.triggerPointerEnd(e,new Rt(e)),window.removeEventListener("mousemove",this.onMove),window.removeEventListener("mouseup",this.onPointerEnd),window.removeEventListener("blur",this.onWindowBlur))}onTouchEnd(e){for(let t of Array.from(e.changedTouches||[]))this.triggerPointerEnd(e,new Rt(t))}triggerPointerStart(e,t){return!!this.startCallback(t,e,this.currentPointers.slice())&&(this.currentPointers.push(e),this.startPointers.push(e),!0)}triggerPointerEnd(e,t){let i=this.currentPointers.findIndex(n=>n.id===t.id);i<0||(this.currentPointers.splice(i,1),this.startPointers.splice(i,1),this.endCallback(e,t,this.currentPointers.slice()))}onWindowBlur(){this.clear()}clear(){for(;this.currentPointers.length;){let e=this.currentPointers[this.currentPointers.length-1];this.currentPointers.splice(this.currentPointers.length-1,1),this.startPointers.splice(this.currentPointers.length-1,1),this.endCallback(new Event("touchend",{bubbles:!0,cancelable:!0,clientX:e.clientX,clientY:e.clientY}),e,this.currentPointers.slice())}}stop(){this.element.removeEventListener("mousedown",this.onPointerStart,ui),this.element.removeEventListener("touchstart",this.onTouchStart,ui),this.element.removeEventListener("touchmove",this.onMove,ui),this.element.removeEventListener("touchend",this.onTouchEnd),this.element.removeEventListener("touchcancel",this.onTouchEnd),window.removeEventListener("mousemove",this.onMove),window.removeEventListener("mouseup",this.onPointerEnd),window.removeEventListener("blur",this.onWindowBlur)}};function Ea(a,e){return e?Math.sqrt(Math.pow(e.clientX-a.clientX,2)+Math.pow(e.clientY-a.clientY,2)):0}function Pa(a,e){return e?{clientX:(a.clientX+e.clientX)/2,clientY:(a.clientY+e.clientY)/2}:a}var xo=a=>typeof a=="object"&&a!==null&&a.constructor===Object&&Object.prototype.toString.call(a)==="[object Object]",Oe=(a,...e)=>{let t=e.length;for(let i=0;i<t;i++){let n=e[i]||{};Object.entries(n).forEach(([s,c])=>{let d=Array.isArray(c)?[]:{};a[s]||Object.assign(a,{[s]:d}),xo(c)?Object.assign(a[s],Oe(d,c)):Array.isArray(c)?Object.assign(a,{[s]:[...c]}):Object.assign(a,{[s]:c})})}return a},no=function(a,e){return a.split(".").reduce((t,i)=>typeof t=="object"?t[i]:void 0,e)},Si=class{constructor(e={}){Object.defineProperty(this,"options",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),this.setOptions(e);for(let t of Object.getOwnPropertyNames(Object.getPrototypeOf(this)))t.startsWith("on")&&typeof this[t]=="function"&&(this[t]=this[t].bind(this))}setOptions(e){this.options=e?Oe({},this.constructor.defaults,e):{};for(let[t,i]of Object.entries(this.option("on")||{}))this.on(t,i)}option(e,...t){let i=no(e,this.options);return i&&typeof i=="function"&&(i=i.call(this,this,...t)),i}optionFor(e,t,i,...n){let s=no(t,e);var c;typeof(c=s)!="string"||isNaN(c)||isNaN(parseFloat(c))||(s=parseFloat(s)),s==="true"&&(s=!0),s==="false"&&(s=!1),s&&typeof s=="function"&&(s=s.call(this,this,e,...n));let d=no(t,this.options);return d&&typeof d=="function"?s=d.call(this,this,e,...n,s):s===void 0&&(s=d),s===void 0?i:s}cn(e){let t=this.options.classes;return t&&t[e]||""}localize(e,t=[]){e=String(e).replace(/\{\{(\w+).?(\w+)?\}\}/g,(i,n,s)=>{let c="";return s?c=this.option(`${n[0]+n.toLowerCase().substring(1)}.l10n.${s}`):n&&(c=this.option(`l10n.${n}`)),c||(c=i),c});for(let i=0;i<t.length;i++)e=e.split(t[i][0]).join(t[i][1]);return e=e.replace(/\{\{(.*?)\}\}/g,(i,n)=>n)}on(e,t){let i=[];typeof e=="string"?i=e.split(" "):Array.isArray(e)&&(i=e),this.events||(this.events=new Map),i.forEach(n=>{let s=this.events.get(n);s||(this.events.set(n,[]),s=[]),s.includes(t)||s.push(t),this.events.set(n,s)})}off(e,t){let i=[];typeof e=="string"?i=e.split(" "):Array.isArray(e)&&(i=e),i.forEach(n=>{let s=this.events.get(n);if(Array.isArray(s)){let c=s.indexOf(t);c>-1&&s.splice(c,1)}})}emit(e,...t){[...this.events.get(e)||[]].forEach(i=>i(this,...t)),e!=="*"&&this.emit("*",e,...t)}};Object.defineProperty(Si,"version",{enumerable:!0,configurable:!0,writable:!0,value:"5.0.36"}),Object.defineProperty(Si,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{}});var ki=class extends Si{constructor(e={}){super(e),Object.defineProperty(this,"plugins",{enumerable:!0,configurable:!0,writable:!0,value:{}})}attachPlugins(e={}){let t=new Map;for(let[i,n]of Object.entries(e)){let s=this.option(i),c=this.plugins[i];c||s===!1?c&&s===!1&&(c.detach(),delete this.plugins[i]):t.set(i,new n(this,s||{}))}for(let[i,n]of t)this.plugins[i]=n,n.attach()}detachPlugins(e){e=e||Object.keys(this.plugins);for(let t of e){let i=this.plugins[t];i&&i.detach(),delete this.plugins[t]}return this.emit("detachPlugins"),this}},oe;(function(a){a[a.Init=0]="Init",a[a.Error=1]="Error",a[a.Ready=2]="Ready",a[a.Panning=3]="Panning",a[a.Mousemove=4]="Mousemove",a[a.Destroy=5]="Destroy"})(oe||(oe={}));var vt=["a","b","c","d","e","f"],er={PANUP:"Move up",PANDOWN:"Move down",PANLEFT:"Move left",PANRIGHT:"Move right",ZOOMIN:"Zoom in",ZOOMOUT:"Zoom out",TOGGLEZOOM:"Toggle zoom level",TOGGLE1TO1:"Toggle zoom level",ITERATEZOOM:"Toggle zoom level",ROTATECCW:"Rotate counterclockwise",ROTATECW:"Rotate clockwise",FLIPX:"Flip horizontally",FLIPY:"Flip vertically",FITX:"Fit horizontally",FITY:"Fit vertically",RESET:"Reset",TOGGLEFS:"Toggle fullscreen"},rs={content:null,width:"auto",height:"auto",panMode:"drag",touch:!0,dragMinThreshold:3,lockAxis:!1,mouseMoveFactor:1,mouseMoveFriction:.12,zoom:!0,pinchToZoom:!0,panOnlyZoomed:"auto",minScale:1,maxScale:2,friction:.25,dragFriction:.35,decelFriction:.05,click:"toggleZoom",dblClick:!1,wheel:"zoom",wheelLimit:7,spinner:!0,bounds:"auto",infinite:!1,rubberband:!0,bounce:!0,maxVelocity:75,transformParent:!1,classes:{content:"f-panzoom__content",isLoading:"is-loading",canZoomIn:"can-zoom_in",canZoomOut:"can-zoom_out",isDraggable:"is-draggable",isDragging:"is-dragging",inFullscreen:"in-fullscreen",htmlHasFullscreen:"with-panzoom-in-fullscreen"},l10n:er},Ia='<circle cx="25" cy="25" r="20"></circle>',Eo='<div class="f-spinner"><svg viewBox="0 0 50 50">'+Ia+Ia+"</svg></div>",je=a=>a&&a!==null&&a instanceof Element&&"nodeType"in a,ne=(a,e)=>{a&&Co(e).forEach(t=>{a.classList.remove(t)})},z=(a,e)=>{a&&Co(e).forEach(t=>{a.classList.add(t)})},on={a:1,b:0,c:0,d:1,e:0,f:0},ss=1e5,an=1e4,Be="mousemove",Ma="drag",Ta="content",He="auto",oo=null,ao=null,ei=class a extends ki{get fits(){return this.contentRect.width-this.contentRect.fitWidth<1&&this.contentRect.height-this.contentRect.fitHeight<1}get isTouchDevice(){return ao===null&&(ao=window.matchMedia("(hover: none)").matches),ao}get isMobile(){return oo===null&&(oo=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)),oo}get panMode(){return this.options.panMode!==Be||this.isTouchDevice?Ma:Be}get panOnlyZoomed(){let e=this.options.panOnlyZoomed;return e===He?this.isTouchDevice:e}get isInfinite(){return this.option("infinite")}get angle(){return 180*Math.atan2(this.current.b,this.current.a)/Math.PI||0}get targetAngle(){return 180*Math.atan2(this.target.b,this.target.a)/Math.PI||0}get scale(){let{a:e,b:t}=this.current;return Math.sqrt(e*e+t*t)||1}get targetScale(){let{a:e,b:t}=this.target;return Math.sqrt(e*e+t*t)||1}get minScale(){return this.option("minScale")||1}get fullScale(){let{contentRect:e}=this;return e.fullWidth/e.fitWidth||1}get maxScale(){return this.fullScale*(this.option("maxScale")||1)||1}get coverScale(){let{containerRect:e,contentRect:t}=this,i=Math.max(e.height/t.fitHeight,e.width/t.fitWidth)||1;return Math.min(this.fullScale,i)}get isScaling(){return Math.abs(this.targetScale-this.scale)>1e-5&&!this.isResting}get isContentLoading(){let e=this.content;return!!(e&&e instanceof HTMLImageElement)&&!e.complete}get isResting(){if(this.isBouncingX||this.isBouncingY)return!1;for(let e of vt){let t=e=="e"||e==="f"?1e-4:1e-5;if(Math.abs(this.target[e]-this.current[e])>t)return!1}return!(!this.ignoreBounds&&!this.checkBounds().inBounds)}constructor(e,t={},i={}){var n;if(super(t),Object.defineProperty(this,"pointerTracker",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"resizeObserver",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"updateTimer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"clickTimer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"rAF",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"isTicking",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ignoreBounds",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"isBouncingX",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"isBouncingY",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"clicks",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"trackingPoints",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"pwt",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"cwd",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"pmme",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"friction",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:oe.Init}),Object.defineProperty(this,"isDragging",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"content",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"spinner",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"containerRect",{enumerable:!0,configurable:!0,writable:!0,value:{width:0,height:0,innerWidth:0,innerHeight:0}}),Object.defineProperty(this,"contentRect",{enumerable:!0,configurable:!0,writable:!0,value:{top:0,right:0,bottom:0,left:0,fullWidth:0,fullHeight:0,fitWidth:0,fitHeight:0,width:0,height:0}}),Object.defineProperty(this,"dragStart",{enumerable:!0,configurable:!0,writable:!0,value:{x:0,y:0,top:0,left:0,time:0}}),Object.defineProperty(this,"dragOffset",{enumerable:!0,configurable:!0,writable:!0,value:{x:0,y:0,time:0}}),Object.defineProperty(this,"current",{enumerable:!0,configurable:!0,writable:!0,value:Object.assign({},on)}),Object.defineProperty(this,"target",{enumerable:!0,configurable:!0,writable:!0,value:Object.assign({},on)}),Object.defineProperty(this,"velocity",{enumerable:!0,configurable:!0,writable:!0,value:{a:0,b:0,c:0,d:0,e:0,f:0}}),Object.defineProperty(this,"lockedAxis",{enumerable:!0,configurable:!0,writable:!0,value:!1}),!e)throw new Error("Container Element Not Found");this.container=e,this.initContent(),this.attachPlugins(Object.assign(Object.assign({},a.Plugins),i)),this.emit("attachPlugins"),this.emit("init");let s=this.content;if(s.addEventListener("load",this.onLoad),s.addEventListener("error",this.onError),this.isContentLoading){if(this.option("spinner")){e.classList.add(this.cn("isLoading"));let c=at(Eo);!e.contains(s)||s.parentElement instanceof HTMLPictureElement?this.spinner=e.appendChild(c):this.spinner=((n=s.parentElement)===null||n===void 0?void 0:n.insertBefore(c,s))||null}this.emit("beforeLoad")}else queueMicrotask(()=>{this.enable()})}initContent(){let{container:e}=this,t=this.cn(Ta),i=this.option(Ta)||e.querySelector(`.${t}`);if(i||(i=e.querySelector("img,picture")||e.firstElementChild,i&&z(i,t)),i instanceof HTMLPictureElement&&(i=i.querySelector("img")),!i)throw new Error("No content found");this.content=i}onLoad(){let{spinner:e,container:t,state:i}=this;e&&(e.remove(),this.spinner=null),this.option("spinner")&&t.classList.remove(this.cn("isLoading")),this.emit("afterLoad"),i===oe.Init?this.enable():this.updateMetrics()}onError(){this.state!==oe.Destroy&&(this.spinner&&(this.spinner.remove(),this.spinner=null),this.stop(),this.detachEvents(),this.state=oe.Error,this.emit("error"))}getNextScale(e){let{fullScale:t,targetScale:i,coverScale:n,maxScale:s,minScale:c}=this,d=c;switch(e){case"toggleMax":d=i-c<.5*(s-c)?s:c;break;case"toggleCover":d=i-c<.5*(n-c)?n:c;break;case"toggleZoom":d=i-c<.5*(t-c)?t:c;break;case"iterateZoom":let m=[1,t,s].sort((p,h)=>p-h),g=m.findIndex(p=>p>i+1e-5);d=m[g]||1}return d}attachObserver(){var e;let t=()=>{let{container:i,containerRect:n}=this;return Math.abs(n.width-i.getBoundingClientRect().width)>.1||Math.abs(n.height-i.getBoundingClientRect().height)>.1};this.resizeObserver||window.ResizeObserver===void 0||(this.resizeObserver=new ResizeObserver(()=>{this.updateTimer||(t()?(this.onResize(),this.isMobile&&(this.updateTimer=setTimeout(()=>{t()&&this.onResize(),this.updateTimer=null},500))):this.updateTimer&&(clearTimeout(this.updateTimer),this.updateTimer=null))})),(e=this.resizeObserver)===null||e===void 0||e.observe(this.container)}detachObserver(){var e;(e=this.resizeObserver)===null||e===void 0||e.disconnect()}attachEvents(){let{container:e}=this;e.addEventListener("click",this.onClick,{passive:!1,capture:!1}),e.addEventListener("wheel",this.onWheel,{passive:!1}),this.pointerTracker=new _o(e,{start:this.onPointerDown,move:this.onPointerMove,end:this.onPointerUp}),document.addEventListener(Be,this.onMouseMove)}detachEvents(){var e;let{container:t}=this;t.removeEventListener("click",this.onClick,{passive:!1,capture:!1}),t.removeEventListener("wheel",this.onWheel,{passive:!1}),(e=this.pointerTracker)===null||e===void 0||e.stop(),this.pointerTracker=null,document.removeEventListener(Be,this.onMouseMove),document.removeEventListener("keydown",this.onKeydown,!0),this.clickTimer&&(clearTimeout(this.clickTimer),this.clickTimer=null),this.updateTimer&&(clearTimeout(this.updateTimer),this.updateTimer=null)}animate(){this.setTargetForce();let e=this.friction,t=this.option("maxVelocity");for(let i of vt)e?(this.velocity[i]*=1-e,t&&!this.isScaling&&(this.velocity[i]=Math.max(Math.min(this.velocity[i],t),-1*t)),this.current[i]+=this.velocity[i]):this.current[i]=this.target[i];this.setTransform(),this.setEdgeForce(),!this.isResting||this.isDragging?this.rAF=requestAnimationFrame(()=>this.animate()):this.stop("current")}setTargetForce(){for(let e of vt)e==="e"&&this.isBouncingX||e==="f"&&this.isBouncingY||(this.velocity[e]=(1/(1-this.friction)-1)*(this.target[e]-this.current[e]))}checkBounds(e=0,t=0){let{current:i}=this,n=i.e+e,s=i.f+t,c=this.getBounds(),{x:d,y:m}=c,g=d.min,p=d.max,h=m.min,b=m.max,v=0,y=0;return g!==1/0&&n<g?v=g-n:p!==1/0&&n>p&&(v=p-n),h!==1/0&&s<h?y=h-s:b!==1/0&&s>b&&(y=b-s),Math.abs(v)<1e-4&&(v=0),Math.abs(y)<1e-4&&(y=0),Object.assign(Object.assign({},c),{xDiff:v,yDiff:y,inBounds:!v&&!y})}clampTargetBounds(){let{target:e}=this,{x:t,y:i}=this.getBounds();t.min!==1/0&&(e.e=Math.max(e.e,t.min)),t.max!==1/0&&(e.e=Math.min(e.e,t.max)),i.min!==1/0&&(e.f=Math.max(e.f,i.min)),i.max!==1/0&&(e.f=Math.min(e.f,i.max))}calculateContentDim(e=this.current){let{content:t,contentRect:i}=this,{fitWidth:n,fitHeight:s,fullWidth:c,fullHeight:d}=i,m=c,g=d;if(this.option("zoom")||this.angle!==0){let p=!(t instanceof HTMLImageElement)&&(window.getComputedStyle(t).maxWidth==="none"||window.getComputedStyle(t).maxHeight==="none"),h=p?c:n,b=p?d:s,v=this.getMatrix(e),y=new DOMPoint(0,0).matrixTransform(v),P=new DOMPoint(0+h,0).matrixTransform(v),E=new DOMPoint(0+h,0+b).matrixTransform(v),T=new DOMPoint(0,0+b).matrixTransform(v),k=Math.abs(E.x-y.x),L=Math.abs(E.y-y.y),q=Math.abs(T.x-P.x),We=Math.abs(T.y-P.y);m=Math.max(k,q),g=Math.max(L,We)}return{contentWidth:m,contentHeight:g}}setEdgeForce(){if(this.ignoreBounds||this.isDragging||this.panMode===Be||this.targetScale<this.scale)return this.isBouncingX=!1,void(this.isBouncingY=!1);let{target:e}=this,{x:t,y:i,xDiff:n,yDiff:s}=this.checkBounds(),c=this.option("maxVelocity"),d=this.velocity.e,m=this.velocity.f;n!==0?(this.isBouncingX=!0,n*d<=0?d+=.14*n:(d=.14*n,t.min!==1/0&&(this.target.e=Math.max(e.e,t.min)),t.max!==1/0&&(this.target.e=Math.min(e.e,t.max))),c&&(d=Math.max(Math.min(d,c),-1*c))):this.isBouncingX=!1,s!==0?(this.isBouncingY=!0,s*m<=0?m+=.14*s:(m=.14*s,i.min!==1/0&&(this.target.f=Math.max(e.f,i.min)),i.max!==1/0&&(this.target.f=Math.min(e.f,i.max))),c&&(m=Math.max(Math.min(m,c),-1*c))):this.isBouncingY=!1,this.isBouncingX&&(this.velocity.e=d),this.isBouncingY&&(this.velocity.f=m)}enable(){let{content:e}=this,t=new DOMMatrixReadOnly(window.getComputedStyle(e).transform);for(let i of vt)this.current[i]=this.target[i]=t[i];this.updateMetrics(),this.attachObserver(),this.attachEvents(),this.state=oe.Ready,this.emit("ready")}onClick(e){var t;e.type==="click"&&e.detail===0&&(this.dragOffset.x=0,this.dragOffset.y=0),this.isDragging&&((t=this.pointerTracker)===null||t===void 0||t.clear(),this.trackingPoints=[],this.startDecelAnim());let i=e.target;if(!i||e.defaultPrevented)return;if(i.hasAttribute("disabled"))return e.preventDefault(),void e.stopPropagation();if((()=>{let v=window.getSelection();return v&&v.type==="Range"})()&&!i.closest("button"))return;let n=i.closest("[data-panzoom-action]"),s=i.closest("[data-panzoom-change]"),c=n||s,d=c&&je(c)?c.dataset:null;if(d){let v=d.panzoomChange,y=d.panzoomAction;if((v||y)&&e.preventDefault(),v){let P={};try{P=JSON.parse(v)}catch{console&&console.warn("The given data was not valid JSON")}return void this.applyChange(P)}if(y)return void(this[y]&&this[y]())}if(Math.abs(this.dragOffset.x)>3||Math.abs(this.dragOffset.y)>3)return e.preventDefault(),void e.stopPropagation();if(i.closest("[data-fancybox]"))return;let m=this.content.getBoundingClientRect(),g=this.dragStart;if(g.time&&!this.canZoomOut()&&(Math.abs(m.x-g.x)>2||Math.abs(m.y-g.y)>2))return;this.dragStart.time=0;let p=v=>{this.option("zoom",e)&&v&&typeof v=="string"&&/(iterateZoom)|(toggle(Zoom|Full|Cover|Max)|(zoomTo(Fit|Cover|Max)))/.test(v)&&typeof this[v]=="function"&&(e.preventDefault(),this[v]({event:e}))},h=this.option("click",e),b=this.option("dblClick",e);b?(this.clicks++,this.clicks==1&&(this.clickTimer=setTimeout(()=>{this.clicks===1?(this.emit("click",e),!e.defaultPrevented&&h&&p(h)):(this.emit("dblClick",e),e.defaultPrevented||p(b)),this.clicks=0,this.clickTimer=null},350))):(this.emit("click",e),!e.defaultPrevented&&h&&p(h))}addTrackingPoint(e){let t=this.trackingPoints.filter(i=>i.time>Date.now()-100);t.push(e),this.trackingPoints=t}onPointerDown(e,t,i){var n;if(this.option("touch",e)===!1)return!1;this.pwt=0,this.dragOffset={x:0,y:0,time:0},this.trackingPoints=[];let s=this.content.getBoundingClientRect();if(this.dragStart={x:s.x,y:s.y,top:s.top,left:s.left,time:Date.now()},this.clickTimer)return!1;if(this.panMode===Be&&this.targetScale>1)return e.preventDefault(),e.stopPropagation(),!1;let c=e.composedPath()[0];if(!i.length){if(["TEXTAREA","OPTION","INPUT","SELECT","VIDEO","IFRAME"].includes(c.nodeName)||c.closest("[contenteditable],[data-selectable],[data-draggable],[data-clickable],[data-panzoom-change],[data-panzoom-action]"))return!1;(n=window.getSelection())===null||n===void 0||n.removeAllRanges()}if(e.type==="mousedown")["A","BUTTON"].includes(c.nodeName)||e.preventDefault();else if(Math.abs(this.velocity.a)>.3)return!1;return this.target.e=this.current.e,this.target.f=this.current.f,this.stop(),this.isDragging||(this.isDragging=!0,this.addTrackingPoint(t),this.emit("touchStart",e)),!0}onPointerMove(e,t,i){if(this.option("touch",e)===!1||!this.isDragging||t.length<2&&this.panOnlyZoomed&&j(this.targetScale)<=j(this.minScale)||(this.emit("touchMove",e),e.defaultPrevented))return;this.addTrackingPoint(t[0]);let{content:n}=this,s=Pa(i[0],i[1]),c=Pa(t[0],t[1]),d=0,m=0;if(t.length>1){let L=n.getBoundingClientRect();d=s.clientX-L.left-.5*L.width,m=s.clientY-L.top-.5*L.height}let g=Ea(i[0],i[1]),p=Ea(t[0],t[1]),h=g?p/g:1,b=c.clientX-s.clientX,v=c.clientY-s.clientY;this.dragOffset.x+=b,this.dragOffset.y+=v,this.dragOffset.time=Date.now()-this.dragStart.time;let y=j(this.targetScale)===j(this.minScale)&&this.option("lockAxis");if(y&&!this.lockedAxis)if(y==="xy"||y==="y"||e.type==="touchmove"){if(Math.abs(this.dragOffset.x)<6&&Math.abs(this.dragOffset.y)<6)return void e.preventDefault();let L=Math.abs(180*Math.atan2(this.dragOffset.y,this.dragOffset.x)/Math.PI);this.lockedAxis=L>45&&L<135?"y":"x",this.dragOffset.x=0,this.dragOffset.y=0,b=0,v=0}else this.lockedAxis=y;if(hn(e.target,this.content)&&(y="x",this.dragOffset.y=0),y&&y!=="xy"&&this.lockedAxis!==y&&j(this.targetScale)===j(this.minScale))return;e.cancelable&&e.preventDefault(),this.container.classList.add(this.cn("isDragging"));let P=this.checkBounds(b,v);this.option("rubberband")?(this.isInfinite!=="x"&&(P.xDiff>0&&b<0||P.xDiff<0&&b>0)&&(b*=Math.max(0,.5-Math.abs(.75/this.contentRect.fitWidth*P.xDiff))),this.isInfinite!=="y"&&(P.yDiff>0&&v<0||P.yDiff<0&&v>0)&&(v*=Math.max(0,.5-Math.abs(.75/this.contentRect.fitHeight*P.yDiff)))):(P.xDiff&&(b=0),P.yDiff&&(v=0));let E=this.targetScale,T=this.minScale,k=this.maxScale;E<.5*T&&(h=Math.max(h,T)),E>1.5*k&&(h=Math.min(h,k)),this.lockedAxis==="y"&&j(E)===j(T)&&(b=0),this.lockedAxis==="x"&&j(E)===j(T)&&(v=0),this.applyChange({originX:d,originY:m,panX:b,panY:v,scale:h,friction:this.option("dragFriction"),ignoreBounds:!0})}onPointerUp(e,t,i){if(i.length)return this.dragOffset.x=0,this.dragOffset.y=0,void(this.trackingPoints=[]);this.container.classList.remove(this.cn("isDragging")),this.isDragging&&(this.addTrackingPoint(t),this.panOnlyZoomed&&this.contentRect.width-this.contentRect.fitWidth<1&&this.contentRect.height-this.contentRect.fitHeight<1&&(this.trackingPoints=[]),hn(e.target,this.content)&&this.lockedAxis==="y"&&(this.trackingPoints=[]),this.emit("touchEnd",e),this.isDragging=!1,this.lockedAxis=!1,this.state!==oe.Destroy&&(e.defaultPrevented||this.startDecelAnim()))}startDecelAnim(){var e;let t=this.isScaling;this.rAF&&(cancelAnimationFrame(this.rAF),this.rAF=null),this.isBouncingX=!1,this.isBouncingY=!1;for(let L of vt)this.velocity[L]=0;this.target.e=this.current.e,this.target.f=this.current.f,ne(this.container,"is-scaling"),ne(this.container,"is-animating"),this.isTicking=!1;let{trackingPoints:i}=this,n=i[0],s=i[i.length-1],c=0,d=0,m=0;s&&n&&(c=s.clientX-n.clientX,d=s.clientY-n.clientY,m=s.time-n.time);let g=((e=window.visualViewport)===null||e===void 0?void 0:e.scale)||1;g!==1&&(c*=g,d*=g);let p=0,h=0,b=0,v=0,y=this.option("decelFriction"),P=this.targetScale;if(m>0){b=Math.abs(c)>3?c/(m/30):0,v=Math.abs(d)>3?d/(m/30):0;let L=this.option("maxVelocity");L&&(b=Math.max(Math.min(b,L),-1*L),v=Math.max(Math.min(v,L),-1*L))}b&&(p=b/(1/(1-y)-1)),v&&(h=v/(1/(1-y)-1)),(this.option("lockAxis")==="y"||this.option("lockAxis")==="xy"&&this.lockedAxis==="y"&&j(P)===this.minScale)&&(p=b=0),(this.option("lockAxis")==="x"||this.option("lockAxis")==="xy"&&this.lockedAxis==="x"&&j(P)===this.minScale)&&(h=v=0);let E=this.dragOffset.x,T=this.dragOffset.y,k=this.option("dragMinThreshold")||0;Math.abs(E)<k&&Math.abs(T)<k&&(p=h=0,b=v=0),(this.option("zoom")&&(P<this.minScale-1e-5||P>this.maxScale+1e-5)||t&&!p&&!h)&&(y=.35),this.applyChange({panX:p,panY:h,friction:y}),this.emit("decel",b,v,E,T)}onWheel(e){var t=[-e.deltaX||0,-e.deltaY||0,-e.detail||0].reduce(function(s,c){return Math.abs(c)>Math.abs(s)?c:s});let i=Math.max(-1,Math.min(1,t));if(this.emit("wheel",e,i),this.panMode===Be||e.defaultPrevented)return;let n=this.option("wheel");n==="pan"?(e.preventDefault(),this.panOnlyZoomed&&!this.canZoomOut()||this.applyChange({panX:2*-e.deltaX,panY:2*-e.deltaY,bounce:!1})):n==="zoom"&&this.option("zoom")!==!1&&this.zoomWithWheel(e)}onMouseMove(e){this.panWithMouse(e)}onKeydown(e){e.key==="Escape"&&this.toggleFS()}onResize(){this.updateMetrics(),this.checkBounds().inBounds||this.requestTick()}setTransform(){this.emit("beforeTransform");let{current:e,target:t,content:i,contentRect:n}=this,s=Object.assign({},on);for(let E of vt){let T=E=="e"||E==="f"?an:ss;s[E]=j(e[E],T),Math.abs(t[E]-e[E])<(E=="e"||E==="f"?.51:.001)&&(e[E]=t[E])}let{a:c,b:d,c:m,d:g,e:p,f:h}=s,b=`matrix(${c}, ${d}, ${m}, ${g}, ${p}, ${h})`,v=i.parentElement instanceof HTMLPictureElement?i.parentElement:i;if(this.option("transformParent")&&(v=v.parentElement||v),v.style.transform===b)return;v.style.transform=b;let{contentWidth:y,contentHeight:P}=this.calculateContentDim();n.width=y,n.height=P,this.emit("afterTransform")}updateMetrics(e=!1){var t;if(!this||this.state===oe.Destroy||this.isContentLoading)return;let i=Math.max(1,((t=window.visualViewport)===null||t===void 0?void 0:t.scale)||1),{container:n,content:s}=this,c=s instanceof HTMLImageElement,d=n.getBoundingClientRect(),m=getComputedStyle(this.container),g=d.width*i,p=d.height*i,h=parseFloat(m.paddingTop)+parseFloat(m.paddingBottom),b=g-(parseFloat(m.paddingLeft)+parseFloat(m.paddingRight)),v=p-h;this.containerRect={width:g,height:p,innerWidth:b,innerHeight:v};let y=parseFloat(s.dataset.width||"")||(Ie=>{let xt=0;return xt=Ie instanceof HTMLImageElement?Ie.naturalWidth:Ie instanceof SVGElement?Ie.width.baseVal.value:Math.max(Ie.offsetWidth,Ie.scrollWidth),xt||0})(s),P=parseFloat(s.dataset.height||"")||(Ie=>{let xt=0;return xt=Ie instanceof HTMLImageElement?Ie.naturalHeight:Ie instanceof SVGElement?Ie.height.baseVal.value:Math.max(Ie.offsetHeight,Ie.scrollHeight),xt||0})(s),E=this.option("width",y)||He,T=this.option("height",P)||He,k=E===He,L=T===He;typeof E!="number"&&(E=y),typeof T!="number"&&(T=P),k&&(E=y*(T/P)),L&&(T=P/(y/E));let q=s.parentElement instanceof HTMLPictureElement?s.parentElement:s;this.option("transformParent")&&(q=q.parentElement||q);let We=q.getAttribute("style")||"";q.style.setProperty("transform","none","important"),c&&(q.style.width="",q.style.height=""),q.offsetHeight;let qe=s.getBoundingClientRect(),ce=qe.width*i,Ze=qe.height*i,Cr=ce,Er=Ze;ce=Math.min(ce,E),Ze=Math.min(Ze,T),c?{width:ce,height:Ze}=((Ie,xt,Pr,Ir)=>{let Mr=Pr/Ie,Tr=Ir/xt,Ro=Math.min(Mr,Tr);return{width:Ie*=Ro,height:xt*=Ro}})(E,T,ce,Ze):(ce=Math.min(ce,E),Ze=Math.min(Ze,T));let Ao=.5*(Er-Ze),zo=.5*(Cr-ce);this.contentRect=Object.assign(Object.assign({},this.contentRect),{top:qe.top-d.top+Ao,bottom:d.bottom-qe.bottom+Ao,left:qe.left-d.left+zo,right:d.right-qe.right+zo,fitWidth:ce,fitHeight:Ze,width:ce,height:Ze,fullWidth:E,fullHeight:T}),q.style.cssText=We,c&&(q.style.width=`${ce}px`,q.style.height=`${Ze}px`),this.setTransform(),e!==!0&&this.emit("refresh"),this.ignoreBounds||(j(this.targetScale)<j(this.minScale)?this.zoomTo(this.minScale,{friction:0}):this.targetScale>this.maxScale?this.zoomTo(this.maxScale,{friction:0}):this.state===oe.Init||this.checkBounds().inBounds||this.requestTick()),this.updateControls()}calculateBounds(){let{contentWidth:e,contentHeight:t}=this.calculateContentDim(this.target),{targetScale:i,lockedAxis:n}=this,{fitWidth:s,fitHeight:c}=this.contentRect,d=0,m=0,g=0,p=0,h=this.option("infinite");if(h===!0||n&&h===n)d=-1/0,g=1/0,m=-1/0,p=1/0;else{let{containerRect:b,contentRect:v}=this,y=j(s*i,an),P=j(c*i,an),{innerWidth:E,innerHeight:T}=b;if(b.width===y&&(E=b.width),b.width===P&&(T=b.height),e>E){g=.5*(e-E),d=-1*g;let k=.5*(v.right-v.left);d+=k,g+=k}if(s>E&&e<E&&(d-=.5*(s-E),g-=.5*(s-E)),t>T){p=.5*(t-T),m=-1*p;let k=.5*(v.bottom-v.top);m+=k,p+=k}c>T&&t<T&&(d-=.5*(c-T),g-=.5*(c-T))}return{x:{min:d,max:g},y:{min:m,max:p}}}getBounds(){let e=this.option("bounds");return e!==He?e:this.calculateBounds()}updateControls(){let e=this,t=e.container,{panMode:i,contentRect:n,targetScale:s,minScale:c}=e,d=c,m=e.option("click")||!1;m&&(d=e.getNextScale(m));let g=e.canZoomIn(),p=e.canZoomOut(),h=i===Ma&&!!this.option("touch"),b=p&&h;if(h&&(j(s)<j(c)&&!this.panOnlyZoomed&&(b=!0),(j(n.width,1)>j(n.fitWidth,1)||j(n.height,1)>j(n.fitHeight,1))&&(b=!0)),j(n.width*s,1)<j(n.fitWidth,1)&&(b=!1),i===Be&&(b=!1),rt(t,this.cn("isDraggable"),b),!this.option("zoom"))return;let v=g&&j(d)>j(s),y=!v&&!b&&p&&j(d)<j(s);rt(t,this.cn("canZoomIn"),v),rt(t,this.cn("canZoomOut"),y);for(let P of t.querySelectorAll("[data-panzoom-action]")){let E=!1,T=!1;switch(P.dataset.panzoomAction){case"zoomIn":g?E=!0:T=!0;break;case"zoomOut":p?E=!0:T=!0;break;case"toggleZoom":case"iterateZoom":g||p?E=!0:T=!0;let k=P.querySelector("g");k&&(k.style.display=g?"":"none")}E?(P.removeAttribute("disabled"),P.removeAttribute("tabindex")):T&&(P.setAttribute("disabled",""),P.setAttribute("tabindex","-1"))}}panTo({x:e=this.target.e,y:t=this.target.f,scale:i=this.targetScale,friction:n=this.option("friction"),angle:s=0,originX:c=0,originY:d=0,flipX:m=!1,flipY:g=!1,ignoreBounds:p=!1}){this.state!==oe.Destroy&&this.applyChange({panX:e-this.target.e,panY:t-this.target.f,scale:i/this.targetScale,angle:s,originX:c,originY:d,friction:n,flipX:m,flipY:g,ignoreBounds:p})}applyChange({panX:e=0,panY:t=0,scale:i=1,angle:n=0,originX:s=-this.current.e,originY:c=-this.current.f,friction:d=this.option("friction"),flipX:m=!1,flipY:g=!1,ignoreBounds:p=!1,bounce:h=this.option("bounce")}){let b=this.state;if(b===oe.Destroy)return;this.rAF&&(cancelAnimationFrame(this.rAF),this.rAF=null),this.friction=d||0,this.ignoreBounds=p;let{current:v}=this,y=v.e,P=v.f,E=this.getMatrix(this.target),T=new DOMMatrix().translate(y,P).translate(s,c).translate(e,t);if(this.option("zoom")){if(!p){let k=this.targetScale,L=this.minScale,q=this.maxScale;k*i<L&&(i=L/k),k*i>q&&(i=q/k)}T=T.scale(i)}T=T.translate(-s,-c).translate(-y,-P).multiply(E),n&&(T=T.rotate(n)),m&&(T=T.scale(-1,1)),g&&(T=T.scale(1,-1));for(let k of vt)k!=="e"&&k!=="f"&&(T[k]>this.minScale+1e-5||T[k]<this.minScale-1e-5)?this.target[k]=T[k]:this.target[k]=j(T[k],an);(this.targetScale<this.scale||Math.abs(i-1)>.1||this.panMode===Be||h===!1)&&!p&&this.clampTargetBounds(),b===oe.Init?this.animate():this.isResting||(this.state=oe.Panning,this.requestTick())}stop(e=!1){if(this.state===oe.Init||this.state===oe.Destroy)return;let t=this.isTicking;this.rAF&&(cancelAnimationFrame(this.rAF),this.rAF=null),this.isBouncingX=!1,this.isBouncingY=!1;for(let i of vt)this.velocity[i]=0,e==="current"?this.current[i]=this.target[i]:e==="target"&&(this.target[i]=this.current[i]);this.setTransform(),ne(this.container,"is-scaling"),ne(this.container,"is-animating"),this.isTicking=!1,this.state=oe.Ready,t&&(this.emit("endAnimation"),this.updateControls())}requestTick(){this.isTicking||(this.emit("startAnimation"),this.updateControls(),z(this.container,"is-animating"),this.isScaling&&z(this.container,"is-scaling")),this.isTicking=!0,this.rAF||(this.rAF=requestAnimationFrame(()=>this.animate()))}panWithMouse(e,t=this.option("mouseMoveFriction")){if(this.pmme=e,this.panMode!==Be||!e||j(this.targetScale)<=j(this.minScale))return;this.emit("mouseMove",e);let{container:i,containerRect:n,contentRect:s}=this,c=n.width,d=n.height,m=i.getBoundingClientRect(),g=(e.clientX||0)-m.left,p=(e.clientY||0)-m.top,{contentWidth:h,contentHeight:b}=this.calculateContentDim(this.target),v=this.option("mouseMoveFactor");v>1&&(h!==c&&(h*=v),b!==d&&(b*=v));let y=.5*(h-c)-g/c*100/100*(h-c);y+=.5*(s.right-s.left);let P=.5*(b-d)-p/d*100/100*(b-d);P+=.5*(s.bottom-s.top),this.applyChange({panX:y-this.target.e,panY:P-this.target.f,friction:t})}zoomWithWheel(e){if(this.state===oe.Destroy||this.state===oe.Init)return;let t=Date.now();if(t-this.pwt<45)return void e.preventDefault();this.pwt=t;var i=[-e.deltaX||0,-e.deltaY||0,-e.detail||0].reduce(function(g,p){return Math.abs(p)>Math.abs(g)?p:g});let n=Math.max(-1,Math.min(1,i)),{targetScale:s,maxScale:c,minScale:d}=this,m=s*(100+45*n)/100;j(m)<j(d)&&j(s)<=j(d)?(this.cwd+=Math.abs(n),m=d):j(m)>j(c)&&j(s)>=j(c)?(this.cwd+=Math.abs(n),m=c):(this.cwd=0,m=Math.max(Math.min(m,c),d)),this.cwd>this.option("wheelLimit")||(e.preventDefault(),j(m)!==j(s)&&this.zoomTo(m,{event:e}))}canZoomIn(){return this.option("zoom")&&(j(this.contentRect.width,1)<j(this.contentRect.fitWidth,1)||j(this.targetScale)<j(this.maxScale))}canZoomOut(){return this.option("zoom")&&j(this.targetScale)>j(this.minScale)}zoomIn(e=1.25,t){this.zoomTo(this.targetScale*e,t)}zoomOut(e=.8,t){this.zoomTo(this.targetScale*e,t)}zoomToFit(e){this.zoomTo("fit",e)}zoomToCover(e){this.zoomTo("cover",e)}zoomToFull(e){this.zoomTo("full",e)}zoomToMax(e){this.zoomTo("max",e)}toggleZoom(e){this.zoomTo(this.getNextScale("toggleZoom"),e)}toggleMax(e){this.zoomTo(this.getNextScale("toggleMax"),e)}toggleCover(e){this.zoomTo(this.getNextScale("toggleCover"),e)}iterateZoom(e){this.zoomTo("next",e)}zoomTo(e=1,{friction:t=He,originX:i=He,originY:n=He,event:s}={}){if(this.isContentLoading||this.state===oe.Destroy)return;let{targetScale:c,fullScale:d,maxScale:m,coverScale:g}=this;if(this.stop(),this.panMode===Be&&(s=this.pmme||s),s||i===He||n===He){let h=this.content.getBoundingClientRect(),b=this.container.getBoundingClientRect(),v=s?s.clientX:b.left+.5*b.width,y=s?s.clientY:b.top+.5*b.height;i=v-h.left-.5*h.width,n=y-h.top-.5*h.height}let p=1;typeof e=="number"?p=e:e==="full"?p=d:e==="cover"?p=g:e==="max"?p=m:e==="fit"?p=1:e==="next"&&(p=this.getNextScale("iterateZoom")),p=p/c||1,t=t===He?p>1?.15:.25:t,this.applyChange({scale:p,originX:i,originY:n,friction:t}),s&&this.panMode===Be&&this.panWithMouse(s,t)}rotateCCW(){this.applyChange({angle:-90})}rotateCW(){this.applyChange({angle:90})}flipX(){this.applyChange({flipX:!0})}flipY(){this.applyChange({flipY:!0})}fitX(){this.stop("target");let{containerRect:e,contentRect:t,target:i}=this;this.applyChange({panX:.5*e.width-(t.left+.5*t.fitWidth)-i.e,panY:.5*e.height-(t.top+.5*t.fitHeight)-i.f,scale:e.width/t.fitWidth/this.targetScale,originX:0,originY:0,ignoreBounds:!0})}fitY(){this.stop("target");let{containerRect:e,contentRect:t,target:i}=this;this.applyChange({panX:.5*e.width-(t.left+.5*t.fitWidth)-i.e,panY:.5*e.innerHeight-(t.top+.5*t.fitHeight)-i.f,scale:e.height/t.fitHeight/this.targetScale,originX:0,originY:0,ignoreBounds:!0})}toggleFS(){let{container:e}=this,t=this.cn("inFullscreen"),i=this.cn("htmlHasFullscreen");e.classList.toggle(t);let n=e.classList.contains(t);n?(document.documentElement.classList.add(i),document.addEventListener("keydown",this.onKeydown,!0)):(document.documentElement.classList.remove(i),document.removeEventListener("keydown",this.onKeydown,!0)),this.updateMetrics(),this.emit(n?"enterFS":"exitFS")}getMatrix(e=this.current){let{a:t,b:i,c:n,d:s,e:c,f:d}=e;return new DOMMatrix([t,i,n,s,c,d])}reset(e){if(this.state!==oe.Init&&this.state!==oe.Destroy){this.stop("current");for(let t of vt)this.target[t]=on[t];this.target.a=this.minScale,this.target.d=this.minScale,this.clampTargetBounds(),this.isResting||(this.friction=e===void 0?this.option("friction"):e,this.state=oe.Panning,this.requestTick())}}destroy(){this.stop(),this.state=oe.Destroy,this.detachEvents(),this.detachObserver();let{container:e,content:t}=this,i=this.option("classes")||{};for(let n of Object.values(i))e.classList.remove(n+"");t&&(t.removeEventListener("load",this.onLoad),t.removeEventListener("error",this.onError)),this.detachPlugins()}};Object.defineProperty(ei,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:rs}),Object.defineProperty(ei,"Plugins",{enumerable:!0,configurable:!0,writable:!0,value:{}});var Fa=function(a,e){let t=!0;return(...i)=>{t&&(t=!1,a(...i),setTimeout(()=>{t=!0},e))}},ja=(a,e)=>{let t=[];return a.childNodes.forEach(i=>{i.nodeType!==Node.ELEMENT_NODE||e&&!i.matches(e)||t.push(i)}),t},ls={viewport:null,track:null,enabled:!0,slides:[],axis:"x",transition:"fade",preload:1,slidesPerPage:"auto",initialPage:0,friction:.12,Panzoom:{decelFriction:.12},center:!0,infinite:!0,fill:!0,dragFree:!1,adaptiveHeight:!1,direction:"ltr",classes:{container:"f-carousel",viewport:"f-carousel__viewport",track:"f-carousel__track",slide:"f-carousel__slide",isLTR:"is-ltr",isRTL:"is-rtl",isHorizontal:"is-horizontal",isVertical:"is-vertical",inTransition:"in-transition",isSelected:"is-selected"},l10n:{NEXT:"Next slide",PREV:"Previous slide",GOTO:"Go to slide #%d"}},be;(function(a){a[a.Init=0]="Init",a[a.Ready=1]="Ready",a[a.Destroy=2]="Destroy"})(be||(be={}));var ro=a=>{if(typeof a=="string"||a instanceof HTMLElement)a={html:a};else{let e=a.thumb;e!==void 0&&(typeof e=="string"&&(a.thumbSrc=e),e instanceof HTMLImageElement&&(a.thumbEl=e,a.thumbElSrc=e.src,a.thumbSrc=e.src),delete a.thumb)}return Object.assign({html:"",el:null,isDom:!1,class:"",customClass:"",index:-1,dim:0,gap:0,pos:0,transition:!1},a)},cs=(a={})=>Object.assign({index:-1,slides:[],dim:0,pos:-1},a),Ae=class extends Si{constructor(e,t){super(t),Object.defineProperty(this,"instance",{enumerable:!0,configurable:!0,writable:!0,value:e})}attach(){}detach(){}},ds={classes:{list:"f-carousel__dots",isDynamic:"is-dynamic",hasDots:"has-dots",dot:"f-carousel__dot",isBeforePrev:"is-before-prev",isPrev:"is-prev",isCurrent:"is-current",isNext:"is-next",isAfterNext:"is-after-next"},dotTpl:'<button type="button" data-carousel-page="%i" aria-label="{{GOTO}}"><span class="f-carousel__dot" aria-hidden="true"></span></button>',dynamicFrom:11,maxCount:1/0,minCount:2},vn=class extends Ae{constructor(){super(...arguments),Object.defineProperty(this,"isDynamic",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"list",{enumerable:!0,configurable:!0,writable:!0,value:null})}onRefresh(){this.refresh()}build(){let e=this.list;if(!e){e=document.createElement("ul"),z(e,this.cn("list")),e.setAttribute("role","tablist");let t=this.instance.container;t.appendChild(e),z(t,this.cn("hasDots")),this.list=e}return e}refresh(){var e;let t=this.instance.pages.length,i=Math.min(2,this.option("minCount")),n=Math.max(2e3,this.option("maxCount")),s=this.option("dynamicFrom");if(t<i||t>n)return void this.cleanup();let c=typeof s=="number"&&t>5&&t>=s,d=!this.list||this.isDynamic!==c||this.list.children.length!==t;d&&this.cleanup();let m=this.build();if(rt(m,this.cn("isDynamic"),!!c),d)for(let h=0;h<t;h++)m.append(this.createItem(h));let g,p=0;for(let h of[...m.children]){let b=p===this.instance.page;b&&(g=h),rt(h,this.cn("isCurrent"),b),(e=h.children[0])===null||e===void 0||e.setAttribute("aria-selected",b?"true":"false");for(let v of["isBeforePrev","isPrev","isNext","isAfterNext"])ne(h,this.cn(v));p++}if(g=g||m.firstChild,c&&g){let h=g.previousElementSibling,b=h&&h.previousElementSibling;z(h,this.cn("isPrev")),z(b,this.cn("isBeforePrev"));let v=g.nextElementSibling,y=v&&v.nextElementSibling;z(v,this.cn("isNext")),z(y,this.cn("isAfterNext"))}this.isDynamic=c}createItem(e=0){var t;let i=document.createElement("li");i.setAttribute("role","presentation");let n=at(this.instance.localize(this.option("dotTpl"),[["%d",e+1]]).replace(/\%i/g,e+""));return i.appendChild(n),(t=i.children[0])===null||t===void 0||t.setAttribute("role","tab"),i}cleanup(){this.list&&(this.list.remove(),this.list=null),this.isDynamic=!1,ne(this.instance.container,this.cn("hasDots"))}attach(){this.instance.on(["refresh","change"],this.onRefresh)}detach(){this.instance.off(["refresh","change"],this.onRefresh),this.cleanup()}};Object.defineProperty(vn,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:ds});var rn="disabled",sn="next",Oa="prev",bn=class extends Ae{constructor(){super(...arguments),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"prev",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"next",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"isDom",{enumerable:!0,configurable:!0,writable:!0,value:!1})}onRefresh(){let e=this.instance,t=e.pages.length,i=e.page;if(t<2)return void this.cleanup();this.build();let n=this.prev,s=this.next;n&&s&&(n.removeAttribute(rn),s.removeAttribute(rn),e.isInfinite||(i<=0&&n.setAttribute(rn,""),i>=t-1&&s.setAttribute(rn,"")))}addBtn(e){var t;let i=this.instance,n=document.createElement("button");n.setAttribute("tabindex","0"),n.setAttribute("title",i.localize(`{{${e.toUpperCase()}}}`)),z(n,this.cn("button")+" "+this.cn(e===sn?"isNext":"isPrev"));let s=i.isRTL?e===sn?Oa:sn:e;var c;return n.innerHTML=i.localize(this.option(`${s}Tpl`)),n.dataset[`carousel${c=e,c?c.match("^[a-z]")?c.charAt(0).toUpperCase()+c.substring(1):c:""}`]="true",(t=this.container)===null||t===void 0||t.appendChild(n),n}build(){let e=this.instance.container,t=this.cn("container"),{container:i,prev:n,next:s}=this;i||(i=e.querySelector("."+t),this.isDom=!!i),i||(i=document.createElement("div"),z(i,t),e.appendChild(i)),this.container=i,s||(s=i.querySelector("[data-carousel-next]")),s||(s=this.addBtn(sn)),this.next=s,n||(n=i.querySelector("[data-carousel-prev]")),n||(n=this.addBtn(Oa)),this.prev=n}cleanup(){this.isDom||(this.prev&&this.prev.remove(),this.next&&this.next.remove(),this.container&&this.container.remove()),this.prev=null,this.next=null,this.container=null,this.isDom=!1}attach(){this.instance.on(["refresh","change"],this.onRefresh)}detach(){this.instance.off(["refresh","change"],this.onRefresh),this.cleanup()}};Object.defineProperty(bn,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{classes:{container:"f-carousel__nav",button:"f-button",isNext:"is-next",isPrev:"is-prev"},nextTpl:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1"><path d="M9 3l9 9-9 9"/></svg>',prevTpl:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1"><path d="M15 3l-9 9 9 9"/></svg>'}});var Sn=class extends Ae{constructor(){super(...arguments),Object.defineProperty(this,"selectedIndex",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"target",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"nav",{enumerable:!0,configurable:!0,writable:!0,value:null})}addAsTargetFor(e){this.target=this.instance,this.nav=e,this.attachEvents()}addAsNavFor(e){this.nav=this.instance,this.target=e,this.attachEvents()}attachEvents(){let{nav:e,target:t}=this;e&&t&&(e.options.initialSlide=t.options.initialPage,e.state===be.Ready?this.onNavReady(e):e.on("ready",this.onNavReady),t.state===be.Ready?this.onTargetReady(t):t.on("ready",this.onTargetReady))}onNavReady(e){e.on("createSlide",this.onNavCreateSlide),e.on("Panzoom.click",this.onNavClick),e.on("Panzoom.touchEnd",this.onNavTouch),this.onTargetChange()}onTargetReady(e){e.on("change",this.onTargetChange),e.on("Panzoom.refresh",this.onTargetChange),this.onTargetChange()}onNavClick(e,t,i){this.onNavTouch(e,e.panzoom,i)}onNavTouch(e,t,i){var n,s;if(Math.abs(t.dragOffset.x)>3||Math.abs(t.dragOffset.y)>3)return;let c=i.target,{nav:d,target:m}=this;if(!d||!m||!c)return;let g=c.closest("[data-index]");if(i.stopPropagation(),i.preventDefault(),!g)return;let p=parseInt(g.dataset.index||"",10)||0,h=m.getPageForSlide(p),b=d.getPageForSlide(p);d.slideTo(b),m.slideTo(h,{friction:((s=(n=this.nav)===null||n===void 0?void 0:n.plugins)===null||s===void 0?void 0:s.Sync.option("friction"))||0}),this.markSelectedSlide(p)}onNavCreateSlide(e,t){t.index===this.selectedIndex&&this.markSelectedSlide(t.index)}onTargetChange(){var e,t;let{target:i,nav:n}=this;if(!i||!n||n.state!==be.Ready||i.state!==be.Ready)return;let s=(t=(e=i.pages[i.page])===null||e===void 0?void 0:e.slides[0])===null||t===void 0?void 0:t.index,c=n.getPageForSlide(s);this.markSelectedSlide(s),n.slideTo(c,n.prevPage===null&&i.prevPage===null?{friction:0}:void 0)}markSelectedSlide(e){let t=this.nav;t&&t.state===be.Ready&&(this.selectedIndex=e,[...t.slides].map(i=>{i.el&&i.el.classList[i.index===e?"add":"remove"]("is-nav-selected")}))}attach(){let e=this,t=e.options.target,i=e.options.nav;t?e.addAsNavFor(t):i&&e.addAsTargetFor(i)}detach(){let e=this,t=e.nav,i=e.target;t&&(t.off("ready",e.onNavReady),t.off("createSlide",e.onNavCreateSlide),t.off("Panzoom.click",e.onNavClick),t.off("Panzoom.touchEnd",e.onNavTouch)),e.nav=null,i&&(i.off("ready",e.onTargetReady),i.off("refresh",e.onTargetChange),i.off("change",e.onTargetChange)),e.target=null}};Object.defineProperty(Sn,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{friction:.35}});var ms={Navigation:bn,Dots:vn,Sync:Sn},ln="animationend",ka="isSelected",cn="slide",bi=class a extends ki{get axis(){return this.isHorizontal?"e":"f"}get isEnabled(){return this.state===be.Ready}get isInfinite(){let e=!1,{contentDim:t,viewportDim:i,pages:n,slides:s}=this,c=s[0];return n.length>=2&&c&&t+c.dim>=i&&(e=this.option("infinite")),e}get isRTL(){return this.option("direction")==="rtl"}get isHorizontal(){return this.option("axis")==="x"}constructor(e,t={},i={}){if(super(),Object.defineProperty(this,"bp",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"lp",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"userOptions",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"userPlugins",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:be.Init}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"prevPage",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"viewport",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"track",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"slides",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"pages",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"panzoom",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"inTransition",{enumerable:!0,configurable:!0,writable:!0,value:new Set}),Object.defineProperty(this,"contentDim",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"viewportDim",{enumerable:!0,configurable:!0,writable:!0,value:0}),typeof e=="string"&&(e=document.querySelector(e)),!e||!je(e))throw new Error("No Element found");this.container=e,this.slideNext=Fa(this.slideNext.bind(this),150),this.slidePrev=Fa(this.slidePrev.bind(this),150),this.userOptions=t,this.userPlugins=i,queueMicrotask(()=>{this.processOptions()})}processOptions(){var e,t;let i=Oe({},a.defaults,this.userOptions),n="",s=i.breakpoints;if(s&&xo(s))for(let[c,d]of Object.entries(s))window.matchMedia(c).matches&&xo(d)&&(n+=c,Oe(i,d));n===this.bp&&this.state!==be.Init||(this.bp=n,this.state===be.Ready&&(i.initialSlide=((t=(e=this.pages[this.page])===null||e===void 0?void 0:e.slides[0])===null||t===void 0?void 0:t.index)||0),this.state!==be.Init&&this.destroy(),super.setOptions(i),this.option("enabled")===!1?this.attachEvents():setTimeout(()=>{this.init()},0))}init(){this.state=be.Init,this.emit("init"),this.attachPlugins(Object.assign(Object.assign({},a.Plugins),this.userPlugins)),this.emit("attachPlugins"),this.initLayout(),this.initSlides(),this.updateMetrics(),this.setInitialPosition(),this.initPanzoom(),this.attachEvents(),this.state=be.Ready,this.emit("ready")}initLayout(){let{container:e}=this,t=this.option("classes");z(e,this.cn("container")),rt(e,t.isLTR,!this.isRTL),rt(e,t.isRTL,this.isRTL),rt(e,t.isVertical,!this.isHorizontal),rt(e,t.isHorizontal,this.isHorizontal);let i=this.option("viewport")||e.querySelector(`.${t.viewport}`);i||(i=document.createElement("div"),z(i,t.viewport),i.append(...ja(e,`.${t.slide}`)),e.prepend(i)),i.addEventListener("scroll",this.onScroll);let n=this.option("track")||e.querySelector(`.${t.track}`);n||(n=document.createElement("div"),z(n,t.track),n.append(...Array.from(i.childNodes))),n.setAttribute("aria-live","polite"),i.contains(n)||i.prepend(n),this.viewport=i,this.track=n,this.emit("initLayout")}initSlides(){let{track:e}=this;if(!e)return;let t=[...this.slides],i=[];[...ja(e,`.${this.cn(cn)}`)].forEach(n=>{if(je(n)){let s=ro({el:n,isDom:!0,index:this.slides.length});i.push(s)}});for(let n of[...this.option("slides",[])||[],...t])i.push(ro(n));this.slides=i;for(let n=0;n<this.slides.length;n++)this.slides[n].index=n;for(let n of i)this.emit("beforeInitSlide",n,n.index),this.emit("initSlide",n,n.index);this.emit("initSlides")}setInitialPage(){let e=this.option("initialSlide");this.page=typeof e=="number"?this.getPageForSlide(e):parseInt(this.option("initialPage",0)+"",10)||0}setInitialPosition(){let{track:e,pages:t,isHorizontal:i}=this;if(!e||!t.length)return;let n=this.page;t[n]||(this.page=n=0);let s=(t[n].pos||0)*(this.isRTL&&i?1:-1),c=i?`${s}px`:"0",d=i?"0":`${s}px`;e.style.transform=`translate3d(${c}, ${d}, 0) scale(1)`,this.option("adaptiveHeight")&&this.setViewportHeight()}initPanzoom(){this.panzoom&&(this.panzoom.destroy(),this.panzoom=null);let e=this.option("Panzoom")||{};this.panzoom=new ei(this.viewport,Oe({},{content:this.track,zoom:!1,panOnlyZoomed:!1,lockAxis:this.isHorizontal?"x":"y",infinite:this.isInfinite,click:!1,dblClick:!1,touch:t=>!(this.pages.length<2&&!t.options.infinite),bounds:()=>this.getBounds(),maxVelocity:t=>Math.abs(t.target[this.axis]-t.current[this.axis])<2*this.viewportDim?100:0},e)),this.panzoom.on("*",(t,i,...n)=>{this.emit(`Panzoom.${i}`,t,...n)}),this.panzoom.on("decel",this.onDecel),this.panzoom.on("refresh",this.onRefresh),this.panzoom.on("beforeTransform",this.onBeforeTransform),this.panzoom.on("endAnimation",this.onEndAnimation)}attachEvents(){let e=this.container;e&&(e.addEventListener("click",this.onClick,{passive:!1,capture:!1}),e.addEventListener("slideTo",this.onSlideTo)),window.addEventListener("resize",this.onResize)}createPages(){let e=[],{contentDim:t,viewportDim:i}=this,n=this.option("slidesPerPage");n=(n==="auto"||t<=i)&&this.option("fill")!==!1?1/0:parseFloat(n+"");let s=0,c=0,d=0;for(let m of this.slides)(!e.length||c+m.dim-i>.05||d>=n)&&(e.push(cs()),s=e.length-1,c=0,d=0),e[s].slides.push(m),c+=m.dim+m.gap,d++;return e}processPages(){let e=this.pages,{contentDim:t,viewportDim:i,isInfinite:n}=this,s=this.option("center"),c=this.option("fill"),d=c&&s&&t>i&&!n;if(e.forEach((p,h)=>{var b;p.index=h,p.pos=((b=p.slides[0])===null||b===void 0?void 0:b.pos)||0,p.dim=0;for(let[v,y]of p.slides.entries())p.dim+=y.dim,v<p.slides.length-1&&(p.dim+=y.gap);d&&p.pos+.5*p.dim<.5*i?p.pos=0:d&&p.pos+.5*p.dim>=t-.5*i?p.pos=t-i:s&&(p.pos+=-.5*(i-p.dim))}),e.forEach(p=>{c&&!n&&t>i&&(p.pos=Math.max(p.pos,0),p.pos=Math.min(p.pos,t-i)),p.pos=j(p.pos,1e3),p.dim=j(p.dim,1e3),Math.abs(p.pos)<=.1&&(p.pos=0)}),n)return e;let m=[],g;return e.forEach(p=>{let h=Object.assign({},p);g&&h.pos===g.pos?(g.dim+=h.dim,g.slides=[...g.slides,...h.slides]):(h.index=m.length,g=h,m.push(h))}),m}getPageFromIndex(e=0){let t=this.pages.length,i;return e=parseInt((e||0).toString())||0,i=this.isInfinite?(e%t+t)%t:Math.max(Math.min(e,t-1),0),i}getSlideMetrics(e){var t,i;let n=this.isHorizontal?"width":"height",s=0,c=0,d=e.el,m=!(!d||d.parentNode);if(d?s=parseFloat(d.dataset[n]||"")||0:(d=document.createElement("div"),d.style.visibility="hidden",(this.track||document.body).prepend(d)),z(d,this.cn(cn)+" "+e.class+" "+e.customClass),s)d.style[n]=`${s}px`,d.style[n==="width"?"height":"width"]="";else{m&&(this.track||document.body).prepend(d),s=d.getBoundingClientRect()[n]*Math.max(1,((t=window.visualViewport)===null||t===void 0?void 0:t.scale)||1);let p=d[this.isHorizontal?"offsetWidth":"offsetHeight"];p-1>s&&(s=p)}let g=getComputedStyle(d);return g.boxSizing==="content-box"&&(this.isHorizontal?(s+=parseFloat(g.paddingLeft)||0,s+=parseFloat(g.paddingRight)||0):(s+=parseFloat(g.paddingTop)||0,s+=parseFloat(g.paddingBottom)||0)),c=parseFloat(g[this.isHorizontal?"marginRight":"marginBottom"])||0,m?(i=d.parentElement)===null||i===void 0||i.removeChild(d):e.el||d.remove(),{dim:j(s,1e3),gap:j(c,1e3)}}getBounds(){let{isInfinite:e,isRTL:t,isHorizontal:i,pages:n}=this,s={min:0,max:0};if(e)s={min:-1/0,max:1/0};else if(n.length){let c=n[0].pos,d=n[n.length-1].pos;s=t&&i?{min:c,max:d}:{min:-1*d,max:-1*c}}return{x:i?s:{min:0,max:0},y:i?{min:0,max:0}:s}}repositionSlides(){let e,{isHorizontal:t,isRTL:i,isInfinite:n,viewport:s,viewportDim:c,contentDim:d,page:m,pages:g,slides:p,panzoom:h}=this,b=0,v=0,y=0,P=0;h?P=-1*h.current[this.axis]:g[m]&&(P=g[m].pos||0),e=t?i?"right":"left":"top",i&&t&&(P*=-1);for(let L of p){let q=L.el;q?(e==="top"?(q.style.right="",q.style.left=""):q.style.top="",L.index!==b?q.style[e]=v===0?"":`${j(v,1e3)}px`:q.style[e]="",y+=L.dim+L.gap,b++):v+=L.dim+L.gap}if(n&&y&&s){let L=getComputedStyle(s),q="padding",We=t?"Right":"Bottom",qe=parseFloat(L[q+(t?"Left":"Top")]);P-=qe,c+=qe,c+=parseFloat(L[q+We]);for(let ce of p)ce.el&&(j(ce.pos)<j(c)&&j(ce.pos+ce.dim+ce.gap)<j(P)&&j(P)>j(d-c)&&(ce.el.style[e]=`${j(v+y,1e3)}px`),j(ce.pos+ce.gap)>=j(d-c)&&j(ce.pos)>j(P+c)&&j(P)<j(c)&&(ce.el.style[e]=`-${j(y,1e3)}px`))}let E,T,k=[...this.inTransition];if(k.length>1&&(E=g[k[0]],T=g[k[1]]),E&&T){let L=0;for(let q of p)q.el?this.inTransition.has(q.index)&&E.slides.indexOf(q)<0&&(q.el.style[e]=`${j(L+(E.pos-T.pos),1e3)}px`):L+=q.dim+q.gap}}createSlideEl(e){let{track:t,slides:i}=this;if(!t||!e||e.el&&e.el.parentNode)return;let n=e.el||document.createElement("div");z(n,this.cn(cn)),z(n,e.class),z(n,e.customClass);let s=e.html;s&&(s instanceof HTMLElement?n.appendChild(s):n.innerHTML=e.html+"");let c=[];i.forEach((p,h)=>{p.el&&c.push(h)});let d=e.index,m=null;c.length&&(m=i[c.reduce((p,h)=>Math.abs(h-d)<Math.abs(p-d)?h:p)]);let g=m&&m.el&&m.el.parentNode?m.index<e.index?m.el.nextSibling:m.el:null;t.insertBefore(n,t.contains(g)?g:null),e.el=n,this.emit("createSlide",e)}removeSlideEl(e,t=!1){let i=e?.el;if(!i||!i.parentNode)return;let n=this.cn(ka);if(i.classList.contains(n)&&(ne(i,n),this.emit("unselectSlide",e)),e.isDom&&!t)return i.removeAttribute("aria-hidden"),i.removeAttribute("data-index"),void(i.style.left="");this.emit("removeSlide",e);let s=new CustomEvent(ln);i.dispatchEvent(s),e.el&&(e.el.remove(),e.el=null)}transitionTo(e=0,t=this.option("transition")){var i,n,s,c;if(!t)return!1;let d=this.page,{pages:m,panzoom:g}=this;e=parseInt((e||0).toString())||0;let p=this.getPageFromIndex(e);if(!g||!m[p]||m.length<2||Math.abs((((n=(i=m[d])===null||i===void 0?void 0:i.slides[0])===null||n===void 0?void 0:n.dim)||0)-this.viewportDim)>1)return!1;let h=e>d?1:-1;this.isInfinite&&(d===0&&e===m.length-1&&(h=-1),d===m.length-1&&e===0&&(h=1));let b=m[p].pos*(this.isRTL?1:-1);if(d===p&&Math.abs(b-g.target[this.axis])<1)return!1;this.clearTransitions();let v=g.isResting;z(this.container,this.cn("inTransition"));let y=((s=m[d])===null||s===void 0?void 0:s.slides[0])||null,P=((c=m[p])===null||c===void 0?void 0:c.slides[0])||null;this.inTransition.add(P.index),this.createSlideEl(P);let E=y.el,T=P.el;v||t===cn||(t="fadeFast",E=null);let k=this.isRTL?"next":"prev",L=this.isRTL?"prev":"next";return E&&(this.inTransition.add(y.index),y.transition=t,E.addEventListener(ln,this.onAnimationEnd),E.classList.add(`f-${t}Out`,`to-${h>0?L:k}`)),T&&(P.transition=t,T.addEventListener(ln,this.onAnimationEnd),T.classList.add(`f-${t}In`,`from-${h>0?k:L}`)),g.current[this.axis]=b,g.target[this.axis]=b,g.requestTick(),this.onChange(p),!0}manageSlideVisiblity(){let e=new Set,t=new Set,i=this.getVisibleSlides(parseFloat(this.option("preload",0)+"")||0);for(let n of this.slides)i.has(n)?e.add(n):t.add(n);for(let n of this.inTransition)e.add(this.slides[n]);for(let n of e)this.createSlideEl(n),this.lazyLoadSlide(n);for(let n of t)e.has(n)||this.removeSlideEl(n);this.markSelectedSlides(),this.repositionSlides()}markSelectedSlides(){if(!this.pages[this.page]||!this.pages[this.page].slides)return;let e="aria-hidden",t=this.cn(ka);if(t)for(let i of this.slides){let n=i.el;n&&(n.dataset.index=`${i.index}`,n.classList.contains("f-thumbs__slide")?this.getVisibleSlides(0).has(i)?n.removeAttribute(e):n.setAttribute(e,"true"):this.pages[this.page].slides.includes(i)?(n.classList.contains(t)||(z(n,t),this.emit("selectSlide",i)),n.removeAttribute(e)):(n.classList.contains(t)&&(ne(n,t),this.emit("unselectSlide",i)),n.setAttribute(e,"true")))}}flipInfiniteTrack(){let{axis:e,isHorizontal:t,isInfinite:i,isRTL:n,viewportDim:s,contentDim:c}=this,d=this.panzoom;if(!d||!i)return;let m=d.current[e],g=d.target[e]-m,p=0,h=.5*s;n&&t?(m<-h&&(p=-1,m+=c),m>c-h&&(p=1,m-=c)):(m>h&&(p=1,m-=c),m<-c+h&&(p=-1,m+=c)),p&&(d.current[e]=m,d.target[e]=m+g)}lazyLoadImg(e,t){let i=this,n="f-fadeIn",s="is-preloading",c=!1,d=null,m=()=>{c||(c=!0,d&&(d.remove(),d=null),ne(t,s),t.complete&&(z(t,n),setTimeout(()=>{ne(t,n)},350)),this.option("adaptiveHeight")&&e.el&&this.pages[this.page].slides.indexOf(e)>-1&&(i.updateMetrics(),i.setViewportHeight()),this.emit("load",e))};z(t,s),t.src=t.dataset.lazySrcset||t.dataset.lazySrc||"",delete t.dataset.lazySrc,delete t.dataset.lazySrcset,t.addEventListener("error",()=>{m()}),t.addEventListener("load",()=>{m()}),setTimeout(()=>{let g=t.parentNode;g&&e.el&&(t.complete?m():c||(d=at(Eo),g.insertBefore(d,t)))},300)}lazyLoadSlide(e){let t=e&&e.el;if(!t)return;let i=new Set,n=Array.from(t.querySelectorAll("[data-lazy-src],[data-lazy-srcset]"));t.dataset.lazySrc&&n.push(t),n.map(s=>{s instanceof HTMLImageElement?i.add(s):s instanceof HTMLElement&&s.dataset.lazySrc&&(s.style.backgroundImage=`url('${s.dataset.lazySrc}')`,delete s.dataset.lazySrc)});for(let s of i)this.lazyLoadImg(e,s)}onAnimationEnd(e){var t;let i=e.target,n=i?parseInt(i.dataset.index||"",10)||0:-1,s=this.slides[n],c=e.animationName;if(!i||!s||!c)return;let d=!!this.inTransition.has(n)&&s.transition;d&&c.substring(0,d.length+2)===`f-${d}`&&this.inTransition.delete(n),this.inTransition.size||this.clearTransitions(),n===this.page&&(!((t=this.panzoom)===null||t===void 0)&&t.isResting)&&this.emit("settle")}onDecel(e,t=0,i=0,n=0,s=0){if(this.option("dragFree"))return void this.setPageFromPosition();let{isRTL:c,isHorizontal:d,axis:m,pages:g}=this,p=g.length,h=Math.abs(Math.atan2(i,t)/(Math.PI/180)),b=0;if(b=h>45&&h<135?d?0:i:d?t:0,!p)return;let v=this.page,y=c&&d?1:-1,P=e.current[m]*y,{pageIndex:E}=this.getPageFromPosition(P);Math.abs(b)>5?(g[v].dim<document.documentElement["client"+(this.isHorizontal?"Width":"Height")]-1&&(v=E),v=c&&d?b<0?v-1:v+1:b<0?v+1:v-1):v=n===0&&s===0?v:E,this.slideTo(v,{transition:!1,friction:e.option("decelFriction")})}onClick(e){let t=e.target,i=t&&je(t)?t.dataset:null,n,s;i&&(i.carouselPage!==void 0?(s="slideTo",n=i.carouselPage):i.carouselNext!==void 0?s="slideNext":i.carouselPrev!==void 0&&(s="slidePrev")),s?(e.preventDefault(),e.stopPropagation(),t&&!t.hasAttribute("disabled")&&this[s](n)):this.emit("click",e)}onSlideTo(e){let t=e.detail||0;this.slideTo(this.getPageForSlide(t),{friction:0})}onChange(e,t=0){let i=this.page;this.prevPage=i,this.page=e,this.option("adaptiveHeight")&&this.setViewportHeight(),e!==i&&(this.markSelectedSlides(),this.emit("change",e,i,t))}onRefresh(){let e=this.contentDim,t=this.viewportDim;this.updateMetrics(),this.contentDim===e&&this.viewportDim===t||this.slideTo(this.page,{friction:0,transition:!1})}onScroll(){var e;(e=this.viewport)===null||e===void 0||e.scroll(0,0)}onResize(){this.option("breakpoints")&&this.processOptions()}onBeforeTransform(e){this.lp!==e.current[this.axis]&&(this.flipInfiniteTrack(),this.manageSlideVisiblity()),this.lp=e.current.e}onEndAnimation(){this.inTransition.size||this.emit("settle")}reInit(e=null,t=null){this.destroy(),this.state=be.Init,this.prevPage=null,this.userOptions=e||this.userOptions,this.userPlugins=t||this.userPlugins,this.processOptions()}slideTo(e=0,{friction:t=this.option("friction"),transition:i=this.option("transition")}={}){if(this.state===be.Destroy)return;e=parseInt((e||0).toString())||0;let n=this.getPageFromIndex(e),{axis:s,isHorizontal:c,isRTL:d,pages:m,panzoom:g}=this,p=m.length,h=d&&c?1:-1;if(!g||!p)return;if(this.page!==n){let v=new Event("beforeChange",{bubbles:!0,cancelable:!0});if(this.emit("beforeChange",v,e),v.defaultPrevented)return}if(this.transitionTo(e,i))return;let b=m[n].pos;if(this.isInfinite){let v=this.contentDim,y=g.target[s]*h;p===2?b+=v*Math.floor(parseFloat(e+"")/2):b=[b,b-v,b+v].reduce(function(P,E){return Math.abs(E-y)<Math.abs(P-y)?E:P})}b*=h,Math.abs(g.target[s]-b)<1||(g.panTo({x:c?b:0,y:c?0:b,friction:t}),this.onChange(n))}slideToClosest(e){if(this.panzoom){let{pageIndex:t}=this.getPageFromPosition();this.slideTo(t,e)}}slideNext(){this.slideTo(this.page+1)}slidePrev(){this.slideTo(this.page-1)}clearTransitions(){this.inTransition.clear(),ne(this.container,this.cn("inTransition"));let e=["to-prev","to-next","from-prev","from-next"];for(let t of this.slides){let i=t.el;if(i){i.removeEventListener(ln,this.onAnimationEnd),i.classList.remove(...e);let n=t.transition;n&&i.classList.remove(`f-${n}Out`,`f-${n}In`)}}this.manageSlideVisiblity()}addSlide(e,t){var i,n,s,c;let d=this.panzoom,m=((i=this.pages[this.page])===null||i===void 0?void 0:i.pos)||0,g=((n=this.pages[this.page])===null||n===void 0?void 0:n.dim)||0,p=this.contentDim<this.viewportDim,h=Array.isArray(t)?t:[t],b=[];for(let v of h)b.push(ro(v));this.slides.splice(e,0,...b);for(let v=0;v<this.slides.length;v++)this.slides[v].index=v;for(let v of b)this.emit("beforeInitSlide",v,v.index);if(this.page>=e&&(this.page+=b.length),this.updateMetrics(),d){let v=((s=this.pages[this.page])===null||s===void 0?void 0:s.pos)||0,y=((c=this.pages[this.page])===null||c===void 0?void 0:c.dim)||0,P=this.pages.length||1,E=this.isRTL?g-y:y-g,T=this.isRTL?m-v:v-m;p&&P===1?(e<=this.page&&(d.current[this.axis]-=E,d.target[this.axis]-=E),d.panTo({[this.isHorizontal?"x":"y"]:-1*v})):T&&e<=this.page&&(d.target[this.axis]-=T,d.current[this.axis]-=T,d.requestTick())}for(let v of b)this.emit("initSlide",v,v.index)}prependSlide(e){this.addSlide(0,e)}appendSlide(e){this.addSlide(this.slides.length,e)}removeSlide(e){let t=this.slides.length;e=(e%t+t)%t;let i=this.slides[e];if(i){this.removeSlideEl(i,!0),this.slides.splice(e,1);for(let n=0;n<this.slides.length;n++)this.slides[n].index=n;this.updateMetrics(),this.slideTo(this.page,{friction:0,transition:!1}),this.emit("destroySlide",i)}}updateMetrics(){let{panzoom:e,viewport:t,track:i,slides:n,isHorizontal:s,isInfinite:c}=this;if(!i)return;let d=s?"width":"height",m=s?"offsetWidth":"offsetHeight";if(t){let h=Math.max(t[m],j(t.getBoundingClientRect()[d],1e3)),b=getComputedStyle(t),v="padding",y=s?"Right":"Bottom";h-=parseFloat(b[v+(s?"Left":"Top")])+parseFloat(b[v+y]),this.viewportDim=h}let g,p=0;for(let[h,b]of n.entries()){let v=0,y=0;!b.el&&g?(v=g.dim,y=g.gap):({dim:v,gap:y}=this.getSlideMetrics(b),g=b),v=j(v,1e3),y=j(y,1e3),b.dim=v,b.gap=y,b.pos=p,p+=v,(c||h<n.length-1)&&(p+=y)}p=j(p,1e3),this.contentDim=p,e&&(e.contentRect[d]=p,e.contentRect[s?"fullWidth":"fullHeight"]=p),this.pages=this.createPages(),this.pages=this.processPages(),this.state===be.Init&&this.setInitialPage(),this.page=Math.max(0,Math.min(this.page,this.pages.length-1)),this.manageSlideVisiblity(),this.emit("refresh")}getProgress(e,t=!1,i=!1){e===void 0&&(e=this.page);let n=this,s=n.panzoom,c=n.contentDim,d=n.pages[e]||0;if(!d||!s)return e>this.page?-1:1;let m=-1*s.current.e,g=j((m-d.pos)/(1*d.dim),1e3),p=g,h=g;this.isInfinite&&i!==!0&&(p=j((m-d.pos+c)/(1*d.dim),1e3),h=j((m-d.pos-c)/(1*d.dim),1e3));let b=[g,p,h].reduce(function(v,y){return Math.abs(y)<Math.abs(v)?y:v});return t?b:b>1?1:b<-1?-1:b}setViewportHeight(){let{page:e,pages:t,viewport:i,isHorizontal:n}=this;if(!i||!t[e])return;let s=0;n&&this.track&&(this.track.style.height="auto",t[e].slides.forEach(c=>{c.el&&(s=Math.max(s,c.el.offsetHeight))})),i.style.height=s?`${s}px`:""}getPageForSlide(e){for(let t of this.pages)for(let i of t.slides)if(i.index===e)return t.index;return-1}getVisibleSlides(e=0){var t;let i=new Set,{panzoom:n,contentDim:s,viewportDim:c,pages:d,page:m}=this;if(c){s=s+((t=this.slides[this.slides.length-1])===null||t===void 0?void 0:t.gap)||0;let g=0;g=n&&n.state!==oe.Init&&n.state!==oe.Destroy?-1*n.current[this.axis]:d[m]&&d[m].pos||0,this.isInfinite&&(g-=Math.floor(g/s)*s),this.isRTL&&this.isHorizontal&&(g*=-1);let p=g-c*e,h=g+c*(e+1),b=this.isInfinite?[-1,0,1]:[0];for(let v of this.slides)for(let y of b){let P=v.pos+y*s,E=P+v.dim+v.gap;P<h&&E>p&&i.add(v)}}return i}getPageFromPosition(e){let{viewportDim:t,contentDim:i,slides:n,pages:s,panzoom:c}=this,d=s.length,m=n.length,g=n[0],p=n[m-1],h=this.option("center"),b=0,v=0,y=0,P=e===void 0?-1*(c?.target[this.axis]||0):e;h&&(P+=.5*t),this.isInfinite?(P<g.pos-.5*p.gap&&(P-=i,y=-1),P>p.pos+p.dim+.5*p.gap&&(P-=i,y=1)):P=Math.max(g.pos||0,Math.min(P,p.pos));let E=p,T=n.find(k=>{let L=k.pos-.5*E.gap,q=k.pos+k.dim+.5*k.gap;return E=k,P>=L&&P<q});return T||(T=p),v=this.getPageForSlide(T.index),b=v+y*d,{page:b,pageIndex:v}}setPageFromPosition(){let{pageIndex:e}=this.getPageFromPosition();this.onChange(e)}destroy(){if([be.Destroy].includes(this.state))return;this.state=be.Destroy;let{container:e,viewport:t,track:i,slides:n,panzoom:s}=this,c=this.option("classes");e.removeEventListener("click",this.onClick,{passive:!1,capture:!1}),e.removeEventListener("slideTo",this.onSlideTo),window.removeEventListener("resize",this.onResize),s&&(s.destroy(),this.panzoom=null),n&&n.forEach(m=>{this.removeSlideEl(m)}),this.detachPlugins(),t&&(t.removeEventListener("scroll",this.onScroll),t.offsetParent&&i&&i.offsetParent&&t.replaceWith(...i.childNodes));for(let[m,g]of Object.entries(c))m!=="container"&&g&&e.classList.remove(g);this.track=null,this.viewport=null,this.page=0,this.slides=[];let d=this.events.get("ready");this.events=new Map,d&&this.events.set("ready",d)}};Object.defineProperty(bi,"Panzoom",{enumerable:!0,configurable:!0,writable:!0,value:ei}),Object.defineProperty(bi,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:ls}),Object.defineProperty(bi,"Plugins",{enumerable:!0,configurable:!0,writable:!0,value:ms});var tr=function(a){if(!je(a))return 0;let e=window.scrollY,t=window.innerHeight,i=e+t,n=a.getBoundingClientRect(),s=n.y+e,c=n.height,d=s+c;if(e>d||i<s)return 0;if(e<s&&i>d||s<e&&d>i)return 100;let m=c;s<e&&(m-=e-s),d>i&&(m-=d-i);let g=m/t*100;return Math.round(g)},Oi=!(typeof window>"u"||!window.document||!window.document.createElement),so,lo=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden]):not(.fancybox-focus-guard)","iframe","object","embed","video","audio","[contenteditable]",'[tabindex]:not([tabindex^="-"]):not([disabled]):not([aria-hidden])'].join(","),Da=a=>{if(a&&Oi){so===void 0&&document.createElement("div").focus({get preventScroll(){return so=!0,!1}});try{if(so)a.focus({preventScroll:!0});else{let e=window.scrollY||document.body.scrollTop,t=window.scrollX||document.body.scrollLeft;a.focus(),document.body.scrollTo({top:e,left:t,behavior:"auto"})}}catch{}}},ir=()=>{let a=document,e,t="",i="",n="";return a.fullscreenEnabled?(t="requestFullscreen",i="exitFullscreen",n="fullscreenElement"):a.webkitFullscreenEnabled&&(t="webkitRequestFullscreen",i="webkitExitFullscreen",n="webkitFullscreenElement"),t&&(e={request:function(s=a.documentElement){return t==="webkitRequestFullscreen"?s[t](Element.ALLOW_KEYBOARD_INPUT):s[t]()},exit:function(){return a[n]&&a[i]()},isFullscreen:function(){return a[n]}}),e},wo={animated:!0,autoFocus:!0,backdropClick:"close",Carousel:{classes:{container:"fancybox__carousel",viewport:"fancybox__viewport",track:"fancybox__track",slide:"fancybox__slide"}},closeButton:"auto",closeExisting:!1,commonCaption:!1,compact:()=>window.matchMedia("(max-width: 578px), (max-height: 578px)").matches,contentClick:"toggleZoom",contentDblClick:!1,defaultType:"image",defaultDisplay:"flex",dragToClose:!0,Fullscreen:{autoStart:!1},groupAll:!1,groupAttr:"data-fancybox",hideClass:"f-fadeOut",hideScrollbar:!0,idle:3500,keyboard:{Escape:"close",Delete:"close",Backspace:"close",PageUp:"next",PageDown:"prev",ArrowUp:"prev",ArrowDown:"next",ArrowRight:"next",ArrowLeft:"prev"},l10n:Object.assign(Object.assign({},er),{CLOSE:"Close",NEXT:"Next",PREV:"Previous",MODAL:"You can close this modal content with the ESC key",ERROR:"Something Went Wrong, Please Try Again Later",IMAGE_ERROR:"Image Not Found",ELEMENT_NOT_FOUND:"HTML Element Not Found",AJAX_NOT_FOUND:"Error Loading AJAX : Not Found",AJAX_FORBIDDEN:"Error Loading AJAX : Forbidden",IFRAME_ERROR:"Error Loading Page",TOGGLE_ZOOM:"Toggle zoom level",TOGGLE_THUMBS:"Toggle thumbnails",TOGGLE_SLIDESHOW:"Toggle slideshow",TOGGLE_FULLSCREEN:"Toggle full-screen mode",DOWNLOAD:"Download"}),parentEl:null,placeFocusBack:!0,showClass:"f-zoomInUp",startIndex:0,tpl:{closeButton:'<button data-fancybox-close class="f-button is-close-btn" title="{{CLOSE}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1"><path d="M20 20L4 4m16 0L4 20"/></svg></button>',main:`<div class="fancybox__container" role="dialog" aria-modal="true" aria-label="{{MODAL}}" tabindex="-1">
    <div class="fancybox__backdrop"></div>
    <div class="fancybox__carousel"></div>
    <div class="fancybox__footer"></div>
  </div>`},trapFocus:!0,wheel:"zoom"},Ce,Te;(function(a){a[a.Init=0]="Init",a[a.Ready=1]="Ready",a[a.Closing=2]="Closing",a[a.CustomClosing=3]="CustomClosing",a[a.Destroy=4]="Destroy"})(Ce||(Ce={})),function(a){a[a.Loading=0]="Loading",a[a.Opening=1]="Opening",a[a.Ready=2]="Ready",a[a.Closing=3]="Closing"}(Te||(Te={}));var Aa="",ji=!1,dn=!1,Qt=null,nr=()=>{let a="",e="",t=J.getInstance();if(t){let i=t.carousel,n=t.getSlide();if(i&&n){let s=n.slug||void 0,c=n.triggerEl||void 0;e=s||t.option("slug")||"",!e&&c&&c.dataset&&(e=c.dataset.fancybox||""),e&&e!=="true"&&(a="#"+e+(!s&&i.slides.length>1?"-"+(n.index+1):""))}}return{hash:a,slug:e,index:1}},yn=()=>{let a=new URL(document.URL).hash,e=a.slice(1).split("-"),t=e[e.length-1],i=t&&/^\+?\d+$/.test(t)&&parseInt(e.pop()||"1",10)||1;return{hash:a,slug:e.join("-"),index:i}},or=()=>{let{slug:a,index:e}=yn();if(!a)return;let t=document.querySelector(`[data-slug="${a}"]`);if(t&&t.dispatchEvent(new CustomEvent("click",{bubbles:!0,cancelable:!0})),J.getInstance())return;let i=document.querySelectorAll(`[data-fancybox="${a}"]`);i.length&&(t=i[e-1],t&&t.dispatchEvent(new CustomEvent("click",{bubbles:!0,cancelable:!0})))},ar=()=>{if(J.defaults.Hash===!1)return;let a=J.getInstance();if(a?.options.Hash===!1)return;let{slug:e,index:t}=yn(),{slug:i}=nr();a&&(e===i?a.jumpTo(t-1):(ji=!0,a.close())),or()},rr=()=>{Qt&&clearTimeout(Qt),queueMicrotask(()=>{ar()})},za=()=>{window.addEventListener("hashchange",rr,!1),setTimeout(()=>{ar()},500)};Oi&&(/complete|interactive|loaded/.test(document.readyState)?za():document.addEventListener("DOMContentLoaded",za));var mn="is-zooming-in",_n=class extends Ae{onCreateSlide(e,t,i){let n=this.instance.optionFor(i,"src")||"";i.el&&i.type==="image"&&typeof n=="string"&&this.setImage(i,n)}onRemoveSlide(e,t,i){i.panzoom&&i.panzoom.destroy(),i.panzoom=void 0,i.imageEl=void 0}onChange(e,t,i,n){ne(this.instance.container,mn);for(let s of t.slides){let c=s.panzoom;c&&s.index!==i&&c.reset(.35)}}onClose(){var e;let t=this.instance,i=t.container,n=t.getSlide();if(!i||!i.parentElement||!n)return;let{el:s,contentEl:c,panzoom:d,thumbElSrc:m}=n;if(!s||!m||!c||!d||d.isContentLoading||d.state===oe.Init||d.state===oe.Destroy)return;d.updateMetrics();let g=this.getZoomInfo(n);if(!g)return;this.instance.state=Ce.CustomClosing,i.classList.remove(mn),i.classList.add("is-zooming-out"),c.style.backgroundImage=`url('${m}')`;let p=i.getBoundingClientRect();(((e=window.visualViewport)===null||e===void 0?void 0:e.scale)||1)===1&&Object.assign(i.style,{position:"absolute",top:`${i.offsetTop+window.scrollY}px`,left:`${i.offsetLeft+window.scrollX}px`,bottom:"auto",right:"auto",width:`${p.width}px`,height:`${p.height}px`,overflow:"hidden"});let{x:h,y:b,scale:v,opacity:y}=g;if(y){let P=((E,T,k,L)=>{let q=T-E,We=L-k;return qe=>k+((qe-E)/q*We||0)})(d.scale,v,1,0);d.on("afterTransform",()=>{c.style.opacity=P(d.scale)+""})}d.on("endAnimation",()=>{t.destroy()}),d.target.a=v,d.target.b=0,d.target.c=0,d.target.d=v,d.panTo({x:h,y:b,scale:v,friction:y?.2:.33,ignoreBounds:!0}),d.isResting&&t.destroy()}setImage(e,t){let i=this.instance;e.src=t,this.process(e,t).then(n=>{let{contentEl:s,imageEl:c,thumbElSrc:d,el:m}=e;if(i.isClosing()||!s||!c)return;s.offsetHeight;let g=!!i.isOpeningSlide(e)&&this.getZoomInfo(e);if(this.option("protected")&&m){m.addEventListener("contextmenu",b=>{b.preventDefault()});let h=document.createElement("div");z(h,"fancybox-protected"),s.appendChild(h)}if(d&&g){let h=n.contentRect,b=Math.max(h.fullWidth,h.fullHeight),v=null;!g.opacity&&b>1200&&(v=document.createElement("img"),z(v,"fancybox-ghost"),v.src=d,s.appendChild(v));let y=()=>{v&&(z(v,"f-fadeFastOut"),setTimeout(()=>{v&&(v.remove(),v=null)},200))};(p=d,new Promise((P,E)=>{let T=new Image;T.onload=P,T.onerror=E,T.src=p})).then(()=>{i.hideLoading(e),e.state=Te.Opening,this.instance.emit("reveal",e),this.zoomIn(e).then(()=>{y(),this.instance.done(e)},()=>{}),v&&setTimeout(()=>{y()},b>2500?800:200)},()=>{i.hideLoading(e),i.revealContent(e)})}else{let h=this.optionFor(e,"initialSize"),b=this.optionFor(e,"zoom"),v={event:i.prevMouseMoveEvent||i.options.event,friction:b?.12:0},y=i.optionFor(e,"showClass")||void 0,P=!0;i.isOpeningSlide(e)&&(h==="full"?n.zoomToFull(v):h==="cover"?n.zoomToCover(v):h==="max"?n.zoomToMax(v):P=!1,n.stop("current")),P&&y&&(y=n.isDragging?"f-fadeIn":""),i.hideLoading(e),i.revealContent(e,y)}var p},()=>{i.setError(e,"{{IMAGE_ERROR}}")})}process(e,t){return new Promise((i,n)=>{var s;let c=this.instance,d=e.el;c.clearContent(e),c.showLoading(e);let m=this.optionFor(e,"content");if(typeof m=="string"&&(m=at(m)),!m||!je(m)){if(m=document.createElement("img"),m instanceof HTMLImageElement){let g="",p=e.caption;g=typeof p=="string"&&p?p.replace(/<[^>]+>/gi,"").substring(0,1e3):`Image ${e.index+1} of ${((s=c.carousel)===null||s===void 0?void 0:s.pages.length)||1}`,m.src=t||"",m.alt=g,m.draggable=!1,e.srcset&&m.setAttribute("srcset",e.srcset),this.instance.isOpeningSlide(e)&&(m.fetchPriority="high")}e.sizes&&m.setAttribute("sizes",e.sizes)}z(m,"fancybox-image"),e.imageEl=m,c.setContent(e,m,!1),e.panzoom=new ei(d,Oe({transformParent:!0},this.option("Panzoom")||{},{content:m,width:(g,p)=>c.optionFor(e,"width","auto",p)||"auto",height:(g,p)=>c.optionFor(e,"height","auto",p)||"auto",wheel:()=>{let g=c.option("wheel");return(g==="zoom"||g=="pan")&&g},click:(g,p)=>{var h,b;if(c.isCompact||c.isClosing()||e.index!==((h=c.getSlide())===null||h===void 0?void 0:h.index))return!1;if(p){let y=p.composedPath()[0];if(["A","BUTTON","TEXTAREA","OPTION","INPUT","SELECT","VIDEO"].includes(y.nodeName))return!1}let v=!p||p.target&&((b=e.contentEl)===null||b===void 0?void 0:b.contains(p.target));return c.option(v?"contentClick":"backdropClick")||!1},dblClick:()=>c.isCompact?"toggleZoom":c.option("contentDblClick")||!1,spinner:!1,panOnlyZoomed:!0,wheelLimit:1/0,on:{ready:g=>{i(g)},error:()=>{n()},destroy:()=>{n()}}}))})}zoomIn(e){return new Promise((t,i)=>{let n=this.instance,s=n.container,{panzoom:c,contentEl:d,el:m}=e;c&&c.updateMetrics();let g=this.getZoomInfo(e);if(!(g&&m&&d&&c&&s))return void i();let{x:p,y:h,scale:b,opacity:v}=g,y=()=>{e.state!==Te.Closing&&(v&&(d.style.opacity=Math.max(Math.min(1,1-(1-c.scale)/(1-b)),0)+""),c.scale>=1&&c.scale>c.targetScale-.1&&t(c))},P=k=>{(k.scale<.99||k.scale>1.01)&&!k.isDragging||(ne(s,mn),d.style.opacity="",k.off("endAnimation",P),k.off("touchStart",P),k.off("afterTransform",y),t(k))};c.on("endAnimation",P),c.on("touchStart",P),c.on("afterTransform",y),c.on(["error","destroy"],()=>{i()}),c.panTo({x:p,y:h,scale:b,friction:0,ignoreBounds:!0}),c.stop("current");let E={event:c.panMode==="mousemove"?n.prevMouseMoveEvent||n.options.event:void 0},T=this.optionFor(e,"initialSize");z(s,mn),n.hideLoading(e),T==="full"?c.zoomToFull(E):T==="cover"?c.zoomToCover(E):T==="max"?c.zoomToMax(E):c.reset(.172)})}getZoomInfo(e){let{el:t,imageEl:i,thumbEl:n,panzoom:s}=e,c=this.instance,d=c.container;if(!t||!i||!n||!s||tr(n)<3||!this.optionFor(e,"zoom")||!d||c.state===Ce.Destroy||getComputedStyle(d).getPropertyValue("--f-images-zoom")==="0")return!1;let m=window.visualViewport||null;if((m?m.scale:1)!==1)return!1;let{top:g,left:p,width:h,height:b}=n.getBoundingClientRect(),{top:v,left:y,fitWidth:P,fitHeight:E}=s.contentRect;if(!(h&&b&&P&&E))return!1;let T=s.container.getBoundingClientRect();y+=T.left,v+=T.top;let k=-1*(y+.5*P-(p+.5*h)),L=-1*(v+.5*E-(g+.5*b)),q=h/P,We=this.option("zoomOpacity")||!1;return We==="auto"&&(We=Math.abs(h/b-P/E)>.1),{x:k,y:L,scale:q,opacity:We}}attach(){let e=this,t=e.instance;t.on("Carousel.change",e.onChange),t.on("Carousel.createSlide",e.onCreateSlide),t.on("Carousel.removeSlide",e.onRemoveSlide),t.on("close",e.onClose)}detach(){let e=this,t=e.instance;t.off("Carousel.change",e.onChange),t.off("Carousel.createSlide",e.onCreateSlide),t.off("Carousel.removeSlide",e.onRemoveSlide),t.off("close",e.onClose)}};Object.defineProperty(_n,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{initialSize:"fit",Panzoom:{maxScale:1},protected:!1,zoom:!0,zoomOpacity:"auto"}}),typeof SuppressedError=="function"&&SuppressedError;var co="html",Ra="image",mo="map",bt="youtube",Yt="vimeo",Ti="html5video",Na=(a,e={})=>{let t=new URL(a),i=new URLSearchParams(t.search),n=new URLSearchParams;for(let[d,m]of[...i,...Object.entries(e)]){let g=m+"";if(d==="t"){let p=g.match(/((\d*)m)?(\d*)s?/);p&&n.set("start",60*parseInt(p[2]||"0")+parseInt(p[3]||"0")+"")}else n.set(d,g)}let s=n+"",c=a.match(/#t=((.*)?\d+s)/);return c&&(s+=`#t=${c[1]}`),s},ps={ajax:null,autoSize:!0,iframeAttr:{allow:"autoplay; fullscreen",scrolling:"auto"},preload:!0,videoAutoplay:!0,videoRatio:16/9,videoTpl:`<video class="fancybox__html5video" playsinline controls controlsList="nodownload" poster="{{poster}}">
  <source src="{{src}}" type="{{format}}" />Sorry, your browser doesn't support embedded videos.</video>`,videoFormat:"",vimeo:{byline:1,color:"00adef",controls:1,dnt:1,muted:0},youtube:{controls:1,enablejsapi:1,nocookie:1,rel:0,fs:1}},us=["image","html","ajax","inline","clone","iframe","map","pdf","html5video","youtube","vimeo"],xn=class extends Ae{onBeforeInitSlide(e,t,i){this.processType(i)}onCreateSlide(e,t,i){this.setContent(i)}onClearContent(e,t){t.xhr&&(t.xhr.abort(),t.xhr=null);let i=t.iframeEl;i&&(i.onload=i.onerror=null,i.src="//about:blank",t.iframeEl=null);let n=t.contentEl,s=t.placeholderEl;if(t.type==="inline"&&n&&s)n.classList.remove("fancybox__content"),getComputedStyle(n).getPropertyValue("display")!=="none"&&(n.style.display="none"),setTimeout(()=>{s&&(n&&s.parentNode&&s.parentNode.insertBefore(n,s),s.remove())},0),t.contentEl=void 0,t.placeholderEl=void 0;else for(;t.el&&t.el.firstChild;)t.el.removeChild(t.el.firstChild)}onSelectSlide(e,t,i){i.state===Te.Ready&&this.playVideo()}onUnselectSlide(e,t,i){var n,s;if(i.type===Ti){try{(s=(n=i.el)===null||n===void 0?void 0:n.querySelector("video"))===null||s===void 0||s.pause()}catch{}return}let c;i.type===Yt?c={method:"pause",value:"true"}:i.type===bt&&(c={event:"command",func:"pauseVideo"}),c&&i.iframeEl&&i.iframeEl.contentWindow&&i.iframeEl.contentWindow.postMessage(JSON.stringify(c),"*"),i.poller&&clearTimeout(i.poller)}onDone(e,t){e.isCurrentSlide(t)&&!e.isClosing()&&this.playVideo()}onRefresh(e,t){t.slides.forEach(i=>{i.el&&(this.resizeIframe(i),this.setAspectRatio(i))})}onMessage(e){try{let t=JSON.parse(e.data);if(e.origin==="https://player.vimeo.com"){if(t.event==="ready")for(let i of Array.from(document.getElementsByClassName("fancybox__iframe")))i instanceof HTMLIFrameElement&&i.contentWindow===e.source&&(i.dataset.ready="true")}else if(e.origin.match(/^https:\/\/(www.)?youtube(-nocookie)?.com$/)&&t.event==="onReady"){let i=document.getElementById(t.id);i&&(i.dataset.ready="true")}}catch{}}loadAjaxContent(e){let t=this.instance.optionFor(e,"src")||"";this.instance.showLoading(e);let i=this.instance,n=new XMLHttpRequest;i.showLoading(e),n.onreadystatechange=function(){n.readyState===XMLHttpRequest.DONE&&i.state===Ce.Ready&&(i.hideLoading(e),n.status===200?i.setContent(e,n.responseText):i.setError(e,n.status===404?"{{AJAX_NOT_FOUND}}":"{{AJAX_FORBIDDEN}}"))};let s=e.ajax||null;n.open(s?"POST":"GET",t+""),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.send(s),e.xhr=n}setInlineContent(e){let t=null;if(je(e.src))t=e.src;else if(typeof e.src=="string"){let i=e.src.split("#",2).pop();t=i?document.getElementById(i):null}if(t){if(e.type==="clone"||t.closest(".fancybox__slide")){t=t.cloneNode(!0);let i=t.dataset.animationName;i&&(t.classList.remove(i),delete t.dataset.animationName);let n=t.getAttribute("id");n=n?`${n}--clone`:`clone-${this.instance.id}-${e.index}`,t.setAttribute("id",n)}else if(t.parentNode){let i=document.createElement("div");i.classList.add("fancybox-placeholder"),t.parentNode.insertBefore(i,t),e.placeholderEl=i}this.instance.setContent(e,t)}else this.instance.setError(e,"{{ELEMENT_NOT_FOUND}}")}setIframeContent(e){let{src:t,el:i}=e;if(!t||typeof t!="string"||!i)return;i.classList.add("is-loading");let n=this.instance,s=document.createElement("iframe");s.className="fancybox__iframe",s.setAttribute("id",`fancybox__iframe_${n.id}_${e.index}`);for(let[d,m]of Object.entries(this.optionFor(e,"iframeAttr")||{}))s.setAttribute(d,m);s.onerror=()=>{n.setError(e,"{{IFRAME_ERROR}}")},e.iframeEl=s;let c=this.optionFor(e,"preload");if(e.type!=="iframe"||c===!1)return s.setAttribute("src",e.src+""),n.setContent(e,s,!1),this.resizeIframe(e),void n.revealContent(e);n.showLoading(e),s.onload=()=>{if(!s.src.length)return;let d=s.dataset.ready!=="true";s.dataset.ready="true",this.resizeIframe(e),d?n.revealContent(e):n.hideLoading(e)},s.setAttribute("src",t),n.setContent(e,s,!1)}resizeIframe(e){let{type:t,iframeEl:i}=e;if(t===bt||t===Yt)return;let n=i?.parentElement;if(!i||!n)return;let s=e.autoSize;s===void 0&&(s=this.optionFor(e,"autoSize"));let c=e.width||0,d=e.height||0;c&&d&&(s=!1);let m=n&&n.style;if(e.preload!==!1&&s!==!1&&m)try{let g=window.getComputedStyle(n),p=parseFloat(g.paddingLeft)+parseFloat(g.paddingRight),h=parseFloat(g.paddingTop)+parseFloat(g.paddingBottom),b=i.contentWindow;if(b){let v=b.document,y=v.getElementsByTagName(co)[0],P=v.body;m.width="",P.style.overflow="hidden",c=c||y.scrollWidth+p,m.width=`${c}px`,P.style.overflow="",m.flex="0 0 auto",m.height=`${P.scrollHeight}px`,d=y.scrollHeight+h}}catch{}if(c||d){let g={flex:"0 1 auto",width:"",height:""};c&&c!=="auto"&&(g.width=`${c}px`),d&&d!=="auto"&&(g.height=`${d}px`),Object.assign(m,g)}}playVideo(){let e=this.instance.getSlide();if(!e)return;let{el:t}=e;if(!t||!t.offsetParent||!this.optionFor(e,"videoAutoplay"))return;if(e.type===Ti)try{let n=t.querySelector("video");if(n){let s=n.play();s!==void 0&&s.then(()=>{}).catch(c=>{n.muted=!0,n.play()})}}catch{}if(e.type!==bt&&e.type!==Yt)return;let i=()=>{if(e.iframeEl&&e.iframeEl.contentWindow){let n;if(e.iframeEl.dataset.ready==="true")return n=e.type===bt?{event:"command",func:"playVideo"}:{method:"play",value:"true"},n&&e.iframeEl.contentWindow.postMessage(JSON.stringify(n),"*"),void(e.poller=void 0);e.type===bt&&(n={event:"listening",id:e.iframeEl.getAttribute("id")},e.iframeEl.contentWindow.postMessage(JSON.stringify(n),"*"))}e.poller=setTimeout(i,250)};i()}processType(e){if(e.html)return e.type=co,e.src=e.html,void(e.html="");let t=this.instance.optionFor(e,"src","");if(!t||typeof t!="string")return;let i=e.type,n=null;if(n=t.match(/(youtube\.com|youtu\.be|youtube\-nocookie\.com)\/(?:watch\?(?:.*&)?v=|v\/|u\/|shorts\/|embed\/?)?(videoseries\?list=(?:.*)|[\w-]{11}|\?listType=(?:.*)&list=(?:.*))(?:.*)/i)){let s=this.optionFor(e,bt),{nocookie:c}=s,d=function(h,b){var v={};for(var y in h)Object.prototype.hasOwnProperty.call(h,y)&&b.indexOf(y)<0&&(v[y]=h[y]);if(h!=null&&typeof Object.getOwnPropertySymbols=="function"){var P=0;for(y=Object.getOwnPropertySymbols(h);P<y.length;P++)b.indexOf(y[P])<0&&Object.prototype.propertyIsEnumerable.call(h,y[P])&&(v[y[P]]=h[y[P]])}return v}(s,["nocookie"]),m=`www.youtube${c?"-nocookie":""}.com`,g=Na(t,d),p=encodeURIComponent(n[2]);e.videoId=p,e.src=`https://${m}/embed/${p}?${g}`,e.thumbSrc=e.thumbSrc||`https://i.ytimg.com/vi/${p}/mqdefault.jpg`,i=bt}else if(n=t.match(/^.+vimeo.com\/(?:\/)?([\d]+)((\/|\?h=)([a-z0-9]+))?(.*)?/)){let s=Na(t,this.optionFor(e,Yt)),c=encodeURIComponent(n[1]),d=n[4]||"";e.videoId=c,e.src=`https://player.vimeo.com/video/${c}?${d?`h=${d}${s?"&":""}`:""}${s}`,i=Yt}if(!i&&e.triggerEl){let s=e.triggerEl.dataset.type;us.includes(s)&&(i=s)}i||typeof t=="string"&&(t.charAt(0)==="#"?i="inline":(n=t.match(/\.(mp4|mov|ogv|webm)((\?|#).*)?$/i))?(i=Ti,e.videoFormat=e.videoFormat||"video/"+(n[1]==="ogv"?"ogg":n[1])):t.match(/(^data:image\/[a-z0-9+\/=]*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\?|#).*)?$)/i)?i=Ra:t.match(/\.(pdf)((\?|#).*)?$/i)&&(i="pdf")),(n=t.match(/(?:maps\.)?google\.([a-z]{2,3}(?:\.[a-z]{2})?)\/(?:(?:(?:maps\/(?:place\/(?:.*)\/)?\@(.*),(\d+.?\d+?)z))|(?:\?ll=))(.*)?/i))?(e.src=`https://maps.google.${n[1]}/?ll=${(n[2]?n[2]+"&z="+Math.floor(parseFloat(n[3]))+(n[4]?n[4].replace(/^\//,"&"):""):n[4]+"").replace(/\?/,"&")}&output=${n[4]&&n[4].indexOf("layer=c")>0?"svembed":"embed"}`,i=mo):(n=t.match(/(?:maps\.)?google\.([a-z]{2,3}(?:\.[a-z]{2})?)\/(?:maps\/search\/)(.*)/i))&&(e.src=`https://maps.google.${n[1]}/maps?q=${n[2].replace("query=","q=").replace("api=1","")}&output=embed`,i=mo),i=i||this.instance.option("defaultType"),e.type=i,i===Ra&&(e.thumbSrc=e.thumbSrc||e.src)}setContent(e){let t=this.instance.optionFor(e,"src")||"";if(e&&e.type&&t){switch(e.type){case co:this.instance.setContent(e,t);break;case Ti:let i=this.option("videoTpl");i&&this.instance.setContent(e,i.replace(/\{\{src\}\}/gi,t+"").replace(/\{\{format\}\}/gi,this.optionFor(e,"videoFormat")||"").replace(/\{\{poster\}\}/gi,e.poster||e.thumbSrc||""));break;case"inline":case"clone":this.setInlineContent(e);break;case"ajax":this.loadAjaxContent(e);break;case"pdf":case mo:case bt:case Yt:e.preload=!1;case"iframe":this.setIframeContent(e)}this.setAspectRatio(e)}}setAspectRatio(e){let t=e.contentEl;if(!(e.el&&t&&e.type&&[bt,Yt,Ti].includes(e.type)))return;let i,n=e.width||"auto",s=e.height||"auto";if(n==="auto"||s==="auto"){i=this.optionFor(e,"videoRatio");let g=(i+"").match(/(\d+)\s*\/\s?(\d+)/);i=g&&g.length>2?parseFloat(g[1])/parseFloat(g[2]):parseFloat(i+"")}else n&&s&&(i=n/s);if(!i)return;t.style.aspectRatio="",t.style.width="",t.style.height="",t.offsetHeight;let c=t.getBoundingClientRect(),d=c.width||1,m=c.height||1;t.style.aspectRatio=i+"",i<d/m?(s=s==="auto"?m:Math.min(m,s),t.style.width="auto",t.style.height=`${s}px`):(n=n==="auto"?d:Math.min(d,n),t.style.width=`${n}px`,t.style.height="auto")}attach(){let e=this,t=e.instance;t.on("Carousel.beforeInitSlide",e.onBeforeInitSlide),t.on("Carousel.createSlide",e.onCreateSlide),t.on("Carousel.selectSlide",e.onSelectSlide),t.on("Carousel.unselectSlide",e.onUnselectSlide),t.on("Carousel.Panzoom.refresh",e.onRefresh),t.on("done",e.onDone),t.on("clearContent",e.onClearContent),window.addEventListener("message",e.onMessage)}detach(){let e=this,t=e.instance;t.off("Carousel.beforeInitSlide",e.onBeforeInitSlide),t.off("Carousel.createSlide",e.onCreateSlide),t.off("Carousel.selectSlide",e.onSelectSlide),t.off("Carousel.unselectSlide",e.onUnselectSlide),t.off("Carousel.Panzoom.refresh",e.onRefresh),t.off("done",e.onDone),t.off("clearContent",e.onClearContent),window.removeEventListener("message",e.onMessage)}};Object.defineProperty(xn,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:ps});var pn="play",un="pause",Fi="ready",wn=class extends Ae{constructor(){super(...arguments),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:Fi}),Object.defineProperty(this,"inHover",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"timer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"progressBar",{enumerable:!0,configurable:!0,writable:!0,value:null})}get isActive(){return this.state!==Fi}onReady(e){this.option("autoStart")&&(e.isInfinite||e.page<e.pages.length-1)&&this.start()}onChange(){this.removeProgressBar(),this.pause()}onSettle(){this.resume()}onVisibilityChange(){document.visibilityState==="visible"?this.resume():this.pause()}onMouseEnter(){this.inHover=!0,this.pause()}onMouseLeave(){var e;this.inHover=!1,!((e=this.instance.panzoom)===null||e===void 0)&&e.isResting&&this.resume()}onTimerEnd(){let e=this.instance;this.state==="play"&&(e.isInfinite||e.page!==e.pages.length-1?e.slideNext():e.slideTo(0))}removeProgressBar(){this.progressBar&&(this.progressBar.remove(),this.progressBar=null)}createProgressBar(){var e;if(!this.option("showProgress"))return null;this.removeProgressBar();let t=this.instance,i=((e=t.pages[t.page])===null||e===void 0?void 0:e.slides)||[],n=this.option("progressParentEl");if(n||(n=(i.length===1?i[0].el:null)||t.viewport),!n)return null;let s=document.createElement("div");return z(s,"f-progress"),n.prepend(s),this.progressBar=s,s.offsetHeight,s}set(){let e=this,t=e.instance;if(t.pages.length<2||e.timer)return;let i=e.option("timeout");e.state=pn,z(t.container,"has-autoplay");let n=e.createProgressBar();n&&(n.style.transitionDuration=`${i}ms`,n.style.transform="scaleX(1)"),e.timer=setTimeout(()=>{e.timer=null,e.inHover||e.onTimerEnd()},i),e.emit("set")}clear(){let e=this;e.timer&&(clearTimeout(e.timer),e.timer=null),e.removeProgressBar()}start(){let e=this;if(e.set(),e.state!==Fi){if(e.option("pauseOnHover")){let t=e.instance.container;t.addEventListener("mouseenter",e.onMouseEnter,!1),t.addEventListener("mouseleave",e.onMouseLeave,!1)}document.addEventListener("visibilitychange",e.onVisibilityChange,!1),e.emit("start")}}stop(){let e=this,t=e.state,i=e.instance.container;e.clear(),e.state=Fi,i.removeEventListener("mouseenter",e.onMouseEnter,!1),i.removeEventListener("mouseleave",e.onMouseLeave,!1),document.removeEventListener("visibilitychange",e.onVisibilityChange,!1),ne(i,"has-autoplay"),t!==Fi&&e.emit("stop")}pause(){let e=this;e.state===pn&&(e.state=un,e.clear(),e.emit(un))}resume(){let e=this,t=e.instance;if(t.isInfinite||t.page!==t.pages.length-1)if(e.state!==pn){if(e.state===un&&!e.inHover){let i=new Event("resume",{bubbles:!0,cancelable:!0});e.emit("resume",i),i.defaultPrevented||e.set()}}else e.set();else e.stop()}toggle(){this.state===pn||this.state===un?this.stop():this.start()}attach(){let e=this,t=e.instance;t.on("ready",e.onReady),t.on("Panzoom.startAnimation",e.onChange),t.on("Panzoom.endAnimation",e.onSettle),t.on("Panzoom.touchMove",e.onChange)}detach(){let e=this,t=e.instance;t.off("ready",e.onReady),t.off("Panzoom.startAnimation",e.onChange),t.off("Panzoom.endAnimation",e.onSettle),t.off("Panzoom.touchMove",e.onChange),e.stop()}};Object.defineProperty(wn,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{autoStart:!0,pauseOnHover:!0,progressParentEl:null,showProgress:!0,timeout:3e3}});var Cn=class extends Ae{constructor(){super(...arguments),Object.defineProperty(this,"ref",{enumerable:!0,configurable:!0,writable:!0,value:null})}onPrepare(e){let t=e.carousel;if(!t)return;let i=e.container;i&&(t.options.Autoplay=Oe({autoStart:!1},this.option("Autoplay")||{},{pauseOnHover:!1,timeout:this.option("timeout"),progressParentEl:()=>this.option("progressParentEl")||null,on:{start:()=>{e.emit("startSlideshow")},set:n=>{var s;i.classList.add("has-slideshow"),((s=e.getSlide())===null||s===void 0?void 0:s.state)!==Te.Ready&&n.pause()},stop:()=>{i.classList.remove("has-slideshow"),e.isCompact||e.endIdle(),e.emit("endSlideshow")},resume:(n,s)=>{var c,d,m;!s||!s.cancelable||((c=e.getSlide())===null||c===void 0?void 0:c.state)===Te.Ready&&(!((m=(d=e.carousel)===null||d===void 0?void 0:d.panzoom)===null||m===void 0)&&m.isResting)||s.preventDefault()}}}),t.attachPlugins({Autoplay:wn}),this.ref=t.plugins.Autoplay)}onReady(e){let t=e.carousel,i=this.ref;i&&t&&this.option("playOnStart")&&(t.isInfinite||t.page<t.pages.length-1)&&i.start()}onDone(e,t){let i=this.ref,n=e.carousel;if(!i||!n)return;let s=t.panzoom;s&&s.on("startAnimation",()=>{e.isCurrentSlide(t)&&i.stop()}),e.isCurrentSlide(t)&&i.resume()}onKeydown(e,t){var i;let n=this.ref;n&&t===this.option("key")&&((i=document.activeElement)===null||i===void 0?void 0:i.nodeName)!=="BUTTON"&&n.toggle()}attach(){let e=this,t=e.instance;t.on("Carousel.init",e.onPrepare),t.on("Carousel.ready",e.onReady),t.on("done",e.onDone),t.on("keydown",e.onKeydown)}detach(){let e=this,t=e.instance;t.off("Carousel.init",e.onPrepare),t.off("Carousel.ready",e.onReady),t.off("done",e.onDone),t.off("keydown",e.onKeydown)}};Object.defineProperty(Cn,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{key:" ",playOnStart:!1,progressParentEl:a=>{var e;return((e=a.instance.container)===null||e===void 0?void 0:e.querySelector(".fancybox__toolbar [data-fancybox-toggle-slideshow]"))||a.instance.container},timeout:3e3}});var sr={classes:{container:"f-thumbs f-carousel__thumbs",viewport:"f-thumbs__viewport",track:"f-thumbs__track",slide:"f-thumbs__slide",isResting:"is-resting",isSelected:"is-selected",isLoading:"is-loading",hasThumbs:"has-thumbs"},minCount:2,parentEl:null,thumbTpl:'<button class="f-thumbs__slide__button" tabindex="0" type="button" aria-label="{{GOTO}}" data-carousel-index="%i"><img class="f-thumbs__slide__img" data-lazy-src="{{%s}}" alt="" /></button>',type:"modern"},St;(function(a){a[a.Init=0]="Init",a[a.Ready=1]="Ready",a[a.Hidden=2]="Hidden"})(St||(St={}));var La="isResting",gn="thumbWidth",gi="thumbHeight",ot="thumbClipWidth",lr=class extends Ae{constructor(){super(...arguments),Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:"modern"}),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"track",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"carousel",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"thumbWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"thumbClipWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"thumbHeight",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"thumbGap",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"thumbExtraGap",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:St.Init})}get isModern(){return this.type==="modern"}onInitSlide(a,e){let t=e.el?e.el.dataset:void 0;t&&(e.thumbSrc=t.thumbSrc||e.thumbSrc||"",e[ot]=parseFloat(t[ot]||"")||e[ot]||0,e[gi]=parseFloat(t.thumbHeight||"")||e[gi]||0),this.addSlide(e)}onInitSlides(){this.build()}onChange(){var a;if(!this.isModern)return;let e=this.container,t=this.instance,i=t.panzoom,n=this.carousel,s=n?n.panzoom:null,c=t.page;if(i&&n&&s){if(i.isDragging){ne(e,this.cn(La));let d=((a=n.pages[c])===null||a===void 0?void 0:a.pos)||0;d+=t.getProgress(c)*(this[ot]+this.thumbGap);let m=s.getBounds();-1*d>m.x.min&&-1*d<m.x.max&&s.panTo({x:-1*d,friction:.12})}else rt(e,this.cn(La),i.isResting);this.shiftModern()}}onRefresh(){this.updateProps();for(let a of this.instance.slides||[])this.resizeModernSlide(a);this.shiftModern()}isDisabled(){let a=this.option("minCount")||0;if(a){let t=this.instance,i=0;for(let n of t.slides||[])n.thumbSrc&&i++;if(i<a)return!0}let e=this.option("type");return["modern","classic"].indexOf(e)<0}getThumb(a){let e=this.option("thumbTpl")||"";return{html:this.instance.localize(e,[["%i",a.index],["%d",a.index+1],["%s",a.thumbSrc||"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"]])}}addSlide(a){let e=this.carousel;e&&e.addSlide(a.index,this.getThumb(a))}getSlides(){let a=[];for(let e of this.instance.slides||[])a.push(this.getThumb(e));return a}resizeModernSlide(a){this.isModern&&(a[gn]=a[ot]&&a[gi]?Math.round(this[gi]*(a[ot]/a[gi])):this[gn])}updateProps(){let a=this.container;if(!a)return;let e=t=>parseFloat(getComputedStyle(a).getPropertyValue("--f-thumb-"+t))||0;this.thumbGap=e("gap"),this.thumbExtraGap=e("extra-gap"),this[gn]=e("width")||40,this[ot]=e("clip-width")||40,this[gi]=e("height")||40}build(){let a=this;if(a.state!==St.Init)return;if(a.isDisabled())return void a.emit("disabled");let e=a.instance,t=e.container,i=a.getSlides(),n=a.option("type");a.type=n;let s=a.option("parentEl"),c=a.cn("container"),d=a.cn("track"),m=s?.querySelector("."+c);m||(m=document.createElement("div"),z(m,c),s?s.appendChild(m):t.after(m)),z(m,`is-${n}`),z(t,a.cn("hasThumbs")),a.container=m,a.updateProps();let g=m.querySelector("."+d);g||(g=document.createElement("div"),z(g,a.cn("track")),m.appendChild(g)),a.track=g;let p=Oe({},{track:g,infinite:!1,center:!0,fill:n==="classic",dragFree:!0,slidesPerPage:1,transition:!1,preload:.25,friction:.12,Panzoom:{maxVelocity:0},Dots:!1,Navigation:!1,classes:{container:"f-thumbs",viewport:"f-thumbs__viewport",track:"f-thumbs__track",slide:"f-thumbs__slide"}},a.option("Carousel")||{},{Sync:{target:e},slides:i}),h=new e.constructor(m,p);h.on("createSlide",(b,v)=>{a.setProps(v.index),a.emit("createSlide",v,v.el)}),h.on("ready",()=>{a.shiftModern(),a.emit("ready")}),h.on("refresh",()=>{a.shiftModern()}),h.on("Panzoom.click",(b,v,y)=>{a.onClick(y)}),a.carousel=h,a.state=St.Ready}onClick(a){a.preventDefault(),a.stopPropagation();let e=this.instance,{pages:t,page:i}=e,n=P=>{if(P){let E=P.closest("[data-carousel-index]");if(E)return[parseInt(E.dataset.carouselIndex||"",10)||0,E]}return[-1,void 0]},s=(P,E)=>{let T=document.elementFromPoint(P,E);return T?n(T):[-1,void 0]},[c,d]=n(a.target);if(c>-1)return;let m=this[ot],g=a.clientX,p=a.clientY,[h,b]=s(g-m,p),[v,y]=s(g+m,p);b&&y?(c=Math.abs(g-b.getBoundingClientRect().right)<Math.abs(g-y.getBoundingClientRect().left)?h:v,c===i&&(c=c===h?v:h)):b?c=h:y&&(c=v),c>-1&&t[c]&&e.slideTo(c)}getShift(a){var e;let t=this,{instance:i}=t,n=t.carousel;if(!i||!n)return 0;let s=t[gn],c=t[ot],d=t.thumbGap,m=t.thumbExtraGap;if(!(!((e=n.slides[a])===null||e===void 0)&&e.el))return 0;let g=.5*(s-c),p=i.pages.length-1,h=i.getProgress(0),b=i.getProgress(p),v=i.getProgress(a,!1,!0),y=0,P=g+m+d,E=h<0&&h>-1,T=b>0&&b<1;return a===0?(y=P*Math.abs(h),T&&h===1&&(y-=P*Math.abs(b))):a===p?(y=P*Math.abs(b)*-1,E&&b===-1&&(y+=P*Math.abs(h))):E||T?(y=-1*P,y+=P*Math.abs(h),y+=P*(1-Math.abs(b))):y=P*v,y}setProps(a){var e;let t=this;if(!t.isModern)return;let{instance:i}=t,n=t.carousel;if(i&&n){let s=(e=n.slides[a])===null||e===void 0?void 0:e.el;if(s&&s.childNodes.length){let c=j(1-Math.abs(i.getProgress(a))),d=j(t.getShift(a));s.style.setProperty("--progress",c?c+"":""),s.style.setProperty("--shift",d+"")}}}shiftModern(){let a=this;if(!a.isModern)return;let{instance:e,track:t}=a,i=e.panzoom,n=a.carousel;if(!(e&&t&&i&&n)||i.state===oe.Init||i.state===oe.Destroy)return;for(let c of e.slides)a.setProps(c.index);let s=(a[ot]+a.thumbGap)*(n.slides.length||0);t.style.setProperty("--width",s+"")}cleanup(){let a=this;a.carousel&&a.carousel.destroy(),a.carousel=null,a.container&&a.container.remove(),a.container=null,a.track&&a.track.remove(),a.track=null,a.state=St.Init,ne(a.instance.container,a.cn("hasThumbs"))}attach(){let a=this,e=a.instance;e.on("initSlide",a.onInitSlide),e.state===be.Init?e.on("initSlides",a.onInitSlides):a.onInitSlides(),e.on(["change","Panzoom.afterTransform"],a.onChange),e.on("Panzoom.refresh",a.onRefresh)}detach(){let a=this,e=a.instance;e.off("initSlide",a.onInitSlide),e.off("initSlides",a.onInitSlides),e.off(["change","Panzoom.afterTransform"],a.onChange),e.off("Panzoom.refresh",a.onRefresh),a.cleanup()}};Object.defineProperty(lr,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:sr});var gs=Object.assign(Object.assign({},sr),{key:"t",showOnStart:!0,parentEl:null}),Va="is-masked",Ba="aria-hidden",En=class extends Ae{constructor(){super(...arguments),Object.defineProperty(this,"ref",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"hidden",{enumerable:!0,configurable:!0,writable:!0,value:!1})}get isEnabled(){let e=this.ref;return e&&!e.isDisabled()}get isHidden(){return this.hidden}onClick(e,t){t.stopPropagation()}onCreateSlide(e,t){var i,n,s;let c=((s=(n=(i=this.instance)===null||i===void 0?void 0:i.carousel)===null||n===void 0?void 0:n.slides[t.index])===null||s===void 0?void 0:s.type)||"",d=t.el;if(d&&c){let m=`for-${c}`;["video","youtube","vimeo","html5video"].includes(c)&&(m+=" for-video"),z(d,m)}}onInit(){var e;let t=this,i=t.instance,n=i.carousel;if(t.ref||!n)return;let s=t.option("parentEl")||i.footer||i.container;if(!s)return;let c=Oe({},t.options,{parentEl:s,classes:{container:"f-thumbs fancybox__thumbs"},Carousel:{Sync:{friction:i.option("Carousel.friction")||0}},on:{ready:d=>{let m=d.container;m&&this.hidden&&(t.refresh(),m.style.transition="none",t.hide(),m.offsetHeight,queueMicrotask(()=>{m.style.transition="",t.show()}))}}});c.Carousel=c.Carousel||{},c.Carousel.on=Oe(((e=t.options.Carousel)===null||e===void 0?void 0:e.on)||{},{click:this.onClick,createSlide:this.onCreateSlide}),n.options.Thumbs=c,n.attachPlugins({Thumbs:lr}),t.ref=n.plugins.Thumbs,t.option("showOnStart")||(t.ref.state=St.Hidden,t.hidden=!0)}onResize(){var e;let t=(e=this.ref)===null||e===void 0?void 0:e.container;t&&(t.style.maxHeight="")}onKeydown(e,t){let i=this.option("key");i&&i===t&&this.toggle()}toggle(){let e=this.ref;if(e&&!e.isDisabled())return e.state===St.Hidden?(e.state=St.Init,void e.build()):void(this.hidden?this.show():this.hide())}show(){let e=this.ref;if(!e||e.isDisabled())return;let t=e.container;t&&(this.refresh(),t.offsetHeight,t.removeAttribute(Ba),t.classList.remove(Va),this.hidden=!1)}hide(){let e=this.ref,t=e&&e.container;t&&(this.refresh(),t.offsetHeight,t.classList.add(Va),t.setAttribute(Ba,"true")),this.hidden=!0}refresh(){let e=this.ref;if(!e||!e.state)return;let t=e.container,i=t?.firstChild||null;t&&i&&i.childNodes.length&&(t.style.maxHeight=`${i.getBoundingClientRect().height}px`)}attach(){let e=this,t=e.instance;t.state===Ce.Init?t.on("Carousel.init",e.onInit):e.onInit(),t.on("resize",e.onResize),t.on("keydown",e.onKeydown)}detach(){var e;let t=this,i=t.instance;i.off("Carousel.init",t.onInit),i.off("resize",t.onResize),i.off("keydown",t.onKeydown),(e=i.carousel)===null||e===void 0||e.detachPlugins(["Thumbs"]),t.ref=null}};Object.defineProperty(En,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:gs});var po={panLeft:{icon:'<svg><path d="M5 12h14M5 12l6 6M5 12l6-6"/></svg>',change:{panX:-100}},panRight:{icon:'<svg><path d="M5 12h14M13 18l6-6M13 6l6 6"/></svg>',change:{panX:100}},panUp:{icon:'<svg><path d="M12 5v14M18 11l-6-6M6 11l6-6"/></svg>',change:{panY:-100}},panDown:{icon:'<svg><path d="M12 5v14M18 13l-6 6M6 13l6 6"/></svg>',change:{panY:100}},zoomIn:{icon:'<svg><circle cx="11" cy="11" r="7.5"/><path d="m21 21-4.35-4.35M11 8v6M8 11h6"/></svg>',action:"zoomIn"},zoomOut:{icon:'<svg><circle cx="11" cy="11" r="7.5"/><path d="m21 21-4.35-4.35M8 11h6"/></svg>',action:"zoomOut"},toggle1to1:{icon:'<svg><path d="M3.51 3.07c5.74.02 11.48-.02 17.22.02 1.37.1 2.34 1.64 2.18 3.13 0 4.08.02 8.16 0 12.23-.1 1.54-1.47 2.64-2.79 2.46-5.61-.01-11.24.02-16.86-.01-1.36-.12-2.33-1.65-2.17-3.14 0-4.07-.02-8.16 0-12.23.1-1.36 1.22-2.48 2.42-2.46Z"/><path d="M5.65 8.54h1.49v6.92m8.94-6.92h1.49v6.92M11.5 9.4v.02m0 5.18v0"/></svg>',action:"toggleZoom"},toggleZoom:{icon:'<svg><g><line x1="11" y1="8" x2="11" y2="14"></line></g><circle cx="11" cy="11" r="7.5"/><path d="m21 21-4.35-4.35M8 11h6"/></svg>',action:"toggleZoom"},iterateZoom:{icon:'<svg><g><line x1="11" y1="8" x2="11" y2="14"></line></g><circle cx="11" cy="11" r="7.5"/><path d="m21 21-4.35-4.35M8 11h6"/></svg>',action:"iterateZoom"},rotateCCW:{icon:'<svg><path d="M15 4.55a8 8 0 0 0-6 14.9M9 15v5H4M18.37 7.16v.01M13 19.94v.01M16.84 18.37v.01M19.37 15.1v.01M19.94 11v.01"/></svg>',action:"rotateCCW"},rotateCW:{icon:'<svg><path d="M9 4.55a8 8 0 0 1 6 14.9M15 15v5h5M5.63 7.16v.01M4.06 11v.01M4.63 15.1v.01M7.16 18.37v.01M11 19.94v.01"/></svg>',action:"rotateCW"},flipX:{icon:'<svg style="stroke-width: 1.3"><path d="M12 3v18M16 7v10h5L16 7M8 7v10H3L8 7"/></svg>',action:"flipX"},flipY:{icon:'<svg style="stroke-width: 1.3"><path d="M3 12h18M7 16h10L7 21v-5M7 8h10L7 3v5"/></svg>',action:"flipY"},fitX:{icon:'<svg><path d="M4 12V6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v6M10 18H3M21 18h-7M6 15l-3 3 3 3M18 15l3 3-3 3"/></svg>',action:"fitX"},fitY:{icon:'<svg><path d="M12 20H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h6M18 14v7M18 3v7M15 18l3 3 3-3M15 6l3-3 3 3"/></svg>',action:"fitY"},reset:{icon:'<svg><path d="M20 11A8.1 8.1 0 0 0 4.5 9M4 5v4h4M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4"/></svg>',action:"reset"},toggleFS:{icon:'<svg><g><path d="M14.5 9.5 21 3m0 0h-6m6 0v6M3 21l6.5-6.5M3 21v-6m0 6h6"/></g><g><path d="m14 10 7-7m-7 7h6m-6 0V4M3 21l7-7m0 0v6m0-6H4"/></g></svg>',action:"toggleFS"}},Jt;(function(a){a[a.Init=0]="Init",a[a.Ready=1]="Ready",a[a.Disabled=2]="Disabled"})(Jt||(Jt={}));var fs={absolute:"auto",display:{left:["infobar"],middle:[],right:["iterateZoom","slideshow","fullscreen","thumbs","close"]},enabled:"auto",items:{infobar:{tpl:'<div class="fancybox__infobar" tabindex="-1"><span data-fancybox-current-index></span>/<span data-fancybox-count></span></div>'},download:{tpl:'<a class="f-button" title="{{DOWNLOAD}}" data-fancybox-download href="javasript:;"><svg><path d="M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2M7 11l5 5 5-5M12 4v12"/></svg></a>'},prev:{tpl:'<button class="f-button" title="{{PREV}}" data-fancybox-prev><svg><path d="m15 6-6 6 6 6"/></svg></button>'},next:{tpl:'<button class="f-button" title="{{NEXT}}" data-fancybox-next><svg><path d="m9 6 6 6-6 6"/></svg></button>'},slideshow:{tpl:'<button class="f-button" title="{{TOGGLE_SLIDESHOW}}" data-fancybox-toggle-slideshow><svg><g><path d="M8 4v16l13 -8z"></path></g><g><path d="M8 4v15M17 4v15"/></g></svg></button>'},fullscreen:{tpl:'<button class="f-button" title="{{TOGGLE_FULLSCREEN}}" data-fancybox-toggle-fullscreen><svg><g><path d="M4 8V6a2 2 0 0 1 2-2h2M4 16v2a2 2 0 0 0 2 2h2M16 4h2a2 2 0 0 1 2 2v2M16 20h2a2 2 0 0 0 2-2v-2"/></g><g><path d="M15 19v-2a2 2 0 0 1 2-2h2M15 5v2a2 2 0 0 0 2 2h2M5 15h2a2 2 0 0 1 2 2v2M5 9h2a2 2 0 0 0 2-2V5"/></g></svg></button>'},thumbs:{tpl:'<button class="f-button" title="{{TOGGLE_THUMBS}}" data-fancybox-toggle-thumbs><svg><circle cx="5.5" cy="5.5" r="1"/><circle cx="12" cy="5.5" r="1"/><circle cx="18.5" cy="5.5" r="1"/><circle cx="5.5" cy="12" r="1"/><circle cx="12" cy="12" r="1"/><circle cx="18.5" cy="12" r="1"/><circle cx="5.5" cy="18.5" r="1"/><circle cx="12" cy="18.5" r="1"/><circle cx="18.5" cy="18.5" r="1"/></svg></button>'},close:{tpl:'<button class="f-button" title="{{CLOSE}}" data-fancybox-close><svg><path d="m19.5 4.5-15 15M4.5 4.5l15 15"/></svg></button>'}},parentEl:null},hs={tabindex:"-1",width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Ha="has-toolbar",uo="fancybox__toolbar",Pn=class extends Ae{constructor(){super(...arguments),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:Jt.Init}),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:null})}onReady(e){var t;if(!e.carousel)return;let i=this.option("display"),n=this.option("absolute"),s=this.option("enabled");if(s==="auto"){let g=this.instance.carousel,p=0;if(g)for(let h of g.slides)(h.panzoom||h.type==="image")&&p++;p||(s=!1)}s||(i=void 0);let c=0,d={left:[],middle:[],right:[]};if(i)for(let g of["left","middle","right"])for(let p of i[g]){let h=this.createEl(p);h&&((t=d[g])===null||t===void 0||t.push(h),c++)}let m=null;if(c&&(m=this.createContainer()),m){for(let[g,p]of Object.entries(d)){let h=document.createElement("div");z(h,uo+"__column is-"+g);for(let b of p)h.appendChild(b);n!=="auto"||g!=="middle"||p.length||(n=!0),m.appendChild(h)}n===!0&&z(m,"is-absolute"),this.state=Jt.Ready,this.onRefresh()}else this.state=Jt.Disabled}onClick(e){var t,i;let n=this.instance,s=n.getSlide(),c=s?.panzoom,d=e.target,m=d&&je(d)?d.dataset:null;if(!m)return;if(m.fancyboxToggleThumbs!==void 0)return e.preventDefault(),e.stopPropagation(),void((t=n.plugins.Thumbs)===null||t===void 0||t.toggle());if(m.fancyboxToggleFullscreen!==void 0)return e.preventDefault(),e.stopPropagation(),void this.instance.toggleFullscreen();if(m.fancyboxToggleSlideshow!==void 0){e.preventDefault(),e.stopPropagation();let h=(i=n.carousel)===null||i===void 0?void 0:i.plugins.Autoplay,b=h.isActive;return c&&c.panMode==="mousemove"&&!b&&c.reset(),void(b?h.stop():h.start())}let g=m.panzoomAction,p=m.panzoomChange;if((p||g)&&(e.preventDefault(),e.stopPropagation()),p){let h={};try{h=JSON.parse(p)}catch{}c&&c.applyChange(h)}else g&&c&&c[g]&&c[g]()}onChange(){this.onRefresh()}onRefresh(){if(this.instance.isClosing())return;let e=this.container;if(!e)return;let t=this.instance.getSlide();if(!t||t.state!==Te.Ready)return;let i=t&&!t.error&&t.panzoom;for(let c of e.querySelectorAll("[data-panzoom-action]"))i?(c.removeAttribute("disabled"),c.removeAttribute("tabindex")):(c.setAttribute("disabled",""),c.setAttribute("tabindex","-1"));let n=i&&i.canZoomIn(),s=i&&i.canZoomOut();for(let c of e.querySelectorAll('[data-panzoom-action="zoomIn"]'))n?(c.removeAttribute("disabled"),c.removeAttribute("tabindex")):(c.setAttribute("disabled",""),c.setAttribute("tabindex","-1"));for(let c of e.querySelectorAll('[data-panzoom-action="zoomOut"]'))s?(c.removeAttribute("disabled"),c.removeAttribute("tabindex")):(c.setAttribute("disabled",""),c.setAttribute("tabindex","-1"));for(let c of e.querySelectorAll('[data-panzoom-action="toggleZoom"],[data-panzoom-action="iterateZoom"]')){s||n?(c.removeAttribute("disabled"),c.removeAttribute("tabindex")):(c.setAttribute("disabled",""),c.setAttribute("tabindex","-1"));let d=c.querySelector("g");d&&(d.style.display=n?"":"none")}}onDone(e,t){var i;(i=t.panzoom)===null||i===void 0||i.on("afterTransform",()=>{this.instance.isCurrentSlide(t)&&this.onRefresh()}),this.instance.isCurrentSlide(t)&&this.onRefresh()}createContainer(){let e=this.instance.container;if(!e)return null;let t=this.option("parentEl")||e,i=t.querySelector("."+uo);return i||(i=document.createElement("div"),z(i,uo),t.prepend(i)),i.addEventListener("click",this.onClick,{passive:!1,capture:!0}),e&&z(e,Ha),this.container=i,i}createEl(e){let t=this.instance,i=t.carousel;if(!i||e==="toggleFS"||e==="fullscreen"&&!ir())return null;let n=null,s=i.slides.length||0,c=0,d=0;for(let g of i.slides)(g.panzoom||g.type==="image")&&c++,(g.type==="image"||g.downloadSrc)&&d++;if(s<2&&["infobar","prev","next"].includes(e))return n;if(po[e]!==void 0&&!c||e==="download"&&!d)return null;if(e==="thumbs"){let g=t.plugins.Thumbs;if(!g||!g.isEnabled)return null}if(e==="slideshow"&&(!i.plugins.Autoplay||s<2))return null;if(po[e]!==void 0){let g=po[e];n=document.createElement("button"),n.setAttribute("title",this.instance.localize(`{{${e.toUpperCase()}}}`)),z(n,"f-button"),g.action&&(n.dataset.panzoomAction=g.action),g.change&&(n.dataset.panzoomChange=JSON.stringify(g.change)),n.appendChild(at(this.instance.localize(g.icon)))}else{let g=(this.option("items")||[])[e];g&&(n=at(this.instance.localize(g.tpl)),typeof g.click=="function"&&n.addEventListener("click",p=>{p.preventDefault(),p.stopPropagation(),typeof g.click=="function"&&g.click.call(this,this,p)}))}let m=n?.querySelector("svg");if(m)for(let[g,p]of Object.entries(hs))m.getAttribute(g)||m.setAttribute(g,String(p));return n}removeContainer(){let e=this.container;e&&e.remove(),this.container=null,this.state=Jt.Disabled;let t=this.instance.container;t&&ne(t,Ha)}attach(){let e=this,t=e.instance;t.on("Carousel.initSlides",e.onReady),t.on("done",e.onDone),t.on(["reveal","Carousel.change"],e.onChange),e.onReady(e.instance)}detach(){let e=this,t=e.instance;t.off("Carousel.initSlides",e.onReady),t.off("done",e.onDone),t.off(["reveal","Carousel.change"],e.onChange),e.removeContainer()}};Object.defineProperty(Pn,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:fs});var vs={Hash:class extends Ae{onReady(){ji=!1}onChange(a){Qt&&clearTimeout(Qt);let{hash:e}=nr(),{hash:t}=yn(),i=a.isOpeningSlide(a.getSlide());i&&(Aa=t===e?"":t),e&&e!==t&&(Qt=setTimeout(()=>{try{if(a.state===Ce.Ready){let n="replaceState";i&&!dn&&(n="pushState",dn=!0),window.history[n]({},document.title,window.location.pathname+window.location.search+e)}}catch{}},300))}onClose(a){if(Qt&&clearTimeout(Qt),!ji&&dn)return dn=!1,ji=!1,void window.history.back();if(!ji)try{window.history.replaceState({},document.title,window.location.pathname+window.location.search+(Aa||""))}catch{}}attach(){let a=this.instance;a.on("ready",this.onReady),a.on(["Carousel.ready","Carousel.change"],this.onChange),a.on("close",this.onClose)}detach(){let a=this.instance;a.off("ready",this.onReady),a.off(["Carousel.ready","Carousel.change"],this.onChange),a.off("close",this.onClose)}static parseURL(){return yn()}static startFromUrl(){or()}static destroy(){window.removeEventListener("hashchange",rr,!1)}},Html:xn,Images:_n,Slideshow:Cn,Thumbs:En,Toolbar:Pn},Ua="with-fancybox",go="hide-scrollbar",$a="--fancybox-scrollbar-compensate",Wa="--fancybox-body-margin",fo="aria-hidden",ho="is-using-tab",vo="is-animated",qa="is-compact",Za="is-loading",bo="is-opening",fn="has-caption",fi="disabled",Kt="tabindex",Xa="download",So="href",hi="src",zt=a=>typeof a=="string",Ya=function(){var a=window.getSelection();return!!a&&a.type==="Range"},Ue,$e=null,Gt=null,Ka=0,Ga=0,Qa=0,Ja=0,vi=new Map,bs=0,J=class a extends ki{get isIdle(){return this.idle}get isCompact(){return this.option("compact")}constructor(e=[],t={},i={}){super(t),Object.defineProperty(this,"userSlides",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"userPlugins",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"idle",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"idleTimer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"clickTimer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"pwt",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"ignoreFocusChange",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"startedFs",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:Ce.Init}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"footer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"carousel",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"lastFocus",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"prevMouseMoveEvent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Ue||(Ue=ir()),this.id=t.id||++bs,vi.set(this.id,this),this.userSlides=e,this.userPlugins=i,queueMicrotask(()=>{this.init()})}init(){if(this.state===Ce.Destroy)return;this.state=Ce.Init,this.attachPlugins(Object.assign(Object.assign({},a.Plugins),this.userPlugins)),this.emit("init"),this.emit("attachPlugins"),this.option("hideScrollbar")===!0&&(()=>{if(!Oi)return;let t=document,i=t.body,n=t.documentElement;if(i.classList.contains(go))return;let s=window.innerWidth-n.getBoundingClientRect().width,c=parseFloat(window.getComputedStyle(i).marginRight);s<0&&(s=0),n.style.setProperty($a,`${s}px`),c&&i.style.setProperty(Wa,`${c}px`),i.classList.add(go)})(),this.initLayout(),this.scale();let e=()=>{this.initCarousel(this.userSlides),this.state=Ce.Ready,this.attachEvents(),this.emit("ready"),setTimeout(()=>{this.container&&this.container.setAttribute(fo,"false")},16)};this.option("Fullscreen.autoStart")&&Ue&&!Ue.isFullscreen()?Ue.request().then(()=>{this.startedFs=!0,e()}).catch(()=>e()):e()}initLayout(){var e,t;let i=this.option("parentEl")||document.body,n=at(this.localize(this.option("tpl.main")||""));if(n){if(n.setAttribute("id",`fancybox-${this.id}`),n.setAttribute("aria-label",this.localize("{{MODAL}}")),n.classList.toggle(qa,this.isCompact),z(n,this.option("mainClass")||""),z(n,bo),this.container=n,this.footer=n.querySelector(".fancybox__footer"),i.appendChild(n),z(document.documentElement,Ua),$e&&Gt||($e=document.createElement("span"),z($e,"fancybox-focus-guard"),$e.setAttribute(Kt,"0"),$e.setAttribute(fo,"true"),$e.setAttribute("aria-label","Focus guard"),Gt=$e.cloneNode(),(e=n.parentElement)===null||e===void 0||e.insertBefore($e,n),(t=n.parentElement)===null||t===void 0||t.append(Gt)),n.addEventListener("mousedown",s=>{Ka=s.pageX,Ga=s.pageY,ne(n,ho)}),this.option("closeExisting"))for(let s of vi.values())s.id!==this.id&&s.close();else this.option("animated")&&(z(n,vo),setTimeout(()=>{this.isClosing()||ne(n,vo)},350));this.emit("initLayout")}}initCarousel(e){let t=this.container;if(!t)return;let i=t.querySelector(".fancybox__carousel");if(!i)return;let n=this.carousel=new bi(i,Oe({},{slides:e,transition:"fade",Panzoom:{lockAxis:this.option("dragToClose")?"xy":"x",infinite:!!this.option("dragToClose")&&"y"},Dots:!1,Navigation:{classes:{container:"fancybox__nav",button:"f-button",isNext:"is-next",isPrev:"is-prev"}},initialPage:this.option("startIndex"),l10n:this.option("l10n")},this.option("Carousel")||{}));n.on("*",(s,c,...d)=>{this.emit(`Carousel.${c}`,s,...d)}),n.on(["ready","change"],()=>{this.manageCaption()}),this.on("Carousel.removeSlide",(s,c,d)=>{this.clearContent(d),d.state=void 0}),n.on("Panzoom.touchStart",()=>{var s,c;this.isCompact||this.endIdle(),!((s=document.activeElement)===null||s===void 0)&&s.closest(".f-thumbs")&&((c=this.container)===null||c===void 0||c.focus())}),n.on("settle",()=>{this.idleTimer||this.isCompact||!this.option("idle")||this.setIdle(),this.option("autoFocus")&&!this.isClosing&&this.checkFocus()}),this.option("dragToClose")&&(n.on("Panzoom.afterTransform",(s,c)=>{let d=this.getSlide();if(d&&yo(d.el))return;let m=this.container;if(m){let g=Math.abs(c.current.f),p=g<1?"":Math.max(.5,Math.min(1,1-g/c.contentRect.fitHeight*1.5));m.style.setProperty("--fancybox-ts",p?"0s":""),m.style.setProperty("--fancybox-opacity",p+"")}}),n.on("Panzoom.touchEnd",(s,c,d)=>{var m;let g=this.getSlide();if(g&&yo(g.el)||c.isMobile&&document.activeElement&&["TEXTAREA","INPUT"].indexOf((m=document.activeElement)===null||m===void 0?void 0:m.nodeName)!==-1)return;let p=Math.abs(c.dragOffset.y);c.lockedAxis==="y"&&(p>=200||p>=50&&c.dragOffset.time<300)&&(d&&d.cancelable&&d.preventDefault(),this.close(d,"f-throwOut"+(c.current.f<0?"Up":"Down")))})),n.on("change",s=>{var c;let d=(c=this.getSlide())===null||c===void 0?void 0:c.triggerEl;if(d){let m=new CustomEvent("slideTo",{bubbles:!0,cancelable:!0,detail:s.page});d.dispatchEvent(m)}}),n.on(["refresh","change"],s=>{let c=this.container;if(!c)return;for(let g of c.querySelectorAll("[data-fancybox-current-index]"))g.innerHTML=s.page+1;for(let g of c.querySelectorAll("[data-fancybox-count]"))g.innerHTML=s.pages.length;if(!s.isInfinite){for(let g of c.querySelectorAll("[data-fancybox-next]"))s.page<s.pages.length-1?(g.removeAttribute(fi),g.removeAttribute(Kt)):(g.setAttribute(fi,""),g.setAttribute(Kt,"-1"));for(let g of c.querySelectorAll("[data-fancybox-prev]"))s.page>0?(g.removeAttribute(fi),g.removeAttribute(Kt)):(g.setAttribute(fi,""),g.setAttribute(Kt,"-1"))}let d=this.getSlide();if(!d)return;let m=d.downloadSrc||"";m||d.type!=="image"||d.error||!zt(d[hi])||(m=d[hi]);for(let g of c.querySelectorAll("[data-fancybox-download]")){let p=d.downloadFilename;m?(g.removeAttribute(fi),g.removeAttribute(Kt),g.setAttribute(So,m),g.setAttribute(Xa,p||m),g.setAttribute("target","_blank")):(g.setAttribute(fi,""),g.setAttribute(Kt,"-1"),g.removeAttribute(So),g.removeAttribute(Xa))}}),this.emit("initCarousel")}attachEvents(){let e=this,t=e.container;if(!t)return;t.addEventListener("click",e.onClick,{passive:!1,capture:!1}),t.addEventListener("wheel",e.onWheel,{passive:!1,capture:!1}),document.addEventListener("keydown",e.onKeydown,{passive:!1,capture:!0}),document.addEventListener("visibilitychange",e.onVisibilityChange,!1),document.addEventListener("mousemove",e.onMousemove),e.option("trapFocus")&&document.addEventListener("focus",e.onFocus,!0),window.addEventListener("resize",e.onResize);let i=window.visualViewport;i&&(i.addEventListener("scroll",e.onResize),i.addEventListener("resize",e.onResize))}detachEvents(){let e=this,t=e.container;if(!t)return;document.removeEventListener("keydown",e.onKeydown,{passive:!1,capture:!0}),t.removeEventListener("wheel",e.onWheel,{passive:!1,capture:!1}),t.removeEventListener("click",e.onClick,{passive:!1,capture:!1}),document.removeEventListener("mousemove",e.onMousemove),window.removeEventListener("resize",e.onResize);let i=window.visualViewport;i&&(i.removeEventListener("resize",e.onResize),i.removeEventListener("scroll",e.onResize)),document.removeEventListener("visibilitychange",e.onVisibilityChange,!1),document.removeEventListener("focus",e.onFocus,!0)}scale(){let e=this.container;if(!e)return;let t=window.visualViewport,i=Math.max(1,t?.scale||1),n="",s="",c="";if(t&&i>1){let d=`${t.offsetLeft}px`,m=`${t.offsetTop}px`;n=t.width*i+"px",s=t.height*i+"px",c=`translate3d(${d}, ${m}, 0) scale(${1/i})`}e.style.transform=c,e.style.width=n,e.style.height=s}onClick(e){var t;let{container:i,isCompact:n}=this;if(!i||this.isClosing())return;!n&&this.option("idle")&&this.resetIdle();let s=e.composedPath()[0];if(s.closest(".fancybox-spinner")||s.closest("[data-fancybox-close]"))return e.preventDefault(),void this.close(e);if(s.closest("[data-fancybox-prev]"))return e.preventDefault(),void this.prev();if(s.closest("[data-fancybox-next]"))return e.preventDefault(),void this.next();if(e.type==="click"&&e.detail===0||Math.abs(e.pageX-Ka)>30||Math.abs(e.pageY-Ga)>30)return;let c=document.activeElement;if(Ya()&&c&&i.contains(c))return;if(n&&((t=this.getSlide())===null||t===void 0?void 0:t.type)==="image")return void(this.clickTimer?(clearTimeout(this.clickTimer),this.clickTimer=null):this.clickTimer=setTimeout(()=>{this.toggleIdle(),this.clickTimer=null},350));if(this.emit("click",e),e.defaultPrevented)return;let d=!1;if(s.closest(".fancybox__content")){if(c){if(c.closest("[contenteditable]"))return;s.matches(lo)||c.blur()}if(Ya())return;d=this.option("contentClick")}else s.closest(".fancybox__carousel")&&!s.matches(lo)&&(d=this.option("backdropClick"));d==="close"?(e.preventDefault(),this.close(e)):d==="next"?(e.preventDefault(),this.next()):d==="prev"&&(e.preventDefault(),this.prev())}onWheel(e){let t=e.target,i=this.option("wheel",e);t.closest(".fancybox__thumbs")&&(i="slide");let n=i==="slide",s=[-e.deltaX||0,-e.deltaY||0,-e.detail||0].reduce(function(m,g){return Math.abs(g)>Math.abs(m)?g:m}),c=Math.max(-1,Math.min(1,s)),d=Date.now();this.pwt&&d-this.pwt<300?n&&e.preventDefault():(this.pwt=d,this.emit("wheel",e,c),e.defaultPrevented||(i==="close"?(e.preventDefault(),this.close(e)):i==="slide"&&(hn(t)||(e.preventDefault(),this[c>0?"prev":"next"]()))))}onScroll(){window.scrollTo(Qa,Ja)}onKeydown(e){if(!this.isTopmost())return;this.isCompact||!this.option("idle")||this.isClosing()||this.resetIdle();let t=e.key,i=this.option("keyboard");if(!i)return;let n=e.composedPath()[0],s=document.activeElement&&document.activeElement.classList,c=s&&s.contains("f-button")||n.dataset.carouselPage||n.dataset.carouselIndex;if(t!=="Escape"&&!c&&je(n)&&(n.isContentEditable||["TEXTAREA","OPTION","INPUT","SELECT","VIDEO"].indexOf(n.nodeName)!==-1)||(e.key==="Tab"?z(this.container,ho):ne(this.container,ho),e.ctrlKey||e.altKey||e.shiftKey))return;this.emit("keydown",t,e);let d=i[t];d&&typeof this[d]=="function"&&(e.preventDefault(),this[d]())}onResize(){let e=this.container;if(!e)return;let t=this.isCompact;e.classList.toggle(qa,t),this.manageCaption(this.getSlide()),this.isCompact?this.clearIdle():this.endIdle(),this.scale(),this.emit("resize")}onFocus(e){this.isTopmost()&&this.checkFocus(e)}onMousemove(e){this.prevMouseMoveEvent=e,!this.isCompact&&this.option("idle")&&this.resetIdle()}onVisibilityChange(){document.visibilityState==="visible"?this.checkFocus():this.endIdle()}manageCloseBtn(e){let t=this.optionFor(e,"closeButton")||!1;if(t==="auto"){let n=this.plugins.Toolbar;if(n&&n.state===Jt.Ready)return}if(!t||!e.contentEl||e.closeBtnEl)return;let i=this.option("tpl.closeButton");if(i){let n=at(this.localize(i));e.closeBtnEl=e.contentEl.appendChild(n),e.el&&z(e.el,"has-close-btn")}}manageCaption(e=void 0){var t,i;let n="fancybox__caption",s=this.container;if(!s)return;ne(s,fn);let c=this.isCompact||this.option("commonCaption"),d=!c;if(this.caption&&this.stop(this.caption),d&&this.caption&&(this.caption.remove(),this.caption=null),c&&!this.caption)for(let h of((t=this.carousel)===null||t===void 0?void 0:t.slides)||[])h.captionEl&&(h.captionEl.remove(),h.captionEl=void 0,ne(h.el,fn),(i=h.el)===null||i===void 0||i.removeAttribute("aria-labelledby"));if(e||(e=this.getSlide()),!e||c&&!this.isCurrentSlide(e))return;let m=e.el,g=this.optionFor(e,"caption","");if(!g)return void(c&&this.caption&&this.animate(this.caption,"f-fadeOut",()=>{this.caption&&(this.caption.innerHTML="")}));let p=null;if(d){if(p=e.captionEl||null,m&&!p){let h=n+`_${this.id}_${e.index}`;p=document.createElement("div"),z(p,n),p.setAttribute("id",h),e.captionEl=m.appendChild(p),z(m,fn),m.setAttribute("aria-labelledby",h)}}else p=this.caption,p||(p=s.querySelector("."+n)),!p&&(p=document.createElement("div"),p.dataset.fancyboxCaption="",z(p,n),(this.footer||s).prepend(p)),z(s,fn),this.caption=p;p&&(p.innerHTML="",zt(g)||typeof g=="number"?p.innerHTML=g+"":g instanceof HTMLElement&&p.appendChild(g))}checkFocus(e){this.focus(e)}focus(e){var t;if(this.ignoreFocusChange)return;let i=document.activeElement||null,n=e?.target||null,s=this.container,c=(t=this.carousel)===null||t===void 0?void 0:t.viewport;if(!s||!c||!e&&i&&s.contains(i))return;let d=this.getSlide(),m=d&&d.state===Te.Ready?d.el:null;if(!m||m.contains(i)||s===i)return;e&&e.cancelable&&e.preventDefault(),this.ignoreFocusChange=!0;let g=Array.from(s.querySelectorAll(lo)),p=[],h=null;for(let v of g){let y=!v.offsetParent||!!v.closest('[aria-hidden="true"]'),P=m&&m.contains(v),E=!c.contains(v);if(v===s||(P||E)&&!y){p.push(v);let T=v.dataset.origTabindex;T!==void 0&&T&&(v.tabIndex=parseFloat(T)),v.removeAttribute("data-orig-tabindex"),!v.hasAttribute("autoFocus")&&h||(h=v)}else{let T=v.dataset.origTabindex===void 0?v.getAttribute("tabindex")||"":v.dataset.origTabindex;T&&(v.dataset.origTabindex=T),v.tabIndex=-1}}let b=null;e?(!n||p.indexOf(n)<0)&&(b=h||s,p.length&&(i===Gt?b=p[0]:this.lastFocus!==s&&i!==$e||(b=p[p.length-1]))):b=d&&d.type==="image"?s:h||s,b&&Da(b),this.lastFocus=document.activeElement,this.ignoreFocusChange=!1}next(){let e=this.carousel;e&&e.pages.length>1&&e.slideNext()}prev(){let e=this.carousel;e&&e.pages.length>1&&e.slidePrev()}jumpTo(...e){this.carousel&&this.carousel.slideTo(...e)}isTopmost(){var e;return((e=a.getInstance())===null||e===void 0?void 0:e.id)==this.id}animate(e=null,t="",i){if(!e||!t)return void(i&&i());this.stop(e);let n=s=>{s.target===e&&e.dataset.animationName&&(e.removeEventListener("animationend",n),delete e.dataset.animationName,i&&i(),ne(e,t))};e.dataset.animationName=t,e.addEventListener("animationend",n),z(e,t)}stop(e){e&&e.dispatchEvent(new CustomEvent("animationend",{bubbles:!1,cancelable:!0,currentTarget:e}))}setContent(e,t="",i=!0){if(this.isClosing())return;let n=e.el;if(!n)return;let s=null;if(je(t)?s=t:(s=at(t+""),je(s)||(s=document.createElement("div"),s.innerHTML=t+"")),["img","picture","iframe","video","audio"].includes(s.nodeName.toLowerCase())){let c=document.createElement("div");c.appendChild(s),s=c}je(s)&&e.filter&&!e.error&&(s=s.querySelector(e.filter)),s&&je(s)?(z(s,"fancybox__content"),e.id&&s.setAttribute("id",e.id),n.classList.add(`has-${e.error?"error":e.type||"unknown"}`),n.prepend(s),s.style.display==="none"&&(s.style.display=""),getComputedStyle(s).getPropertyValue("display")==="none"&&(s.style.display=e.display||this.option("defaultDisplay")||"flex"),e.contentEl=s,i&&this.revealContent(e),this.manageCloseBtn(e),this.manageCaption(e)):this.setError(e,"{{ELEMENT_NOT_FOUND}}")}revealContent(e,t){let i=e.el,n=e.contentEl;i&&n&&(this.emit("reveal",e),this.hideLoading(e),e.state=Te.Opening,(t=this.isOpeningSlide(e)?t===void 0?this.optionFor(e,"showClass"):t:"f-fadeIn")?this.animate(n,t,()=>{this.done(e)}):this.done(e))}done(e){this.isClosing()||(e.state=Te.Ready,this.emit("done",e),z(e.el,"is-done"),this.isCurrentSlide(e)&&this.option("autoFocus")&&queueMicrotask(()=>{var t;(t=e.panzoom)===null||t===void 0||t.updateControls(),this.option("autoFocus")&&this.focus()}),this.isOpeningSlide(e)&&(ne(this.container,bo),!this.isCompact&&this.option("idle")&&this.setIdle()))}isCurrentSlide(e){let t=this.getSlide();return!(!e||!t)&&t.index===e.index}isOpeningSlide(e){var t,i;return((t=this.carousel)===null||t===void 0?void 0:t.prevPage)===null&&e&&e.index===((i=this.getSlide())===null||i===void 0?void 0:i.index)}showLoading(e){e.state=Te.Loading;let t=e.el;t&&(z(t,Za),this.emit("loading",e),e.spinnerEl||setTimeout(()=>{if(!this.isClosing()&&!e.spinnerEl&&e.state===Te.Loading){let i=at(Eo);z(i,"fancybox-spinner"),e.spinnerEl=i,t.prepend(i),this.animate(i,"f-fadeIn")}},250))}hideLoading(e){let t=e.el;if(!t)return;let i=e.spinnerEl;this.isClosing()?i?.remove():(ne(t,Za),i&&this.animate(i,"f-fadeOut",()=>{i.remove()}),e.state===Te.Loading&&(this.emit("loaded",e),e.state=Te.Ready))}setError(e,t){if(this.isClosing())return;let i=new Event("error",{bubbles:!0,cancelable:!0});if(this.emit("error",i,e),i.defaultPrevented)return;e.error=t,this.hideLoading(e),this.clearContent(e);let n=document.createElement("div");n.classList.add("fancybox-error"),n.innerHTML=this.localize(t||"<p>{{ERROR}}</p>"),this.setContent(e,n)}clearContent(e){if(e.state===void 0)return;this.emit("clearContent",e),e.contentEl&&(e.contentEl.remove(),e.contentEl=void 0);let t=e.el;t&&(ne(t,"has-error"),ne(t,"has-unknown"),ne(t,`has-${e.type||"unknown"}`)),e.closeBtnEl&&e.closeBtnEl.remove(),e.closeBtnEl=void 0,e.captionEl&&e.captionEl.remove(),e.captionEl=void 0,e.spinnerEl&&e.spinnerEl.remove(),e.spinnerEl=void 0}getSlide(){var e;let t=this.carousel;return((e=t?.pages[t?.page])===null||e===void 0?void 0:e.slides[0])||void 0}close(e,t){if(this.isClosing())return;let i=new Event("shouldClose",{bubbles:!0,cancelable:!0});if(this.emit("shouldClose",i,e),i.defaultPrevented)return;e&&e.cancelable&&(e.preventDefault(),e.stopPropagation());let n=()=>{this.proceedClose(e,t)};this.startedFs&&Ue&&Ue.isFullscreen()?Promise.resolve(Ue.exit()).then(()=>n()):n()}clearIdle(){this.idleTimer&&clearTimeout(this.idleTimer),this.idleTimer=null}setIdle(e=!1){let t=()=>{this.clearIdle(),this.idle=!0,z(this.container,"is-idle"),this.emit("setIdle")};if(this.clearIdle(),!this.isClosing())if(e)t();else{let i=this.option("idle");i&&(this.idleTimer=setTimeout(t,i))}}endIdle(){this.clearIdle(),this.idle&&!this.isClosing()&&(this.idle=!1,ne(this.container,"is-idle"),this.emit("endIdle"))}resetIdle(){this.endIdle(),this.setIdle()}toggleIdle(){this.idle?this.endIdle():this.setIdle(!0)}toggleFullscreen(){Ue&&(Ue.isFullscreen()?Ue.exit():Ue.request().then(()=>{this.startedFs=!0}))}isClosing(){return[Ce.Closing,Ce.CustomClosing,Ce.Destroy].includes(this.state)}proceedClose(e,t){var i,n;this.state=Ce.Closing,this.clearIdle(),this.detachEvents();let s=this.container,c=this.carousel,d=this.getSlide(),m=d&&this.option("placeFocusBack")?d.triggerEl||this.option("triggerEl"):null;if(m&&(tr(m)?Da(m):m.focus()),s&&(ne(s,bo),z(s,"is-closing"),s.setAttribute(fo,"true"),this.option("animated")&&z(s,vo),s.style.pointerEvents="none"),c){c.clearTransitions(),(i=c.panzoom)===null||i===void 0||i.destroy(),(n=c.plugins.Navigation)===null||n===void 0||n.detach();for(let g of c.slides){g.state=Te.Closing,this.hideLoading(g);let p=g.contentEl;p&&this.stop(p);let h=g?.panzoom;h&&(h.stop(),h.detachEvents(),h.detachObserver()),this.isCurrentSlide(g)||c.emit("removeSlide",g)}}Qa=window.scrollX,Ja=window.scrollY,window.addEventListener("scroll",this.onScroll),this.emit("close",e),this.state!==Ce.CustomClosing?(t===void 0&&d&&(t=this.optionFor(d,"hideClass")),t&&d?(this.animate(d.contentEl,t,()=>{c&&c.emit("removeSlide",d)}),setTimeout(()=>{this.destroy()},500)):this.destroy()):setTimeout(()=>{this.destroy()},500)}destroy(){var e;if(this.state===Ce.Destroy)return;window.removeEventListener("scroll",this.onScroll),this.state=Ce.Destroy,(e=this.carousel)===null||e===void 0||e.destroy();let t=this.container;t&&t.remove(),vi.delete(this.id);let i=a.getInstance();i?i.focus():($e&&($e.remove(),$e=null),Gt&&(Gt.remove(),Gt=null),ne(document.documentElement,Ua),(()=>{if(!Oi)return;let n=document,s=n.body;s.classList.remove(go),s.style.setProperty(Wa,""),n.documentElement.style.setProperty($a,"")})(),this.emit("destroy"))}static bind(e,t,i){if(!Oi)return;let n,s="",c={};if(e===void 0?n=document.body:zt(e)?(n=document.body,s=e,typeof t=="object"&&(c=t||{})):(n=e,zt(t)&&(s=t),typeof i=="object"&&(c=i||{})),!n||!je(n))return;s=s||"[data-fancybox]";let d=a.openers.get(n)||new Map;d.set(s,c),a.openers.set(n,d),d.size===1&&n.addEventListener("click",a.fromEvent)}static unbind(e,t){let i,n="";if(zt(e)?(i=document.body,n=e):(i=e,zt(t)&&(n=t)),!i)return;let s=a.openers.get(i);s&&n&&s.delete(n),n&&s||(a.openers.delete(i),i.removeEventListener("click",a.fromEvent))}static destroy(){let e;for(;e=a.getInstance();)e.destroy();for(let t of a.openers.keys())t.removeEventListener("click",a.fromEvent);a.openers=new Map}static fromEvent(e){if(e.defaultPrevented||e.button&&e.button!==0||e.ctrlKey||e.metaKey||e.shiftKey)return;let t=e.composedPath()[0],i=t.closest("[data-fancybox-trigger]");if(i){let y=i.dataset.fancyboxTrigger||"",P=document.querySelectorAll(`[data-fancybox="${y}"]`),E=parseInt(i.dataset.fancyboxIndex||"",10)||0;t=P[E]||t}if(!(t&&t instanceof Element))return;let n,s,c,d;if([...a.openers].reverse().find(([y,P])=>!(!y.contains(t)||![...P].reverse().find(([E,T])=>{let k=t.closest(E);return!!k&&(n=y,s=E,c=k,d=T,!0)}))),!n||!s||!c)return;d=d||{},e.preventDefault(),t=c;let m=[],g=Oe({},wo,d);g.event=e,g.triggerEl=t,g.delegate=i;let p=g.groupAll,h=g.groupAttr,b=h&&t?t.getAttribute(`${h}`):"";if((!t||b||p)&&(m=[].slice.call(n.querySelectorAll(s))),t&&!p&&(m=b?m.filter(y=>y.getAttribute(`${h}`)===b):[t]),!m.length)return;let v=a.getInstance();return v&&v.options.triggerEl&&m.indexOf(v.options.triggerEl)>-1?void 0:(t&&(g.startIndex=m.indexOf(t)),a.fromNodes(m,g))}static fromSelector(e,t,i){let n=null,s="",c={};if(zt(e)?(n=document.body,s=e,typeof t=="object"&&(c=t||{})):e instanceof HTMLElement&&zt(t)&&(n=e,s=t,typeof i=="object"&&(c=i||{})),!n||!s)return!1;let d=a.openers.get(n);return!!d&&(c=Oe({},d.get(s)||{},c),!!c&&a.fromNodes(Array.from(n.querySelectorAll(s)),c))}static fromNodes(e,t){t=Oe({},wo,t||{});let i=[];for(let n of e){let s=n.dataset||{},c=s[hi]||n.getAttribute(So)||n.getAttribute("currentSrc")||n.getAttribute(hi)||void 0,d,m=t.delegate,g;m&&i.length===t.startIndex&&(d=m instanceof HTMLImageElement?m:m.querySelector("img:not([aria-hidden])")),d||(d=n instanceof HTMLImageElement?n:n.querySelector("img:not([aria-hidden])")),d&&(g=d.currentSrc||d[hi]||void 0,!g&&d.dataset&&(g=d.dataset.lazySrc||d.dataset[hi]||void 0));let p={src:c,triggerEl:n,thumbEl:d,thumbElSrc:g,thumbSrc:g};for(let h in s){let b=s[h]+"";b=b!=="false"&&(b==="true"||b),p[h]=b}i.push(p)}return new a(i,t)}static getInstance(e){return e?vi.get(e):Array.from(vi.values()).reverse().find(t=>!t.isClosing()&&t)||null}static getSlide(){var e;return((e=a.getInstance())===null||e===void 0?void 0:e.getSlide())||null}static show(e=[],t={}){return new a(e,t)}static next(){let e=a.getInstance();e&&e.next()}static prev(){let e=a.getInstance();e&&e.prev()}static close(e=!0,...t){if(e)for(let i of vi.values())i.close(...t);else{let i=a.getInstance();i&&i.close(...t)}}};Object.defineProperty(J,"version",{enumerable:!0,configurable:!0,writable:!0,value:"5.0.36"}),Object.defineProperty(J,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:wo}),Object.defineProperty(J,"Plugins",{enumerable:!0,configurable:!0,writable:!0,value:vs}),Object.defineProperty(J,"openers",{enumerable:!0,configurable:!0,writable:!0,value:new Map});var Ee=class a{constructor(e){this.http=e}upload(e){return this.http.post("https://httpbin.org/post",e,{reportProgress:!0,observe:"events"})}static \u0275fac=function(t){return new(t||a)(Pt(kt))};static \u0275prov=_e({token:a,factory:a.\u0275fac,providedIn:"root"})};var Di=(m=>(m[m.Image=0]="Image",m[m.Video=1]="Video",m[m.Pdf=2]="Pdf",m[m.Word=3]="Word",m[m.Excel=4]="Excel",m[m.Powerpoint=5]="Powerpoint",m[m.FileText=6]="FileText",m[m.Zip=7]="Zip",m))(Di||{});var Mn=function(){return Mn=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++){t=arguments[i];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Mn.apply(this,arguments)},Ss={scale:1,zoom:!0,actualSize:!0,showZoomInOutIcons:!1,actualSizeIcons:{zoomIn:"lg-zoom-in",zoomOut:"lg-zoom-out"},enableZoomAfter:300},In={afterAppendSlide:"lgAfterAppendSlide",init:"lgInit",hasVideo:"lgHasVideo",containerResize:"lgContainerResize",updateSlides:"lgUpdateSlides",afterAppendSubHtml:"lgAfterAppendSubHtml",beforeOpen:"lgBeforeOpen",afterOpen:"lgAfterOpen",slideItemLoad:"lgSlideItemLoad",beforeSlide:"lgBeforeSlide",afterSlide:"lgAfterSlide",posterClick:"lgPosterClick",dragStart:"lgDragStart",dragMove:"lgDragMove",dragEnd:"lgDragEnd",beforeNextSlide:"lgBeforeNextSlide",beforePrevSlide:"lgBeforePrevSlide",beforeClose:"lgBeforeClose",afterClose:"lgAfterClose"},ys=function(){function a(e,t){return this.core=e,this.$LG=t,this.settings=Mn(Mn({},Ss),this.core.settings),this.settings.zoom&&(this.init(),this.zoomableTimeout=!1,this.positionChanged=!1,this.pageX=this.core.outer.width()/2,this.pageY=this.core.outer.height()/2+this.$LG(window).scrollTop(),this.scale=1),this}return a.prototype.buildTemplates=function(){var e=this.settings.showZoomInOutIcons?'<button id="'+this.core.getIdName("lg-zoom-in")+'" type="button" aria-label="Zoom in" class="lg-zoom-in lg-icon"></button><button id="'+this.core.getIdName("lg-zoom-out")+'" type="button" aria-label="Zoom out" class="lg-zoom-out lg-icon"></button>':"";this.settings.actualSize&&(e+='<button id="'+this.core.getIdName("lg-actual-size")+'" type="button" aria-label="View actual size" class="'+this.settings.actualSizeIcons.zoomIn+' lg-icon"></button>'),this.core.outer.addClass("lg-use-transition-for-zoom"),this.core.$toolbar.first().append(e)},a.prototype.enableZoom=function(e){var t=this,i=this.settings.enableZoomAfter+e.detail.delay;this.$LG("body").first().hasClass("lg-from-hash")&&e.detail.delay?i=0:this.$LG("body").first().removeClass("lg-from-hash"),this.zoomableTimeout=setTimeout(function(){t.core.getSlideItem(e.detail.index).addClass("lg-zoomable")},i+30)},a.prototype.enableZoomOnSlideItemLoad=function(){this.core.LGel.on(In.slideItemLoad+".zoom",this.enableZoom.bind(this))},a.prototype.getModifier=function(e,t,i){var n=e;e=Math.abs(e);var s=this.getCurrentTransform(i);if(!s)return 1;var c=1;if(t==="X"){var d=Math.sign(parseFloat(s[0]));e===0||e===180?c=1:e===90&&(n===-90&&d===1||n===90&&d===-1?c=-1:c=1),c=c*d}else{var m=Math.sign(parseFloat(s[3]));if(e===0||e===180)c=1;else if(e===90){var g=parseFloat(s[1]),p=parseFloat(s[2]);c=Math.sign(g*p*n*m)}c=c*m}return c},a.prototype.getImageSize=function(e,t,i){var n={y:"offsetHeight",x:"offsetWidth"};return t===90&&(i==="x"?i="y":i="x"),e[n[i]]},a.prototype.getDragCords=function(e,t){return t===90?{x:e.pageY,y:e.pageX}:{x:e.pageX,y:e.pageY}},a.prototype.getSwipeCords=function(e,t){var i=e.targetTouches[0].pageX,n=e.targetTouches[0].pageY;return t===90?{x:n,y:i}:{x:i,y:n}},a.prototype.getDragAllowedAxises=function(e,t){var i=this.core.$lgContent.get(),n=parseFloat(e.attr("data-scale"))||1,s=e.get(),c=this.getImageSize(s,t,"y")*n>i.clientHeight,d=this.getImageSize(s,t,"x")*n>i.clientWidth;return t===90?{allowX:c,allowY:d}:{allowX:d,allowY:c}},a.prototype.getCurrentTransform=function(e){if(e){var t=window.getComputedStyle(e,null),i=t.getPropertyValue("-webkit-transform")||t.getPropertyValue("-moz-transform")||t.getPropertyValue("-ms-transform")||t.getPropertyValue("-o-transform")||t.getPropertyValue("transform")||"none";if(i!=="none")return i.split("(")[1].split(")")[0].split(",")}},a.prototype.getCurrentRotation=function(e){if(!e)return 0;var t=this.getCurrentTransform(e);return t?Math.round(Math.atan2(parseFloat(t[1]),parseFloat(t[0]))*(180/Math.PI)):0},a.prototype.zoomImage=function(e){var t=this.core.getSlideItem(this.core.index).find(".lg-image").first(),i=t.get();if(i){var n=this.core.outer.get().getBoundingClientRect(),s=(n.width-i.offsetWidth)/2+n.left,c=(n.height-i.offsetHeight)/2+this.$LG(window).scrollTop()+n.top,d,m;e===1&&(this.positionChanged=!1),this.positionChanged&&(d=parseFloat(t.parent().attr("data-x"))/(parseFloat(t.attr("data-scale"))-1),m=parseFloat(t.parent().attr("data-y"))/(parseFloat(t.attr("data-scale"))-1),this.pageX=d+s,this.pageY=m+c,this.positionChanged=!1);var g=this.pageX-s,p=this.pageY-c,h=(e-1)*g,b=(e-1)*p;this.setZoomStyles({x:h,y:b,scale:e})}},a.prototype.setZoomStyles=function(e){var t=this.core.getSlideItem(this.core.index).find(".lg-image").first(),i=this.core.outer.find(".lg-current .lg-dummy-img").first(),n=t.parent();t.attr("data-scale",e.scale+"").css("transform","scale3d("+e.scale+", "+e.scale+", 1)"),i.css("transform","scale3d("+e.scale+", "+e.scale+", 1)");var s="translate3d(-"+e.x+"px, -"+e.y+"px, 0)";n.css("transform",s),n.attr("data-x",e.x).attr("data-y",e.y)},a.prototype.setActualSize=function(e,t){var i=this,n=this.core.galleryItems[this.core.index];if(!(!n.src||this.core.outer.hasClass("lg-first-slide-loading"))){var s=this.getCurrentImageActualSizeScale();this.core.outer.hasClass("lg-zoomed")?this.scale=1:this.scale=this.getScale(s),this.setPageCords(t),this.beginZoom(this.scale),this.zoomImage(this.scale),setTimeout(function(){i.core.outer.removeClass("lg-grabbing").addClass("lg-grab")},10)}},a.prototype.getNaturalWidth=function(e){var t=this.core.getSlideItem(e).find(".lg-image").first(),i=this.core.galleryItems[e].width;return i?parseFloat(i):t.get().naturalWidth},a.prototype.getActualSizeScale=function(e,t){var i,n;return e>t?(i=e/t,n=i||2):n=1,n},a.prototype.getCurrentImageActualSizeScale=function(){var e=this.core.getSlideItem(this.core.index).find(".lg-image").first(),t=e.get().offsetWidth,i=this.getNaturalWidth(this.core.index)||t;return this.getActualSizeScale(i,t)},a.prototype.getPageCords=function(e){var t={};if(e)t.x=e.pageX||e.targetTouches[0].pageX,t.y=e.pageY||e.targetTouches[0].pageY;else{var i=this.core.outer.get().getBoundingClientRect();t.x=i.width/2+i.left,t.y=i.height/2+this.$LG(window).scrollTop()+i.top}return t},a.prototype.setPageCords=function(e){var t=this.getPageCords(e);this.pageX=t.x,this.pageY=t.y},a.prototype.beginZoom=function(e){if(this.core.outer.removeClass("lg-zoom-drag-transition lg-zoom-dragging"),e>1){this.core.outer.addClass("lg-zoomed");var t=this.core.getElementById("lg-actual-size");t.removeClass(this.settings.actualSizeIcons.zoomIn).addClass(this.settings.actualSizeIcons.zoomOut)}else this.resetZoom();return e>1},a.prototype.getScale=function(e){var t=this.getCurrentImageActualSizeScale();return e<1?e=1:e>t&&(e=t),e},a.prototype.init=function(){var e=this;this.buildTemplates(),this.enableZoomOnSlideItemLoad();var t=null;this.core.outer.on("dblclick.lg",function(i){e.$LG(i.target).hasClass("lg-image")&&e.setActualSize(e.core.index,i)}),this.core.outer.on("touchstart.lg",function(i){var n=e.$LG(i.target);i.targetTouches.length===1&&n.hasClass("lg-image")&&(t?(clearTimeout(t),t=null,e.setActualSize(e.core.index,i)):t=setTimeout(function(){t=null},300),i.preventDefault())}),this.core.LGel.on(In.containerResize+".zoom",function(){e.core.lgOpened&&(e.setPageCords(),e.zoomImage(e.scale))}),this.core.getElementById("lg-zoom-out").on("click.lg",function(){e.core.outer.find(".lg-current .lg-image").get()&&(e.scale-=e.settings.scale,e.scale=e.getScale(e.scale),e.beginZoom(e.scale),e.zoomImage(e.scale))}),this.core.getElementById("lg-zoom-in").on("click.lg",function(){e.zoomIn()}),this.core.getElementById("lg-actual-size").on("click.lg",function(){e.setActualSize(e.core.index)}),this.core.LGel.on(In.beforeOpen+".zoom",function(){e.core.outer.find(".lg-item").removeClass("lg-zoomable")}),this.core.LGel.on(In.afterSlide+".zoom",function(i){var n=i.detail.prevIndex;e.scale=1,e.resetZoom(n)}),this.zoomDrag(),this.pinchZoom(),this.zoomSwipe()},a.prototype.zoomIn=function(e){var t=this.core.galleryItems[this.core.index];t.src&&(e?this.scale=e:this.scale+=this.settings.scale,this.scale=this.getScale(this.scale),this.beginZoom(this.scale),this.zoomImage(this.scale))},a.prototype.resetZoom=function(e){this.core.outer.removeClass("lg-zoomed lg-zoom-drag-transition");var t=this.core.getElementById("lg-actual-size"),i=this.core.getSlideItem(e!==void 0?e:this.core.index);t.removeClass(this.settings.actualSizeIcons.zoomOut).addClass(this.settings.actualSizeIcons.zoomIn),i.find(".lg-img-wrap").first().removeAttr("style data-x data-y"),i.find(".lg-image").first().removeAttr("style data-scale"),this.setPageCords()},a.prototype.getTouchDistance=function(e){return Math.sqrt((e.targetTouches[0].pageX-e.targetTouches[1].pageX)*(e.targetTouches[0].pageX-e.targetTouches[1].pageX)+(e.targetTouches[0].pageY-e.targetTouches[1].pageY)*(e.targetTouches[0].pageY-e.targetTouches[1].pageY))},a.prototype.pinchZoom=function(){var e=this,t=0,i=!1,n=1,s=this.core.getSlideItem(this.core.index);this.core.$inner.on("touchstart.lg",function(c){s=e.core.getSlideItem(e.core.index),c.preventDefault(),c.targetTouches.length===2&&(e.$LG(c.target).hasClass("lg-item")||s.get().contains(c.target))&&(n=e.scale||1,e.core.outer.removeClass("lg-zoom-drag-transition lg-zoom-dragging"),e.core.touchAction="pinch",t=e.getTouchDistance(c))}),this.core.$inner.on("touchmove.lg",function(c){if(c.preventDefault(),c.targetTouches.length===2&&e.core.touchAction==="pinch"&&(e.$LG(c.target).hasClass("lg-item")||s.get().contains(c.target))){var d=e.getTouchDistance(c),m=t-d;!i&&Math.abs(m)>5&&(i=!0),i&&(e.scale=Math.max(1,n+-m*.008),e.zoomImage(e.scale))}}),this.core.$inner.on("touchend.lg",function(c){e.core.touchAction==="pinch"&&(e.$LG(c.target).hasClass("lg-item")||s.get().contains(c.target))&&(i=!1,t=0,e.scale<=1?e.resetZoom():(e.scale=e.getScale(e.scale),e.zoomImage(e.scale),e.core.outer.addClass("lg-zoomed")),e.core.touchAction=void 0)})},a.prototype.touchendZoom=function(e,t,i,n,s,c){var d=this.core.getSlideItem(this.core.index).find(".lg-img-rotate").first().get(),m=t.x-e.x,g=t.y-e.y,p=Math.abs(m)/s+1,h=Math.abs(g)/s+1;p>2&&(p+=1),h>2&&(h+=1),m=m*p,g=g*h;var b=this.core.getSlideItem(this.core.index).find(".lg-img-wrap").first(),v=this.core.getSlideItem(this.core.index).find(".lg-object").first(),y=parseFloat(b.attr("data-x"))||0,P=parseFloat(b.attr("data-y"))||0,E={};E.x=-Math.abs(y)+m*this.getModifier(c,"X",d),E.y=-Math.abs(P)+g*this.getModifier(c,"Y",d);var T=this.getPossibleSwipeDragCords(v,c);if(Math.abs(m)>15||Math.abs(g)>15){if(n&&(E.y<=-T.maxY?E.y=-T.maxY:E.y>=-T.minY&&(E.y=-T.minY)),i&&(E.x<=-T.maxX?E.x=-T.maxX:E.x>=-T.minX&&(E.x=-T.minX)),n)b.attr("data-y",Math.abs(E.y));else{var k=parseFloat(b.attr("data-y"))||0;E.y=-Math.abs(k)}if(i)b.attr("data-x",Math.abs(E.x));else{var L=parseFloat(b.attr("data-x"))||0;E.x=-Math.abs(L)}this.setZoomSwipeStyles(b,E),this.positionChanged=!0}},a.prototype.getZoomSwipeCords=function(e,t,i,n,s,c,d,m,g){var p={};if(n){if(p.y=-Math.abs(c)+(t.y-e.y)*this.getModifier(m,"Y",g),p.y<=-s.maxY){var h=-s.maxY-p.y;p.y=-s.maxY-h/6}else if(p.y>=-s.minY){var b=p.y- -s.minY;p.y=-s.minY+b/6}}else p.y=-Math.abs(c);if(i){if(p.x=-Math.abs(d)+(t.x-e.x)*this.getModifier(m,"X",g),p.x<=-s.maxX){var v=-s.maxX-p.x;p.x=-s.maxX-v/6}else if(p.x>=-s.minX){var y=p.x- -s.minX;p.x=-s.minX+y/6}}else p.x=-Math.abs(d);return p},a.prototype.getPossibleSwipeDragCords=function(e,t){var i=this.core.$lgContent,n=i.height(),s=i.width(),c=this.getImageSize(e.get(),t,"y"),d=this.getImageSize(e.get(),t,"x"),m=parseFloat(e.attr("data-scale"))||1,g=Math.abs(m),p=(n-c)/2,h=Math.abs(c*g-n+p),b=(s-d)/2,v=Math.abs(d*g-s+b);return t===90?{minY:b,maxY:v,minX:p,maxX:h}:{minY:p,maxY:h,minX:b,maxX:v}},a.prototype.setZoomSwipeStyles=function(e,t){e.css("transform","translate3d("+t.x+"px, "+t.y+"px, 0)")},a.prototype.zoomSwipe=function(){var e=this,t={},i={},n=!1,s=!1,c=!1,d=new Date,m=new Date,g=0,p=0,h,b,v=null,y=0,P=this.core.getSlideItem(this.core.index);this.core.$inner.on("touchstart.lg",function(E){E.preventDefault();var T=e.core.galleryItems[e.core.index];if(T.src&&(P=e.core.getSlideItem(e.core.index),(e.$LG(E.target).hasClass("lg-item")||P.get().contains(E.target))&&E.targetTouches.length===1&&e.core.outer.hasClass("lg-zoomed"))){d=new Date,e.core.touchAction="zoomSwipe";var k=e.core.getSlideItem(e.core.index).find(".lg-object").first();b=e.core.getSlideItem(e.core.index).find(".lg-img-wrap").first(),v=e.core.getSlideItem(e.core.index).find(".lg-img-rotate").first().get(),y=e.getCurrentRotation(v);var L=e.getDragAllowedAxises(k,Math.abs(y));c=L.allowY,s=L.allowX,(s||c)&&(t=e.getSwipeCords(E,Math.abs(y))),p=parseFloat(b.attr("data-y")),g=parseFloat(b.attr("data-x")),h=e.getPossibleSwipeDragCords(k,y),e.core.outer.addClass("lg-zoom-dragging lg-zoom-drag-transition")}}),this.core.$inner.on("touchmove.lg",function(E){if(E.preventDefault(),E.targetTouches.length===1&&e.core.touchAction==="zoomSwipe"&&(e.$LG(E.target).hasClass("lg-item")||P.get().contains(E.target))){e.core.touchAction="zoomSwipe",i=e.getSwipeCords(E,Math.abs(y));var T=e.getZoomSwipeCords(t,i,s,c,h,p,g,y,v);(Math.abs(i.x-t.x)>15||Math.abs(i.y-t.y)>15)&&(n=!0,e.setZoomSwipeStyles(b,T))}}),this.core.$inner.on("touchend.lg",function(E){if(e.core.touchAction==="zoomSwipe"&&(e.$LG(E.target).hasClass("lg-item")||P.get().contains(E.target))){if(e.core.touchAction=void 0,e.core.outer.removeClass("lg-zoom-dragging"),!n)return;n=!1,m=new Date;var T=m.valueOf()-d.valueOf();e.touchendZoom(t,i,s,c,T,y)}})},a.prototype.zoomDrag=function(){var e=this,t={},i={},n=!1,s=!1,c=null,d=0,m=!1,g=!1,p,h,b,v,y,P;this.core.outer.on("mousedown.lg.zoom",function(E){var T=e.core.galleryItems[e.core.index];if(T.src){var k=e.core.getSlideItem(e.core.index);if(e.$LG(E.target).hasClass("lg-item")||k.get().contains(E.target)){p=new Date;var L=e.core.getSlideItem(e.core.index).find(".lg-object").first();P=e.core.getSlideItem(e.core.index).find(".lg-img-wrap").first(),c=e.core.getSlideItem(e.core.index).find(".lg-img-rotate").get(),d=e.getCurrentRotation(c);var q=e.getDragAllowedAxises(L,Math.abs(d));g=q.allowY,m=q.allowX,e.core.outer.hasClass("lg-zoomed")&&e.$LG(E.target).hasClass("lg-object")&&(m||g)&&(E.preventDefault(),t=e.getDragCords(E,Math.abs(d)),b=e.getPossibleSwipeDragCords(L,d),n=!0,v=parseFloat(P.attr("data-y")),y=parseFloat(P.attr("data-x")),e.core.outer.get().scrollLeft+=1,e.core.outer.get().scrollLeft-=1,e.core.outer.removeClass("lg-grab").addClass("lg-grabbing lg-zoom-drag-transition lg-zoom-dragging"))}}}),this.$LG(window).on("mousemove.lg.zoom.global"+this.core.lgId,function(E){if(n){s=!0,i=e.getDragCords(E,Math.abs(d));var T=e.getZoomSwipeCords(t,i,m,g,b,v,y,d,c);e.setZoomSwipeStyles(P,T)}}),this.$LG(window).on("mouseup.lg.zoom.global"+this.core.lgId,function(E){if(n){if(h=new Date,n=!1,e.core.outer.removeClass("lg-zoom-dragging"),s&&(t.x!==i.x||t.y!==i.y)){i=e.getDragCords(E,Math.abs(d));var T=h.valueOf()-p.valueOf();e.touchendZoom(t,i,m,g,T,d)}s=!1}e.core.outer.removeClass("lg-grabbing").addClass("lg-grab")})},a.prototype.closeGallery=function(){this.resetZoom()},a.prototype.destroy=function(){this.$LG(window).off(".lg.zoom.global"+this.core.lgId),this.core.LGel.off(".lg.zoom"),this.core.LGel.off(".zoom"),clearTimeout(this.zoomableTimeout),this.zoomableTimeout=!1},a}(),cr=ys;var yi=class a{closeAllMenusSource=new Zn;closeAllMenus$=this.closeAllMenusSource.asObservable();closeAllMenus(){this.closeAllMenusSource.next()}closeAllSource=new Zn;closeAll$=this.closeAllSource.asObservable();closeAll(){this.closeAllSource.next()}static \u0275fac=function(t){return new(t||a)};static \u0275prov=_e({token:a,factory:a.\u0275fac,providedIn:"root"})};var _s=a=>({fav:a});function xs(a,e){a&1&&Yn(0)}function ws(a,e){if(a&1&&(o(0,"div")(1,"a",25),u(2,"video",26),r()()),a&2){let t,i=C();Ci("file-img-holder ",i.FileTypes[(t=i.card.fileType)!==null&&t!==void 0?t:-1],""),f(),Z("href",i.card.fileUrl,V),f(),S("src",i.card.fileUrl,V)}}function Cs(a,e){if(a&1&&(o(0,"a",25),u(1,"img",27),r()),a&2){let t=C(3);Z("href",t.card.externalFileUrl,V),f(),Z("alt",t.card.title),S("src",t.card.externalFileUrl,V)}}function Es(a,e){if(a&1&&(o(0,"a",25),u(1,"img",27),r()),a&2){let t=C(3);Z("href",t.card.fileUrl,V),f(),Z("alt",t.card.title),S("src",t.card.fileUrl,V)}}function Ps(a,e){if(a&1&&M(0,Cs,2,3,"a",25)(1,Es,2,3,"a",25),a&2){let t=C(2);Y(t.card.externalFileUrl!=null?0:1)}}function Is(a,e){if(a&1&&(o(0,"a",28),u(1,"img",27),r()),a&2){let t,i=C(3);Z("href",i.card.externalFileUrl,V),f(),Z("alt",i.card.title),S("src","./assets/icons/file-"+i.FileTypes[(t=i.card.fileType)!==null&&t!==void 0?t:-1]+".svg",V)}}function Ms(a,e){if(a&1&&(o(0,"a",28),u(1,"img",27),r()),a&2){let t,i=C(3);Z("href",i.card.fileUrl,V),f(),Z("alt",i.card.title),S("src","./assets/icons/file-"+i.FileTypes[(t=i.card.fileType)!==null&&t!==void 0?t:-1]+".svg",V)}}function Ts(a,e){if(a&1&&M(0,Is,2,3,"a",28)(1,Ms,2,3,"a",28),a&2){let t=C(2);Y(t.card.externalFileUrl!=null?0:1)}}function Fs(a,e){if(a&1&&(o(0,"div"),M(1,Ps,2,1)(2,Ts,2,1),r()),a&2){let t,i,n,s=C();Ci("file-img-holder ",s.FileTypes[(t=s.card.fileType)!==null&&t!==void 0?t:-1],""),B("file",s.FileTypes[(i=s.card.fileType)!==null&&i!==void 0?i:-1]!="Image"),f(),Y((n=s.FileTypes[(n=s.card.fileType)!==null&&n!==void 0?n:-1])==="Image"?1:2)}}function js(a,e){a&1&&Yn(0)}function Os(a,e){if(a&1&&(o(0,"span"),l(1),F(2,"number"),r()),a&2){let t,i=C(3);f(),O("",K(2,1,((t=i.card.fileSize)!==null&&t!==void 0?t:0)/1.024,"1.2-2")," MB")}}function ks(a,e){if(a&1&&(o(0,"span"),l(1),F(2,"number"),r()),a&2){let t,i=C(3);f(),O("",K(2,1,((t=i.card.fileSize)!==null&&t!==void 0?t:0)*1024,"1.2-2")," KB")}}function Ds(a,e){if(a&1&&(l(0),M(1,Os,3,4,"span")(2,ks,3,4,"span")),a&2){let t,i,n=C(2);O(" ",(t=n.card.videoDuration)!==null&&t!==void 0?t:"00:00"," Min | "),f(),Y(((i=n.card.fileSize)!==null&&i!==void 0?i:0)>1?1:2)}}function As(a,e){a&1&&l(0,"External file")}function zs(a,e){if(a&1&&(u(0,"img",29),o(1,"span"),M(2,Ds,3,2)(3,As,1,0),r()),a&2){let t=C();f(2),Y(t.card.externalFileUrl==null?2:3)}}function Rs(a,e){if(a&1&&(o(0,"span"),l(1),F(2,"number"),r()),a&2){let t,i=C(3);f(),O("",K(2,1,((t=i.card.fileSize)!==null&&t!==void 0?t:0)/1.024,"1.2-2")," MB")}}function Ns(a,e){if(a&1&&(o(0,"span"),l(1),F(2,"number"),r()),a&2){let t,i=C(3);f(),O("",K(2,1,((t=i.card.fileSize)!==null&&t!==void 0?t:0)*1024,"1.2-2")," KB")}}function Ls(a,e){if(a&1&&M(0,Rs,3,4,"span")(1,Ns,3,4,"span"),a&2){let t,i=C(2);Y(((t=i.card.fileSize)!==null&&t!==void 0?t:0)>1?0:1)}}function Vs(a,e){a&1&&(o(0,"span"),l(1,"External file"),r())}function Bs(a,e){if(a&1&&M(0,Ls,2,1)(1,Vs,2,0,"span"),a&2){let t=C();Y(t.card.externalFileUrl==null?0:1)}}var Se=class a{constructor(e,t){this.fileCardService=e;this.el=t}card;index;showInfo=new $;favorite=new $;activeCardIndex=null;FileTypes=Di;closeSub;settings={counter:!1,plugins:[cr]};onBeforeSlide=e=>{let{index:t,prevIndex:i}=e;console.log(t,i)};ngOnInit(){this.closeSub=this.fileCardService.closeAllMenus$.subscribe(()=>{this.activeCardIndex=null})}toggleMenu(e,t){t.preventDefault(),t.stopPropagation(),this.fileCardService.closeAllMenus(),this.activeCardIndex=this.activeCardIndex===e?null:e}onDocumentClick(e){let t=e.target;!t.closest(".file-action-menu")&&!t.closest(".dots-menu")&&this.fileCardService.closeAllMenus()}ngOnDestroy(){this.closeSub.unsubscribe()}static \u0275fac=function(t){return new(t||a)(I(yi),I(de))};static \u0275cmp=R({type:a,selectors:[["app-file-card"]],hostBindings:function(t,i){t&1&&w("click",function(s){return i.onDocumentClick(s)},!1,Ni)},inputs:{card:"card",index:"index"},outputs:{showInfo:"showInfo",favorite:"favorite"},standalone:!1,decls:57,vars:25,consts:[["thenBlock",""],["elseBlock",""],["thenBlock1",""],["elseBlock1",""],[1,"recent-file-card"],[1,"file-card-header","d-flex","flex-row","justify-content-between","align-items-center"],["src","assets/icons/recent-file-settings.svg","alt","",1,"dots-menu",3,"click"],["id","menu-1",1,"file-action-menu"],["href",""],["src","assets/icons/share.svg","alt","Share"],["src","assets/icons/download.svg","alt","Download"],["src","assets/icons/rename.svg","alt","Rename"],["src","assets/icons/move.svg","alt","Move"],["src","assets/icons/duplicate.svg","alt","Duplicate"],[3,"click"],["src","assets/icons/info.svg","alt","File info"],[1,"delete"],["src","assets/icons/delete.svg","alt","Delete"],[4,"ngIf","ngIfThen","ngIfElse"],[1,"recent-file-type","pt-2","d-flex","justify-content-between","flex-row","align-items-center"],["alt","",1,"me-1",3,"src"],[3,"title"],[1,"star",3,"click","ngClass"],[1,"fa","fa-star"],[1,"recent-file-footer","pt-2","d-flex","flex-row","align-items-center"],["data-fancybox","gallery",3,"href"],["controls","",3,"src"],[3,"src","alt"],["target","_blank",3,"href"],["src","assets/icons/file-clock.svg","alt","",1,"me-1"]],template:function(t,i){if(t&1){let n=D();o(0,"div",4)(1,"div",5)(2,"span"),l(3),F(4,"date"),r(),o(5,"img",6),w("click",function(c){return _(n),x(i.toggleMenu(i.card.fileId,c))}),r()(),o(6,"div",7)(7,"ul")(8,"li")(9,"a",8),u(10,"img",9),l(11," Share"),r()(),o(12,"li")(13,"a",8),u(14,"img",10),l(15,"Download"),r()(),o(16,"li")(17,"a",8),u(18,"img",11),l(19," Rename"),r()(),o(20,"li")(21,"a",8),u(22,"img",12),l(23," Move to"),r()(),o(24,"li")(25,"a",8),u(26,"img",13),l(27,"Duplicate file"),r()(),o(28,"li")(29,"a",14),w("click",function(){return _(n),x(i.showInfo.emit(i.card))}),u(30,"img",15),l(31," File information"),r()(),o(32,"li",16)(33,"a",8),u(34,"img",17),l(35," Remove"),r()()()(),M(36,xs,1,0,"ng-container",18)(37,ws,3,5,"ng-template",null,0,ue)(39,Fs,3,6,"ng-template",null,1,ue),o(41,"div",19)(42,"div"),u(43,"img",20),o(44,"span",21),l(45),F(46,"slice"),F(47,"slice"),r()(),o(48,"div")(49,"div",22),w("click",function(){return _(n),x(i.favorite.emit(i.card==null?null:i.card.fileId))}),u(50,"i",23),r()()(),o(51,"div",24),M(52,js,1,0,"ng-container",18)(53,zs,4,1,"ng-template",null,2,ue)(55,Bs,2,1,"ng-template",null,3,ue),r()()}if(t&2){let n,s,c=H(38),d=H(40),m=H(54),g=H(56);B("active",i.activeCardIndex===i.card.fileId),f(3),O("You opened \u2022 ",K(4,13,i.card.openedDate,"HH:mm")," AM"),f(33),S("ngIf",i.card.fileType==i.FileTypes.Video)("ngIfThen",c)("ngIfElse",d),f(7),S("src","assets/icons/file-"+i.FileTypes[(n=i.card.fileType)!==null&&n!==void 0?n:-1]+"1.svg",V),f(),S("title",i.card.title),f(),O(" ",((s=i.card.title)!==null&&s!==void 0?s:"").length>20?jt(46,16,i.card.title,0,16)+"..."+K(47,20,i.card.title,-4):i.card.title," "),f(4),S("ngClass",te(23,_s,i.card.isFavByUser)),f(3),S("ngIf",i.card.fileType==i.FileTypes.Video)("ngIfThen",m)("ngIfElse",g)}},dependencies:[pt,X,Ot,Me,$i],encapsulation:2})};var Hs=["dropdownRef"];function Us(a,e){if(a&1&&u(0,"img",7),a&2){let t=C();S("src",t.icon,V)}}function $s(a,e){if(a&1){let t=D();o(0,"li")(1,"a",10),w("click",function(){let n=_(t).$implicit,s=C(2);return x(s.selectOption(n))}),l(2),r()()}if(a&2){let t=e.$implicit;f(2),N(t)}}function Ws(a,e){if(a&1&&(o(0,"ul",8),M(1,$s,3,1,"li",9),r()),a&2){let t=C();f(),S("ngForOf",t.options)}}var Pe=class a{constructor(e,t){this.fileCardService=e;this.renderer=t}label="";icon="";options=[];optionSelected=new $;dropdownRef;isOpen=!1;sub;ngOnInit(){this.sub=this.fileCardService.closeAll$.subscribe(()=>{this.isOpen=!1})}toggleDropdown(e){e.preventDefault(),e.stopPropagation(),this.isOpen?this.isOpen=!1:(this.fileCardService.closeAll(),this.isOpen=!0)}selectOption(e){this.optionSelected.emit(e),this.isOpen=!1}handleOutsideClick(e){this.dropdownRef?.nativeElement.contains(e.target)||(this.isOpen=!1)}ngOnDestroy(){this.sub.unsubscribe()}static \u0275fac=function(t){return new(t||a)(I(yi),I(re))};static \u0275cmp=R({type:a,selectors:[["app-sort-files"]],viewQuery:function(t,i){if(t&1&&ae(Hs,5),t&2){let n;G(n=Q())&&(i.dropdownRef=n.first)}},hostBindings:function(t,i){t&1&&w("click",function(s){return i.handleOutsideClick(s)},!1,Ni)},inputs:{label:"label",icon:"icon",options:"options"},outputs:{optionSelected:"optionSelected"},standalone:!1,decls:8,vars:3,consts:[["dropdownRef",""],[1,"dropdown1","dropdown"],["href","#",1,"dropdown-toggle1","dropdown-toggle",3,"click"],["alt","",3,"src",4,"ngIf"],[1,"px-1"],["src","assets/icons/middle-arrow-down.svg","alt","",1,"arrow-icon"],["class","dropdown-menu1",4,"ngIf"],["alt","",3,"src"],[1,"dropdown-menu1"],[4,"ngFor","ngForOf"],["href","#",3,"click"]],template:function(t,i){if(t&1){let n=D();o(0,"div",1,0)(2,"a",2),w("click",function(c){return _(n),x(i.toggleDropdown(c))}),M(3,Us,1,1,"img",3),o(4,"span",4),l(5),r(),u(6,"img",5),r(),M(7,Ws,2,1,"ul",6),r()}t&2&&(f(3),S("ngIf",i.icon),f(2),N(i.label),f(2),S("ngIf",i.isOpen))},dependencies:[ee,X],encapsulation:2})};var qs=["cardElement"],Zs=()=>["PDF","Word","Excel"],Xs=()=>["Name 1","Name 2","Name 3"],Ys=()=>["Newest","Oldest","Recently Edited"],Ks=a=>({template1:a}),Gs=()=>["/projects/project-details"],Qs=a=>({id:a});function Js(a,e){if(a&1){let t=D();o(0,"div")(1,"button",69),u(2,"img",70),l(3,"Share"),r(),o(4,"button",71),w("click",function(){_(t);let n=C();return x(n.closeInfo())}),u(5,"img",72),l(6,"Information"),r()()}}function el(a,e){if(a&1&&(o(0,"span"),l(1),F(2,"number"),r()),a&2){let t,i=C().$implicit;f(),O("",K(2,1,((t=i.filesSize)!==null&&t!==void 0?t:0)/1.024,"1.2-2")," MB")}}function tl(a,e){if(a&1&&(o(0,"span"),l(1),F(2,"number"),r()),a&2){let t,i=C().$implicit;f(),O("",K(2,1,((t=i.filesSize)!==null&&t!==void 0?t:0)*1024,"1.2-2")," KB")}}function il(a,e){if(a&1&&(o(0,"div",73)(1,"a",74)(2,"div",75),u(3,"img",76),r(),o(4,"div",77)(5,"p",78),l(6),r(),o(7,"p",79),M(8,el,3,4,"span")(9,tl,3,4,"span"),l(10),r()()()()),a&2){let t,i,n=e.$implicit;f(),S("routerLink",A(5,Gs))("queryParams",te(6,Qs,n.projectId)),f(5),N(n.title),f(2),Y(((t=n.filesSize)!==null&&t!==void 0?t:0)>1?8:9),f(2),O(" | ",(i=n.filesNum)!==null&&i!==void 0?i:0," items")}}function nl(a,e){if(a&1){let t=D();o(0,"div",73)(1,"app-file-card",80),w("toggleMenu",function(n){_(t);let s=C();return x(s.toggleMenu(n.index,n.event))})("showInfo",function(n){_(t);let s=C();return x(s.showInfo(n))})("favorite",function(n){_(t);let s=C();return x(s.favorite(n))}),r()()}if(a&2){let t=e.$implicit,i=e.index,n=C();f(),S("card",t)("index",i)("activeCardIndex",n.activeCardIndex)}}function ol(a,e){if(a&1&&(o(0,"div",81),u(1,"img",82),r()),a&2){let t=C().data;f(),Z("src",t==null?null:t.image,V)}}function al(a,e){if(a&1&&(M(0,ol,2,1,"div",81),l(1)),a&2){let t=e.data;Y(t!=null&&t.image?0:-1),f(),O(" ",t==null?null:t.name," ")}}var Tn=class a{constructor(e,t,i,n,s,c,d,m){this.renderer=e;this.fileUploadService=t;this.modalService=i;this.projectService=n;this.toaster=s;this.translate=c;this.el=d;this.uploadService=m}subscriptions=[];projects=[];projectFiles=[];isFetching=!1;isFetchingFiles=!1;pageSize=20;currentPage=1;totalItems=0;numberOfPages=0;ProjectTypes=ht;selectedProjectType=null;selectedSortField=null;cardElements;uploads=[];files;isUpload=!1;count=0;ngOnInit(){J.bind(this.el.nativeElement,"[data-fancybox]",{}),this.fetchProjects(),this.fetchProjectFiles()}fetchProjects(){if(this.isFetching)return;this.isFetching=!0;let e=this.projectService.fetchProjects(this.currentPage,this.pageSize,this.selectedProjectType,this.selectedSortField).subscribe(t=>{t&&(console.log("Recent projects:",t),this.projects=t.data.slice(0,8),this.currentPage=t.currentPage,this.pageSize=t.pageSize,this.totalItems=t.totalItems,this.numberOfPages=t.numberOfPages),this.isFetching=!1});this.subscriptions.push(e)}fetchProjectFiles(){let e=this.projectService.fetchProjectFiles(null,null,1,1e4,null,null,!0).subscribe(t=>{t&&(console.log(t),this.projectFiles=t.data,console.log(this.projectFiles)),this.isFetchingFiles=!1});this.subscriptions.push(e)}data=[{options:[{value:"Omar Ezz",label:"Omar Ezz",data:{name:"Omar Ezz",email:"Omar_Ezz@exapmle.com.sa",image:"assets/images/profile/pic1.jpg"},templateId:"template1",templateSelectionId:"template1Selection",id:"1"},{value:"Emad hamdi",label:"Emad Hamdi",data:{name:"Emad hamdi",email:"emad_hamdi@exapmle.com.sa",image:"assets/images/profile/user4.jpg"},templateId:"template1",templateSelectionId:"template1Selection",id:"2"},{value:"Ehab Zakaria",label:"Ehab Zakaria",data:{name:"Ehab Zakaria",email:"ehab_zakaria@exapmle.com.sa",image:"assets/images/profile/default-profile-img.png"},templateId:"template1",templateSelectionId:"template1Selection",id:"3"},{value:"mohamed Ezz",label:"mohamed Ezz",data:{name:"mohamed Ezz",email:"mohamed@exapmle.com.sa",image:"assets/images/profile/pic1.jpg"},templateId:"template1",templateSelectionId:"template1Selection",id:"4"},{value:"Ali hamdi",label:"Ali Hamdi",data:{name:"Ali hamdi",email:"Ali@exapmle.com.sa",image:"assets/images/profile/user4.jpg"},templateId:"template1",templateSelectionId:"template1Selection",id:"5"},{value:"hassan Zakaria",label:"hassan Zakaria",data:{name:"hassan Zakaria",email:"hassan@exapmle.com.sa",image:"assets/images/profile/default-profile-img.png"},templateId:"template1",templateSelectionId:"template1Selection",id:"6"}]}];favorite(e){console.log(e),this.projectService.setFavourite(e).subscribe(t=>{this.toaster.success("",this.translate.instant("Favorite list updated successfully")),this.fetchProjectFiles()})}onTypeSelect(e){console.log("Selected type:",e)}onPeopleSelect(e){console.log("Selected person:",e)}onModifiedSelect(e){console.log("Selected modified:",e)}shownInfo=!1;showInfo(e){console.log(e),this.shownInfo==!1&&(this.shownInfo=!this.shownInfo)}closeInfo(){this.shownInfo=!this.shownInfo}openAddProjectModal(){let t=this.modalService.open(pi,{size:"xl",backdrop:"static",keyboard:!1}).componentInstance.isSuccess.subscribe(i=>{});this.subscriptions.push(t)}ngOnDestroy(){J.unbind(this.el.nativeElement),J.close(),this.subscriptions.forEach(e=>e.unsubscribe())}static \u0275fac=function(t){return new(t||a)(I(re),I(Ee),I(Je),I(pe),I(me),I(ge),I(de),I(mi))};static \u0275cmp=R({type:a,selectors:[["app-home"]],viewQuery:function(t,i){if(t&1&&ae(qs,5),t&2){let n;G(n=Q())&&(i.cardElements=n)}},standalone:!1,decls:192,vars:27,consts:[["template1",""],[1,"row","home-layout"],[1,"col"],[1,"d-flex","justify-content-between","heady","mb-4"],[4,"ngIf"],[1,"upper","d-flex","flex-row"],[1,"upload-btn","upper-folder",3,"click"],["src","assets/icons/folder-upper.svg","alt",""],[1,"pt-3"],[1,"sorting"],[1,"pt-3","d-flex","flex-row","gap-3","sorting-row"],[3,"optionSelected","label","icon","options"],[1,"recent-folder","pt-5"],[1,"d-flex","flex-row","align-items-center"],["src","assets/icons/middle-arrow-down.svg","alt",""],[1,"row","pt-3","recent-folder-row"],["class","col-xxl-2 col-xl-3 col-lg-4 col-sm-6",4,"ngFor","ngForOf"],[1,"recent-file","pt-5"],[1,"row","pt-3","recent-file-row"],[1,"file-info"],[1,"close-info",3,"click"],["src","assets/icons/close.svg","alt",""],["src","assets/icons/file-photo.svg","alt","",1,"me-2"],[1,"file-image"],["src","assets/images/file-card.png","alt",""],[1,"v-mar"],[1,"users"],[1,"m-user"],["src","assets/images/profile/small/pic1.jpg","alt",""],[1,"other"],["src","assets/images/profile/small/pic9.jpg","alt",""],["src","assets/images/profile/small/pic3.jpg","alt",""],["src","assets/images/profile/small/pic4.jpg","alt",""],["href","#","data-bs-toggle","modal","data-bs-target","#exampleModal"],["src","assets/images/plus.svg","alt",""],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered","modal-lg"],[1,"modal-content"],[1,"modal-header"],[1,"d-flex","mod-head","justify-content-between"],["id","exampleModalLabel",1,"modal-title"],["href",""],[1,"fa","fa-link"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close","ms-2"],[1,"modal-body"],["placeholder","Enter Name or Email address","displaySearchStatus","default","multiple","","showSelectAll","",3,"data","templates"],[1,"mt-3","title-1"],[1,"list-group","list-group-flush","list-of-user","mb-3"],[1,"list-group-item","d-flex","justify-content-between","align-items-center"],[1,"d-flex","prof"],["src","assets/images/profile/small/pic1.jpg","alt","",1,"me-2"],["name","","id","",1,"form-control-solid"],["value",""],["value","","selected",""],["src","assets/images/profile/small/pic9.jpg","alt","",1,"me-2"],["src","assets/images/profile/small/pic3.jpg","alt","",1,"me-2"],["src","assets/images/profile/small/pic4.jpg","alt","",1,"me-2"],["src","assets/images/profile/small/pic5.jpg","alt","",1,"me-2"],[1,"d-flex","justify-content-end"],["type","button","data-bs-dismiss","modal",1,"btn","btn-primary"],[1,"form-group"],[1,"tags"],[1,"custom-check"],["for","tag1",1,"tag"],["for","tag2",1,"tag"],["for","tag3",1,"tag"],["for","tag4",1,"tag"],["for","tag4",1,"tag","active"],[1,"fa","fa-plus","me-1"],["data-bs-toggle","modal","data-bs-target","#exampleModal",1,"btn","btn-solid","me-3"],["src","./assets/icons/menu/user.svg","alt","",1,"me-2"],[1,"btn","btn-primary",3,"click"],["src","./assets/icons/info.svg","alt","",1,"me-2","filter"],[1,"col-xxl-2","col-xl-3","col-lg-4","col-sm-6"],[1,"recent-folder-card",3,"routerLink","queryParams"],[1,"folder-img"],["src","assets/icons/recent-folder.svg","alt",""],[1,"folder-text"],[1,"recent-folder-title"],[1,"recent-folder-details"],[3,"toggleMenu","showInfo","favorite","card","index","activeCardIndex"],[1,"image","me-2"],["alt","",3,"src"]],template:function(t,i){if(t&1){let n=D();o(0,"div",1)(1,"div",2)(2,"div",3),u(3,"div"),M(4,Js,7,0,"div",4),r(),o(5,"div",5)(6,"button",6),w("click",function(){return _(n),x(i.openAddProjectModal())}),u(7,"img",7),o(8,"span",8),l(9,"Create project"),r()()(),o(10,"div",9)(11,"strong"),l(12,"Sorting"),r(),o(13,"div",10)(14,"app-sort-files",11),w("optionSelected",function(c){return _(n),x(i.onTypeSelect(c))}),r(),o(15,"app-sort-files",11),w("optionSelected",function(c){return _(n),x(i.onPeopleSelect(c))}),r(),o(16,"app-sort-files",11),w("optionSelected",function(c){return _(n),x(i.onModifiedSelect(c))}),r()()(),o(17,"div",12)(18,"div",13),u(19,"img",14),o(20,"strong"),l(21,"Recent projects"),r()(),o(22,"div",15),M(23,il,11,8,"div",16),r()(),o(24,"div",17)(25,"div",13),u(26,"img",14),o(27,"strong"),l(28,"recent file"),r()(),o(29,"div",18),M(30,nl,2,3,"div",16),F(31,"slice"),r()()(),o(32,"div",2)(33,"div",19)(34,"div",20),w("click",function(){return _(n),x(i.closeInfo())}),u(35,"img",21),r(),o(36,"h3"),u(37,"img",22),l(38," WOTN drive.jpg"),r(),o(39,"div",23),u(40,"img",24),r(),o(41,"div",25)(42,"h3"),l(43,"Who has access"),r(),o(44,"div",26)(45,"div",27),u(46,"img",28),r(),o(47,"div",29),u(48,"img",30)(49,"img",31)(50,"img",32),o(51,"a",33),u(52,"img",34),r()()(),o(53,"p"),l(54,"Owend by you."),r()(),o(55,"div",35)(56,"div",36)(57,"div",37)(58,"div",38)(59,"div",39)(60,"h5",40),l(61,'Share "WOTN drive.mp4"'),r(),o(62,"div")(63,"a",41),u(64,"i",42),l(65," copy link"),r(),u(66,"button",43),r()()(),o(67,"div",44)(68,"select2",45),M(69,al,2,2,"ng-template",null,0,ue),r(),o(71,"h3",46),l(72,"Who has access"),r(),o(73,"ul",47)(74,"a",48)(75,"div",49),u(76,"img",50),o(77,"div")(78,"h5"),l(79,"Ahmed El Hammad"),r(),o(80,"p"),l(81,"Ahmed@exapmle.com.sa"),r()()(),o(82,"div")(83,"select",51)(84,"option",52),l(85,"Editor"),r(),o(86,"option",53),l(87,"Viewer"),r()()()(),o(88,"a",48)(89,"div",49),u(90,"img",54),o(91,"div")(92,"h5"),l(93,"Kareem El Hussainy"),r(),o(94,"p"),l(95,"Ahmed@exapmle.com.sa"),r()()(),o(96,"div")(97,"select",51)(98,"option",52),l(99,"Editor"),r(),o(100,"option",52),l(101,"Viewer"),r()()()(),o(102,"a",48)(103,"div",49),u(104,"img",55),o(105,"div")(106,"h5"),l(107,"Saad El Daly"),r(),o(108,"p"),l(109,"Ahmed@exapmle.com.sa"),r()()(),o(110,"div")(111,"select",51)(112,"option",52),l(113,"Editor"),r(),o(114,"option",52),l(115,"Viewer"),r()()()(),o(116,"a",48)(117,"div",49),u(118,"img",56),o(119,"div")(120,"h5"),l(121,"Amr Hassas"),r(),o(122,"p"),l(123,"Ahmed@exapmle.com.sa"),r()()(),o(124,"div")(125,"select",51)(126,"option",52),l(127,"Editor"),r(),o(128,"option",53),l(129,"Viewer"),r()()()(),o(130,"a",48)(131,"div",49),u(132,"img",57),o(133,"div")(134,"h5"),l(135,"Mostafa El Hammad"),r(),o(136,"p"),l(137,"Ahmed@exapmle.com.sa"),r()()(),o(138,"div")(139,"select",51)(140,"option",52),l(141,"Editor"),r(),o(142,"option",52),l(143,"Viewer"),r()()()()(),o(144,"div",58)(145,"button",59),l(146,"Done"),r()()()()()(),o(147,"div",25)(148,"h3"),l(149,"Tags"),r(),o(150,"div",60)(151,"div",61)(152,"div",62)(153,"label",63),l(154,"Website"),r()(),o(155,"div",62)(156,"label",64),l(157,"Government agencies"),r()(),o(158,"div",62)(159,"label",65),l(160,"Photo"),r()(),o(161,"div",62)(162,"label",66),l(163,"Videos"),r()(),o(164,"div",62)(165,"label",67),u(166,"i",68),l(167," Add Tag"),r()()()()(),o(168,"div",25)(169,"h3"),l(170,"Description"),r(),o(171,"p"),l(172," Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. "),r()(),o(173,"div",25)(174,"h3"),l(175,"Project Details"),r(),o(176,"h4"),l(177,"Project Type"),r(),o(178,"p"),l(179,"conference"),r(),o(180,"h4"),l(181,"Size"),r(),o(182,"p"),l(183,"105.3 MB"),r(),o(184,"h4"),l(185,"Owner"),r(),o(186,"p"),l(187,"You are Owner"),r(),o(188,"h4"),l(189,"Created"),r(),o(190,"p"),l(191,"25 May 2025"),r()()()()()}if(t&2){let n=H(70);B("expand",i.shownInfo),f(4),S("ngIf",i.shownInfo),f(10),S("label","Type")("icon","assets/icons/file-text.svg")("options",A(22,Zs)),f(),S("label","People")("icon","assets/icons/profile-middle.svg")("options",A(23,Xs)),f(),S("label","Modified")("icon","assets/icons/modified-middle.svg")("options",A(24,Ys)),f(7),S("ngForOf",i.projects),f(7),S("ngForOf",jt(31,18,i.projectFiles,0,12)),f(2),B("active",i.shownInfo),f(36),S("data",i.data)("templates",te(25,Ks,n))}},dependencies:[ee,X,Se,Pe,Fe,fe,he,xe,Ot,Me],encapsulation:2})};var rl=["cardElement"],sl=()=>["PDF","Word","Excel"],ll=()=>["Name 1","Name 2","Name 3"],cl=()=>["Newest","Oldest","Recently Edited"],dl=a=>({template1:a});function ml(a,e){if(a&1){let t=D();o(0,"div",61)(1,"app-file-card",62),w("showInfo",function(n){_(t);let s=C();return x(s.showInfo(n))}),r()()}if(a&2){let t=e.$implicit,i=e.index;f(),S("card",t)("index",i)}}function pl(a,e){if(a&1){let t=D();o(0,"div",61)(1,"app-file-card",62),w("showInfo",function(n){_(t);let s=C();return x(s.showInfo(n))}),r()()}if(a&2){let t=e.$implicit,i=e.index;f(),S("card",t)("index",i)}}function ul(a,e){if(a&1){let t=D();o(0,"div",61)(1,"app-file-card",63),w("showInfo",function(n){_(t);let s=C();return x(s.showInfo(n))})("favorite",function(n){_(t);let s=C();return x(s.favorite(n))}),r()()}if(a&2){let t=e.$implicit,i=e.index;f(),S("card",t)("index",i)}}function gl(a,e){if(a&1&&(o(0,"div",64),u(1,"img",65),r()),a&2){let t=C().data;f(),Z("src",t==null?null:t.image,V)}}function fl(a,e){if(a&1&&(M(0,gl,2,1,"div",64),l(1)),a&2){let t=e.data;Y(t!=null&&t.image?0:-1),f(),O(" ",t==null?null:t.name," ")}}var Fn=class a{constructor(e,t,i,n,s,c){this.renderer=e;this.fileUploadService=t;this.projectService=i;this.toaster=n;this.translate=s;this.el=c}cardElements;uploads=[];files;isUpload=!1;count=0;subscriptions=[];projects=[];projectFiles=[];isFetching=!1;isFetchingFiles=!1;pageSize=20;currentPage=1;totalItems=0;numberOfPages=0;todayFiles;lastWeekFiles;lastMonthFiles;ngOnInit(){J.bind(this.el.nativeElement,"[data-fancybox]",{}),this.fetchProjectFiles()}fetchProjectFiles(){let e=this.projectService.fetchProjectFiles(null,null,1,1e4,null,null,!0).subscribe(t=>{if(t){let i=new Date,n=new Date(i.getTime()-7*24*60*60*1e3),s=new Date(i.getTime()-30*24*60*60*1e3);this.todayFiles=t.data.filter(c=>(c.postDate?new Date(c.postDate):null)?.toDateString()===i.toDateString()),this.lastWeekFiles=t.data.filter(c=>{let d=c.postDate?new Date(c.postDate):null;return d&&d>n&&d<i&&d.toDateString()!==i.toDateString()}),this.lastMonthFiles=t.data.filter(c=>{let d=c.postDate?new Date(c.postDate):null;return d&&d>s&&d<=n})}this.isFetchingFiles=!1});this.subscriptions.push(e)}data=[{options:[{value:"Omar Ezz",label:"Omar Ezz",data:{name:"Omar Ezz",email:"Omar_Ezz@exapmle.com.sa",image:"assets/images/profile/pic1.jpg"},templateId:"template1",templateSelectionId:"template1Selection",id:"1"},{value:"Emad hamdi",label:"Emad Hamdi",data:{name:"Emad hamdi",email:"emad_hamdi@exapmle.com.sa",image:"assets/images/profile/user4.jpg"},templateId:"template1",templateSelectionId:"template1Selection",id:"2"},{value:"Ehab Zakaria",label:"Ehab Zakaria",data:{name:"Ehab Zakaria",email:"ehab_zakaria@exapmle.com.sa",image:"assets/images/profile/default-profile-img.png"},templateId:"template1",templateSelectionId:"template1Selection",id:"3"},{value:"mohamed Ezz",label:"mohamed Ezz",data:{name:"mohamed Ezz",email:"mohamed@exapmle.com.sa",image:"assets/images/profile/pic1.jpg"},templateId:"template1",templateSelectionId:"template1Selection",id:"4"},{value:"Ali hamdi",label:"Ali Hamdi",data:{name:"Ali hamdi",email:"Ali@exapmle.com.sa",image:"assets/images/profile/user4.jpg"},templateId:"template1",templateSelectionId:"template1Selection",id:"5"},{value:"hassan Zakaria",label:"hassan Zakaria",data:{name:"hassan Zakaria",email:"hassan@exapmle.com.sa",image:"assets/images/profile/default-profile-img.png"},templateId:"template1",templateSelectionId:"template1Selection",id:"6"}]}];favorite(e){console.log(e),this.projectService.setFavourite(e).subscribe(t=>{this.toaster.success("",this.translate.instant("Favorite list updated successfully")),this.fetchProjectFiles()})}onTypeSelect(e){console.log("Selected type:",e)}onPeopleSelect(e){console.log("Selected person:",e)}onModifiedSelect(e){console.log("Selected modified:",e)}shownInfo=!1;showInfo(e){console.log(e),this.shownInfo==!1&&(this.shownInfo=!this.shownInfo)}closeInfo(){this.shownInfo=!this.shownInfo}ngOnDestroy(){J.unbind(this.el.nativeElement),J.close()}static \u0275fac=function(t){return new(t||a)(I(re),I(Ee),I(pe),I(me),I(ge),I(de))};static \u0275cmp=R({type:a,selectors:[["app-recents"]],viewQuery:function(t,i){if(t&1&&ae(rl,5),t&2){let n;G(n=Q())&&(i.cardElements=n)}},standalone:!1,decls:192,vars:23,consts:[["template1",""],[1,"row","home-layout"],[1,"col"],[1,"sorting"],[1,"pt-3","d-flex","flex-row","gap-3","sorting-row"],[3,"optionSelected","label","icon","options"],[1,"recent-file","pt-5"],[1,"d-flex","flex-row","align-items-center"],["src","assets/icons/middle-arrow-down.svg","alt",""],[1,"row","pt-3","recent-file-row"],["class","col-xxl-2 col-xl-3 col-lg-4 col-sm-6",4,"ngFor","ngForOf"],[1,"file-info"],[1,"close-info",3,"click"],["src","assets/icons/close.svg","alt",""],["src","assets/icons/file-photo.svg","alt","",1,"me-2"],[1,"file-image"],["src","assets/images/file-card.png","alt",""],[1,"v-mar"],[1,"users"],[1,"m-user"],["src","assets/images/profile/small/pic1.jpg","alt",""],[1,"other"],["src","assets/images/profile/small/pic9.jpg","alt",""],["src","assets/images/profile/small/pic3.jpg","alt",""],["src","assets/images/profile/small/pic4.jpg","alt",""],["href","#","data-bs-toggle","modal","data-bs-target","#exampleModal"],["src","assets/images/plus.svg","alt",""],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered","modal-lg"],[1,"modal-content"],[1,"modal-header"],[1,"d-flex","mod-head","justify-content-between"],["id","exampleModalLabel",1,"modal-title"],["href",""],[1,"fa","fa-link"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close","ms-2"],[1,"modal-body"],["placeholder","Enter Name or Email address","displaySearchStatus","default","multiple","","showSelectAll","",3,"data","templates"],[1,"mt-3","title-1"],[1,"list-group","list-group-flush","list-of-user","mb-3"],[1,"list-group-item","d-flex","justify-content-between","align-items-center"],[1,"d-flex","prof"],["src","assets/images/profile/small/pic1.jpg","alt","",1,"me-2"],["name","","id","",1,"form-control-solid"],["value",""],["value","","selected",""],["src","assets/images/profile/small/pic9.jpg","alt","",1,"me-2"],["src","assets/images/profile/small/pic3.jpg","alt","",1,"me-2"],["src","assets/images/profile/small/pic4.jpg","alt","",1,"me-2"],["src","assets/images/profile/small/pic5.jpg","alt","",1,"me-2"],[1,"d-flex","justify-content-end"],["type","button","data-bs-dismiss","modal",1,"btn","btn-primary"],[1,"form-group"],[1,"tags"],[1,"custom-check"],["for","tag1",1,"tag"],["for","tag2",1,"tag"],["for","tag3",1,"tag"],["for","tag4",1,"tag"],["for","tag4",1,"tag","active"],[1,"fa","fa-plus","me-1"],[1,"col-xxl-2","col-xl-3","col-lg-4","col-sm-6"],[3,"showInfo","card","index"],[3,"showInfo","favorite","card","index"],[1,"image","me-2"],["alt","",3,"src"]],template:function(t,i){if(t&1){let n=D();o(0,"div",1)(1,"div",2)(2,"h3"),l(3,"Recent"),r(),o(4,"div",3)(5,"strong"),l(6,"Sorting"),r(),o(7,"div",4)(8,"app-sort-files",5),w("optionSelected",function(c){return _(n),x(i.onTypeSelect(c))}),r(),o(9,"app-sort-files",5),w("optionSelected",function(c){return _(n),x(i.onPeopleSelect(c))}),r(),o(10,"app-sort-files",5),w("optionSelected",function(c){return _(n),x(i.onModifiedSelect(c))}),r()()(),o(11,"div",6)(12,"div",7),u(13,"img",8),o(14,"strong"),l(15,"Today"),r()(),o(16,"div",9),M(17,ml,2,2,"div",10),r()(),o(18,"div",6)(19,"div",7),u(20,"img",8),o(21,"strong"),l(22,"Last week"),r()(),o(23,"div",9),M(24,pl,2,2,"div",10),r()(),o(25,"div",6)(26,"div",7),u(27,"img",8),o(28,"strong"),l(29,"Last month"),r()(),o(30,"div",9),M(31,ul,2,2,"div",10),r()()(),o(32,"div",2)(33,"div",11)(34,"div",12),w("click",function(){return _(n),x(i.closeInfo())}),u(35,"img",13),r(),o(36,"h3"),u(37,"img",14),l(38," WOTN drive.jpg"),r(),o(39,"div",15),u(40,"img",16),r(),o(41,"div",17)(42,"h3"),l(43,"Who has access"),r(),o(44,"div",18)(45,"div",19),u(46,"img",20),r(),o(47,"div",21),u(48,"img",22)(49,"img",23)(50,"img",24),o(51,"a",25),u(52,"img",26),r()()(),o(53,"p"),l(54,"Owend by you."),r()(),o(55,"div",27)(56,"div",28)(57,"div",29)(58,"div",30)(59,"div",31)(60,"h5",32),l(61,'Share "WOTN drive.mp4"'),r(),o(62,"div")(63,"a",33),u(64,"i",34),l(65," copy link"),r(),u(66,"button",35),r()()(),o(67,"div",36)(68,"select2",37),M(69,fl,2,2,"ng-template",null,0,ue),r(),o(71,"h3",38),l(72,"Who has access"),r(),o(73,"ul",39)(74,"a",40)(75,"div",41),u(76,"img",42),o(77,"div")(78,"h5"),l(79,"Ahmed El Hammad"),r(),o(80,"p"),l(81,"Ahmed@exapmle.com.sa"),r()()(),o(82,"div")(83,"select",43)(84,"option",44),l(85,"Editor"),r(),o(86,"option",45),l(87,"Viewer"),r()()()(),o(88,"a",40)(89,"div",41),u(90,"img",46),o(91,"div")(92,"h5"),l(93,"Kareem El Hussainy"),r(),o(94,"p"),l(95,"Ahmed@exapmle.com.sa"),r()()(),o(96,"div")(97,"select",43)(98,"option",44),l(99,"Editor"),r(),o(100,"option",44),l(101,"Viewer"),r()()()(),o(102,"a",40)(103,"div",41),u(104,"img",47),o(105,"div")(106,"h5"),l(107,"Saad El Daly"),r(),o(108,"p"),l(109,"Ahmed@exapmle.com.sa"),r()()(),o(110,"div")(111,"select",43)(112,"option",44),l(113,"Editor"),r(),o(114,"option",44),l(115,"Viewer"),r()()()(),o(116,"a",40)(117,"div",41),u(118,"img",48),o(119,"div")(120,"h5"),l(121,"Amr Hassas"),r(),o(122,"p"),l(123,"Ahmed@exapmle.com.sa"),r()()(),o(124,"div")(125,"select",43)(126,"option",44),l(127,"Editor"),r(),o(128,"option",45),l(129,"Viewer"),r()()()(),o(130,"a",40)(131,"div",41),u(132,"img",49),o(133,"div")(134,"h5"),l(135,"Mostafa El Hammad"),r(),o(136,"p"),l(137,"Ahmed@exapmle.com.sa"),r()()(),o(138,"div")(139,"select",43)(140,"option",44),l(141,"Editor"),r(),o(142,"option",44),l(143,"Viewer"),r()()()()(),o(144,"div",50)(145,"button",51),l(146,"Done"),r()()()()()(),o(147,"div",17)(148,"h3"),l(149,"Tags"),r(),o(150,"div",52)(151,"div",53)(152,"div",54)(153,"label",55),l(154,"Website"),r()(),o(155,"div",54)(156,"label",56),l(157,"Government agencies"),r()(),o(158,"div",54)(159,"label",57),l(160,"Photo"),r()(),o(161,"div",54)(162,"label",58),l(163,"Videos"),r()(),o(164,"div",54)(165,"label",59),u(166,"i",60),l(167," Add Tag"),r()()()()(),o(168,"div",17)(169,"h3"),l(170,"Description"),r(),o(171,"p"),l(172,"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. "),r()(),o(173,"div",17)(174,"h3"),l(175,"Project Details"),r(),o(176,"h4"),l(177,"Project Type"),r(),o(178,"p"),l(179,"conference"),r(),o(180,"h4"),l(181,"Size"),r(),o(182,"p"),l(183,"105.3 MB"),r(),o(184,"h4"),l(185,"Owner"),r(),o(186,"p"),l(187,"You are Owner"),r(),o(188,"h4"),l(189,"Created"),r(),o(190,"p"),l(191,"25 May 2025"),r()()()()()}if(t&2){let n=H(70);B("expand",i.shownInfo),f(8),S("label","Type")("icon","assets/icons/file-text.svg")("options",A(18,sl)),f(),S("label","People")("icon","assets/icons/profile-middle.svg")("options",A(19,ll)),f(),S("label","Modified")("icon","assets/icons/modified-middle.svg")("options",A(20,cl)),f(7),S("ngForOf",i.todayFiles),f(7),S("ngForOf",i.lastWeekFiles),f(7),S("ngForOf",i.lastMonthFiles),f(),B("active",i.shownInfo),f(36),S("data",i.data)("templates",te(21,dl,n))}},dependencies:[ee,Se,Pe,fe,he,xe],encapsulation:2})};var hl=()=>["/projects/project-details"],vl=a=>({id:a});function bl(a,e){a&1&&(o(0,"span",17),l(1,"Type: All Types"),r())}function Sl(a,e){a&1&&(o(0,"span",17),l(1,"Type: Event"),r())}function yl(a,e){a&1&&(o(0,"span",17),l(1,"Type: Conference"),r())}function _l(a,e){a&1&&(o(0,"span",17),l(1,"Sort"),r())}function xl(a,e){a&1&&(o(0,"span",17),l(1,"Sort: Newest"),r())}function wl(a,e){a&1&&(o(0,"span",17),l(1,"Sort: Oldest"),r())}function Cl(a,e){a&1&&(o(0,"span",17),l(1,"Sort: Name Asc"),r())}function El(a,e){a&1&&(o(0,"span",17),l(1,"Sort: Name Desc"),r())}function Pl(a,e){if(a&1&&u(0,"img",24),a&2){let t=C().$implicit;S("src",t.imageUrl,V)}}function Il(a,e){if(a&1&&(o(0,"span"),l(1),F(2,"number"),r()),a&2){let t,i=C().$implicit;f(),O("",K(2,1,((t=i.filesSize)!==null&&t!==void 0?t:0)/1.024,"1.2-2")," MB")}}function Ml(a,e){if(a&1&&(o(0,"span"),l(1),F(2,"number"),r()),a&2){let t,i=C().$implicit;f(),O("",K(2,1,((t=i.filesSize)!==null&&t!==void 0?t:0)*1024,"1.2-2")," KB")}}function Tl(a,e){if(a&1&&(o(0,"div",18)(1,"a",19)(2,"div",20),M(3,Pl,1,1,"img",21),r(),o(4,"div",22)(5,"span"),l(6),r()(),o(7,"div",23)(8,"span")(9,"span"),M(10,Il,3,4,"span")(11,Ml,3,4,"span"),l(12),r()()()()()),a&2){let t,i=e.$implicit;f(),S("routerLink",A(6,hl))("queryParams",te(7,vl,i.projectId)),f(2),S("ngIf",i.imageUrl),f(3),N(i.title),f(4),Y(((t=i.filesSize)!==null&&t!==void 0?t:0)>1?10:11),f(2),O(" | ",i.filesNum," items")}}var jn=class a{constructor(e,t,i){this.renderer=e;this.modalService=t;this.projectService=i}subscriptions=[];projects=[];isFetching=!1;pageSize=20;currentPage=1;totalItems=0;numberOfPages=0;ProjectTypes=ht;selectedProjectType=null;selectedSortField=null;ngOnInit(){this.fetchProjects()}fetchProjects(){if(this.isFetching)return;this.isFetching=!0;let e=this.projectService.fetchProjects(this.currentPage,this.pageSize,this.selectedProjectType,this.selectedSortField).subscribe(t=>{t&&(this.projects=t.data,this.currentPage=t.currentPage,this.pageSize=t.pageSize,this.totalItems=t.totalItems,this.numberOfPages=t.numberOfPages),this.isFetching=!1});this.subscriptions.push(e)}filterProjectsByType(e){this.currentPage=1,this.selectedProjectType=e,this.fetchProjects()}orderProjectsBy(e){this.currentPage=1,this.selectedSortField=e,this.fetchProjects()}openAddProjectModal(){let t=this.modalService.open(pi,{size:"xl",backdrop:"static",keyboard:!1}).componentInstance.isSuccess.subscribe(i=>{i&&this.fetchProjects()});this.subscriptions.push(t)}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}static \u0275fac=function(t){return new(t||a)(I(re),I(Je),I(pe))};static \u0275cmp=R({type:a,selectors:[["app-projects"]],standalone:!1,decls:52,vars:26,consts:[[1,"row"],[1,"upper","d-flex","flex-row"],[1,"upload-btn",3,"click"],["src","assets/icons/plus.svg","alt",""],[1,"pt-3"],[1,"sorting"],[1,"pt-3","d-flex","flex-row","gap-3","sorting-row"],[1,"dropdown1","dropdown"],["href","javascript:;","type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"dropdown-toggle1","dropdown-toggle"],["src","assets/icons/file-text.svg","alt",""],["class","px-1",4,"ngIf"],["src","assets/icons/middle-arrow-down.svg","alt","",1,"arrow-icon"],[1,"dropdown-menu1","dropdown-menu"],["href","javascript:;",3,"click"],["src","assets/icons/modified-middle.svg","alt",""],[1,"row","pt-3","recent-file-row"],["class","col-xxl-2 col-xl-3 col-lg-4 col-sm-6",4,"ngFor","ngForOf"],[1,"px-1"],[1,"col-xxl-2","col-xl-3","col-lg-4","col-sm-6"],[1,"recent-file-card","projects-block",3,"routerLink","queryParams"],[1,"proj-img-holder"],["alt","",3,"src",4,"ngIf"],[1,"recent-file-type","pt-2","d-flex","flex-row","align-items-center"],[1,"recent-file-footer","pt-2","d-flex","flex-row","align-items-center"],["alt","",3,"src"]],template:function(t,i){t&1&&(o(0,"div",0)(1,"div",1)(2,"button",2),w("click",function(){return i.openAddProjectModal()}),u(3,"img",3),o(4,"span",4),l(5),F(6,"translate"),r()()(),o(7,"div",5)(8,"strong"),l(9,"Sorting"),r(),o(10,"div",6)(11,"div",7)(12,"a",8),u(13,"img",9),M(14,bl,2,0,"span",10)(15,Sl,2,0,"span",10)(16,yl,2,0,"span",10),u(17,"img",11),r(),o(18,"ul",12)(19,"li")(20,"a",13),w("click",function(){return i.selectedProjectType!=null&&i.filterProjectsByType(null)}),l(21,"All Types"),r()(),o(22,"li")(23,"a",13),w("click",function(){return i.selectedProjectType!=i.ProjectTypes.Event&&i.filterProjectsByType(i.ProjectTypes.Event)}),l(24,"Event"),r()(),o(25,"li")(26,"a",13),w("click",function(){return i.selectedProjectType!=i.ProjectTypes.Conference&&i.filterProjectsByType(i.ProjectTypes.Conference)}),l(27,"Conference"),r()()()(),o(28,"div",7)(29,"a",8),u(30,"img",14),M(31,_l,2,0,"span",10)(32,xl,2,0,"span",10)(33,wl,2,0,"span",10)(34,Cl,2,0,"span",10)(35,El,2,0,"span",10),u(36,"img",11),r(),o(37,"ul",12)(38,"li")(39,"a",13),w("click",function(){return i.selectedSortField!="DateDesc"&&i.orderProjectsBy("DateDesc")}),l(40,"Newest"),r()(),o(41,"li")(42,"a",13),w("click",function(){return i.selectedSortField!="DateAsc"&&i.orderProjectsBy("DateAsc")}),l(43,"Oldest"),r()(),o(44,"li")(45,"a",13),w("click",function(){return i.selectedSortField!="TitleAsc"&&i.orderProjectsBy("TitleAsc")}),l(46,"Name Asc"),r()(),o(47,"li")(48,"a",13),w("click",function(){return i.selectedSortField!="TitleDesc"&&i.orderProjectsBy("TitleDesc")}),l(49,"Name Desc"),r()()()()()(),o(50,"div",15),M(51,Tl,13,9,"div",16),r()()),t&2&&(f(5),N(W(6,24,"Projects.CreateProject")),f(9),S("ngIf",i.selectedProjectType==null),f(),S("ngIf",i.selectedProjectType==i.ProjectTypes.Event),f(),S("ngIf",i.selectedProjectType==i.ProjectTypes.Conference),f(4),B("selected",i.selectedProjectType==null),f(3),B("selected",i.selectedProjectType==i.ProjectTypes.Event),f(3),B("selected",i.selectedProjectType==i.ProjectTypes.Conference),f(5),S("ngIf",!i.selectedSortField),f(),S("ngIf",i.selectedSortField=="DateDesc"),f(),S("ngIf",i.selectedSortField=="DateAsc"),f(),S("ngIf",i.selectedSortField=="TitleAsc"),f(),S("ngIf",i.selectedSortField=="TitleDesc"),f(4),B("selected",i.selectedSortField=="DateDesc"),f(3),B("selected",i.selectedSortField=="DateAsc"),f(3),B("selected",i.selectedSortField=="TitleAsc"),f(3),B("selected",i.selectedSortField=="TitleDesc"),f(3),S("ngForOf",i.projects))},dependencies:[ee,X,Fe,Me,ai],styles:["a.selected[_ngcontent-%COMP%]{color:#000!important;cursor:default}"]})};var Fl=["cardElement"];function jl(a,e){if(a&1){let t=D();o(0,"button",8),w("click",function(){_(t);let n=C();return x(n.emptyTrash())}),u(1,"img",9),l(2,"Empty trash"),r()}}function Ol(a,e){if(a&1){let t=D();o(0,"div",10)(1,"app-file-card",11),w("showInfo",function(n){_(t);let s=C();return x(s.showInfo(n))}),r()()}if(a&2){let t=e.$implicit,i=e.index;f(),S("card",t)("index",i)}}function kl(a,e){a&1&&(o(0,"div",12)(1,"div",13),u(2,"img",14),o(3,"h4"),l(4,"The Trash is empty"),r(),o(5,"p"),l(6,"Items moved to the trash will be permanently deleted after 30 days."),r()()())}var On=class a{constructor(e,t,i){this.renderer=e;this.fileUploadService=t;this.toaster=i}cardElements;uploads=[];files;isUpload=!1;count=0;cards=[{id:1,isOpen:!0,isVideo:!0,openedAt:"10:54 AM",fileType:"video",fileImage:"assets/images/files/proj-d1.jpg",fileName:"WOTN drive.mp4",filePath:"assets/videos/HeroDesktop.mp4",fileSize:"105.3 MB",favorite:!0,videoDuration:"04:55 Min",Status:1},{id:2,isOpen:!0,isVideo:!0,openedAt:"10:54 AM",fileType:"photo",fileImage:"assets/images/file-card.png",fileName:"WOTN drive.png",filePath:"assets/videos/HeroDesktop.mp4",fileSize:"105.3 MB",favorite:!0,videoDuration:"",Status:1},{id:3,isOpen:!0,isVideo:!0,openedAt:"10:54 AM",fileType:"text",fileImage:"assets/images/files/proj-d2.jpg",fileName:"WOTN drive.pdf",filePath:"assets/videos/HeroDesktop.mp4",fileSize:"105.3 MB",favorite:!0,videoDuration:"",Status:1},{id:4,isOpen:!0,isVideo:!0,openedAt:"10:54 AM",fileType:"video",fileImage:"assets/images/files/project-1.jpg",fileName:"WOTN drive1.mp4",filePath:"assets/videos/HeroDesktop.mp4",fileSize:"105.3 MB",favorite:!0,videoDuration:"04:55 Min",Status:1}];totalFileSizeMB=0;ngOnInit(){this.totalFileSizeMB=this.cards.reduce((e,t)=>e+this.parseFileSize(t.fileSize),0),console.log(`Total file size: ${this.totalFileSizeMB.toFixed(2)} MB`)}parseFileSize(e){let[t,i]=e.split(" "),n=parseFloat(t);switch(i?.toUpperCase()){case"GB":return n*1024;case"MB":return n;case"KB":return n/1024;default:return 0}}emptyTrash(){this.cards=[],this.toaster.success("","Trash is empty"),this.totalFileSizeMB=0}static \u0275fac=function(t){return new(t||a)(I(re),I(Ee),I(me))};static \u0275cmp=R({type:a,selectors:[["app-bin"]],viewQuery:function(t,i){if(t&1&&ae(Fl,5),t&2){let n;G(n=Q())&&(i.cardElements=n)}},standalone:!1,decls:14,vars:5,consts:[[1,"row"],[1,"col"],[1,"d-flex","justify-content-between","heady","mb-4"],[1,"recent-file-footer","pt-2","d-flex","flex-row","align-items-center"],["class","btn btn-del",3,"click",4,"ngIf"],[1,"row","pt-3","recent-file-row"],["class","col-xxl-2 col-xl-3 col-lg-4 col-sm-6",4,"ngFor","ngForOf"],["class","row align-items-center justify-content-center mt-5 text-center",4,"ngIf"],[1,"btn","btn-del",3,"click"],["src","./assets/icons/trash1.svg","alt","",1,"me-2"],[1,"col-xxl-2","col-xl-3","col-lg-4","col-sm-6"],[3,"showInfo","card","index"],[1,"row","align-items-center","justify-content-center","mt-5","text-center"],[1,"col-lg-6"],["src","./assets/icons/trash.svg","alt",""]],template:function(t,i){t&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h3"),l(5,"Trash"),r(),o(6,"div",3)(7,"span"),l(8),r()()(),o(9,"div"),M(10,jl,3,0,"button",4),r()(),o(11,"div",5),M(12,Ol,2,2,"div",6),r(),M(13,kl,7,0,"div",7),r()()),t&2&&(f(8),qo("",i.totalFileSizeMB.toFixed(2)," MB | ",i.cards.length," items"),f(2),S("ngIf",i.cards.length>0),f(2),S("ngForOf",i.cards),f(),S("ngIf",i.cards.length==0))},dependencies:[ee,X,Se],encapsulation:2})};var Dl=["cardElement"],Al=()=>["PDF","Word","Excel"],zl=()=>["Name 1","Name 2","Name 3"],Rl=()=>["Newest","Oldest","Recently Edited"],Nl=a=>({template1:a});function Ll(a,e){if(a&1){let t=D();o(0,"div")(1,"button",64),u(2,"img",65),l(3,"Share"),r(),o(4,"button",66),w("click",function(){_(t);let n=C();return x(n.closeInfo())}),u(5,"img",67),l(6,"Information"),r()()}}function Vl(a,e){if(a&1){let t=D();o(0,"div",68)(1,"app-file-card",69),w("showInfo",function(n){_(t);let s=C();return x(s.showInfo(n))}),r()()}if(a&2){let t=e.$implicit,i=e.index;f(),S("card",t)("index",i)}}function Bl(a,e){if(a&1&&(o(0,"div",70),u(1,"img",71),r()),a&2){let t=C().data;f(),Z("src",t==null?null:t.image,V)}}function Hl(a,e){if(a&1&&(M(0,Bl,2,1,"div",70),l(1)),a&2){let t=e.data;Y(t!=null&&t.image?0:-1),f(),O(" ",t==null?null:t.name," ")}}var kn=class a{constructor(e,t){this.renderer=e;this.fileUploadService=t}cardElements;uploads=[];files;isUpload=!1;count=0;data=[{options:[{value:"Omar Ezz",label:"Omar Ezz",data:{name:"Omar Ezz",email:"Omar_Ezz@exapmle.com.sa",image:"assets/images/profile/pic1.jpg"},templateId:"template1",templateSelectionId:"template1Selection",id:"1"},{value:"Emad hamdi",label:"Emad Hamdi",data:{name:"Emad hamdi",email:"emad_hamdi@exapmle.com.sa",image:"assets/images/profile/user4.jpg"},templateId:"template1",templateSelectionId:"template1Selection",id:"2"},{value:"Ehab Zakaria",label:"Ehab Zakaria",data:{name:"Ehab Zakaria",email:"ehab_zakaria@exapmle.com.sa",image:"assets/images/profile/default-profile-img.png"},templateId:"template1",templateSelectionId:"template1Selection",id:"3"},{value:"mohamed Ezz",label:"mohamed Ezz",data:{name:"mohamed Ezz",email:"mohamed@exapmle.com.sa",image:"assets/images/profile/pic1.jpg"},templateId:"template1",templateSelectionId:"template1Selection",id:"4"},{value:"Ali hamdi",label:"Ali Hamdi",data:{name:"Ali hamdi",email:"Ali@exapmle.com.sa",image:"assets/images/profile/user4.jpg"},templateId:"template1",templateSelectionId:"template1Selection",id:"5"},{value:"hassan Zakaria",label:"hassan Zakaria",data:{name:"hassan Zakaria",email:"hassan@exapmle.com.sa",image:"assets/images/profile/default-profile-img.png"},templateId:"template1",templateSelectionId:"template1Selection",id:"6"}]}];cards=[{id:1,isOpen:!0,isVideo:!0,openedAt:"10:54 AM",fileType:"video",fileImage:"assets/images/files/proj-d1.jpg",fileName:"WOTN drive.mp4",filePath:"assets/videos/HeroDesktop.mp4",fileSize:"105.3 MB",favorite:!0,videoDuration:"04:55 Min",Status:1},{id:2,isOpen:!0,isVideo:!0,openedAt:"10:54 AM",fileType:"photo",fileImage:"assets/images/file-card.png",fileName:"WOTN drive.png",filePath:"assets/videos/HeroDesktop.mp4",fileSize:"105.3 MB",favorite:!0,videoDuration:"",Status:1},{id:3,isOpen:!0,isVideo:!0,openedAt:"10:54 AM",fileType:"text",fileImage:"assets/images/files/proj-d2.jpg",fileName:"WOTN drive.pdf",filePath:"assets/videos/HeroDesktop.mp4",fileSize:"105.3 MB",favorite:!1,videoDuration:"",Status:1},{id:4,isOpen:!0,isVideo:!0,openedAt:"10:54 AM",fileType:"video",fileImage:"assets/images/files/project-1.jpg",fileName:"WOTN drive1.mp4",filePath:"assets/videos/HeroDesktop.mp4",fileSize:"105.3 MB",favorite:!0,videoDuration:"04:55 Min",Status:1}];onTypeSelect(e){console.log("Selected type:",e)}onPeopleSelect(e){console.log("Selected person:",e)}onModifiedSelect(e){console.log("Selected modified:",e)}shownInfo=!1;showInfo(e){console.log(e),this.shownInfo==!1&&(this.shownInfo=!this.shownInfo)}closeInfo(){this.shownInfo=!this.shownInfo}static \u0275fac=function(t){return new(t||a)(I(re),I(Ee))};static \u0275cmp=R({type:a,selectors:[["app-shared"]],viewQuery:function(t,i){if(t&1&&ae(Dl,5),t&2){let n;G(n=Q())&&(i.cardElements=n)}},standalone:!1,decls:184,vars:22,consts:[["template1",""],[1,"row","home-layout"],[1,"col"],[1,"d-flex","justify-content-between","heady","mb-4"],[1,"recent-file-footer","pt-2","d-flex","flex-row","align-items-center"],[4,"ngIf"],[1,"sorting"],[1,"pt-3","d-flex","flex-row","gap-3","sorting-row"],[3,"optionSelected","label","icon","options"],[1,"recent-file","pt-5"],[1,"d-flex","flex-row","align-items-center"],["src","assets/icons/middle-arrow-down.svg","alt",""],[1,"row","pt-3","recent-file-row"],["class","col-xxl-2 col-xl-3 col-lg-4 col-sm-6",4,"ngFor","ngForOf"],[1,"file-info"],[1,"close-info",3,"click"],["src","assets/icons/close.svg","alt",""],["src","assets/icons/file-photo.svg","alt","",1,"me-2"],[1,"file-image"],["src","assets/images/file-card.png","alt",""],[1,"v-mar"],[1,"users"],[1,"m-user"],["src","assets/images/profile/small/pic1.jpg","alt",""],[1,"other"],["src","assets/images/profile/small/pic9.jpg","alt",""],["src","assets/images/profile/small/pic3.jpg","alt",""],["src","assets/images/profile/small/pic4.jpg","alt",""],["href","#","data-bs-toggle","modal","data-bs-target","#exampleModal"],["src","assets/images/plus.svg","alt",""],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered","modal-lg"],[1,"modal-content"],[1,"modal-header"],[1,"d-flex","mod-head","justify-content-between"],["id","exampleModalLabel",1,"modal-title"],["href",""],[1,"fa","fa-link"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close","ms-2"],[1,"modal-body"],["placeholder","Enter Name or Email address","displaySearchStatus","default","multiple","","showSelectAll","",3,"data","templates"],[1,"mt-3","title-1"],[1,"list-group","list-group-flush","list-of-user","mb-3"],[1,"list-group-item","d-flex","justify-content-between","align-items-center"],[1,"d-flex","prof"],["src","assets/images/profile/small/pic1.jpg","alt","",1,"me-2"],["name","","id","",1,"form-control-solid"],["value",""],["value","","selected",""],["src","assets/images/profile/small/pic9.jpg","alt","",1,"me-2"],["src","assets/images/profile/small/pic3.jpg","alt","",1,"me-2"],["src","assets/images/profile/small/pic4.jpg","alt","",1,"me-2"],["src","assets/images/profile/small/pic5.jpg","alt","",1,"me-2"],[1,"d-flex","justify-content-end"],["type","button","data-bs-dismiss","modal",1,"btn","btn-primary"],[1,"form-group"],[1,"tags"],[1,"custom-check"],["for","tag1",1,"tag"],["for","tag2",1,"tag"],["for","tag3",1,"tag"],["for","tag4",1,"tag"],["for","tag4",1,"tag","active"],[1,"fa","fa-plus","me-1"],["data-bs-toggle","modal","data-bs-target","#exampleModal",1,"btn","btn-solid","me-3"],["src","./assets/icons/menu/user.svg","alt","",1,"me-2"],[1,"btn","btn-primary",3,"click"],["src","./assets/icons/info.svg","alt","",1,"me-2","filter"],[1,"col-xxl-2","col-xl-3","col-lg-4","col-sm-6"],[3,"showInfo","card","index"],[1,"image","me-2"],["alt","",3,"src"]],template:function(t,i){if(t&1){let n=D();o(0,"div",1)(1,"div",2)(2,"div",3)(3,"div")(4,"h3"),l(5,"Shared with me"),r(),o(6,"div",4)(7,"span"),l(8,"105.3 MB | 235 items"),r()()(),M(9,Ll,7,0,"div",5),r(),o(10,"div",6)(11,"strong"),l(12,"Sorting"),r(),o(13,"div",7)(14,"app-sort-files",8),w("optionSelected",function(c){return _(n),x(i.onTypeSelect(c))}),r(),o(15,"app-sort-files",8),w("optionSelected",function(c){return _(n),x(i.onPeopleSelect(c))}),r(),o(16,"app-sort-files",8),w("optionSelected",function(c){return _(n),x(i.onModifiedSelect(c))}),r()()(),o(17,"div",9)(18,"div",10),u(19,"img",11),o(20,"strong"),l(21,"Today"),r()(),o(22,"div",12),M(23,Vl,2,2,"div",13),r()()(),o(24,"div",2)(25,"div",14)(26,"div",15),w("click",function(){return _(n),x(i.closeInfo())}),u(27,"img",16),r(),o(28,"h3"),u(29,"img",17),l(30," WOTN drive.jpg"),r(),o(31,"div",18),u(32,"img",19),r(),o(33,"div",20)(34,"h3"),l(35,"Who has access"),r(),o(36,"div",21)(37,"div",22),u(38,"img",23),r(),o(39,"div",24),u(40,"img",25)(41,"img",26)(42,"img",27),o(43,"a",28),u(44,"img",29),r()()(),o(45,"p"),l(46,"Owend by you."),r()(),o(47,"div",30)(48,"div",31)(49,"div",32)(50,"div",33)(51,"div",34)(52,"h5",35),l(53,'Share "WOTN drive.mp4"'),r(),o(54,"div")(55,"a",36),u(56,"i",37),l(57," copy link"),r(),u(58,"button",38),r()()(),o(59,"div",39)(60,"select2",40),M(61,Hl,2,2,"ng-template",null,0,ue),r(),o(63,"h3",41),l(64,"Who has access"),r(),o(65,"ul",42)(66,"a",43)(67,"div",44),u(68,"img",45),o(69,"div")(70,"h5"),l(71,"Ahmed El Hammad"),r(),o(72,"p"),l(73,"Ahmed@exapmle.com.sa"),r()()(),o(74,"div")(75,"select",46)(76,"option",47),l(77,"Editor"),r(),o(78,"option",48),l(79,"Viewer"),r()()()(),o(80,"a",43)(81,"div",44),u(82,"img",49),o(83,"div")(84,"h5"),l(85,"Kareem El Hussainy"),r(),o(86,"p"),l(87,"Ahmed@exapmle.com.sa"),r()()(),o(88,"div")(89,"select",46)(90,"option",47),l(91,"Editor"),r(),o(92,"option",47),l(93,"Viewer"),r()()()(),o(94,"a",43)(95,"div",44),u(96,"img",50),o(97,"div")(98,"h5"),l(99,"Saad El Daly"),r(),o(100,"p"),l(101,"Ahmed@exapmle.com.sa"),r()()(),o(102,"div")(103,"select",46)(104,"option",47),l(105,"Editor"),r(),o(106,"option",47),l(107,"Viewer"),r()()()(),o(108,"a",43)(109,"div",44),u(110,"img",51),o(111,"div")(112,"h5"),l(113,"Amr Hassas"),r(),o(114,"p"),l(115,"Ahmed@exapmle.com.sa"),r()()(),o(116,"div")(117,"select",46)(118,"option",47),l(119,"Editor"),r(),o(120,"option",48),l(121,"Viewer"),r()()()(),o(122,"a",43)(123,"div",44),u(124,"img",52),o(125,"div")(126,"h5"),l(127,"Mostafa El Hammad"),r(),o(128,"p"),l(129,"Ahmed@exapmle.com.sa"),r()()(),o(130,"div")(131,"select",46)(132,"option",47),l(133,"Editor"),r(),o(134,"option",47),l(135,"Viewer"),r()()()()(),o(136,"div",53)(137,"button",54),l(138,"Done"),r()()()()()(),o(139,"div",20)(140,"h3"),l(141,"Tags"),r(),o(142,"div",55)(143,"div",56)(144,"div",57)(145,"label",58),l(146,"Website"),r()(),o(147,"div",57)(148,"label",59),l(149,"Government agencies"),r()(),o(150,"div",57)(151,"label",60),l(152,"Photo"),r()(),o(153,"div",57)(154,"label",61),l(155,"Videos"),r()(),o(156,"div",57)(157,"label",62),u(158,"i",63),l(159," Add Tag"),r()()()()(),o(160,"div",20)(161,"h3"),l(162,"Description"),r(),o(163,"p"),l(164,"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. "),r()(),o(165,"div",20)(166,"h3"),l(167,"Project Details"),r(),o(168,"h4"),l(169,"Project Type"),r(),o(170,"p"),l(171,"conference"),r(),o(172,"h4"),l(173,"Size"),r(),o(174,"p"),l(175,"105.3 MB"),r(),o(176,"h4"),l(177,"Owner"),r(),o(178,"p"),l(179,"You are Owner"),r(),o(180,"h4"),l(181,"Created"),r(),o(182,"p"),l(183,"25 May 2025"),r()()()()()}if(t&2){let n=H(62);B("expand",i.shownInfo),f(9),S("ngIf",i.shownInfo),f(5),S("label","Type")("icon","assets/icons/file-text.svg")("options",A(17,Al)),f(),S("label","People")("icon","assets/icons/profile-middle.svg")("options",A(18,zl)),f(),S("label","Modified")("icon","assets/icons/modified-middle.svg")("options",A(19,Rl)),f(7),S("ngForOf",i.cards),f(),B("active",i.shownInfo),f(36),S("data",i.data)("templates",te(20,Nl,n))}},dependencies:[ee,X,Se,Pe,fe,he,xe],encapsulation:2})};var Ul=["cardElement"],$l=()=>["PDF","Word","Excel"],Wl=()=>["Name 1","Name 2","Name 3"],ql=()=>["Newest","Oldest","Recently Edited"],Zl=a=>({template1:a});function Xl(a,e){if(a&1&&(o(0,"span"),l(1),F(2,"number"),r()),a&2){let t,i=C();f(),O("",K(2,1,((t=i.totalFileSize)!==null&&t!==void 0?t:0)/1.024,"1.2-2")," MB")}}function Yl(a,e){if(a&1&&(o(0,"span"),l(1),F(2,"number"),r()),a&2){let t,i=C();f(),O("",K(2,1,((t=i.totalFileSize)!==null&&t!==void 0?t:0)*1024,"1.2-2")," KB")}}function Kl(a,e){if(a&1){let t=D();o(0,"div")(1,"button",64),u(2,"img",65),l(3,"Share"),r(),o(4,"button",66),w("click",function(){_(t);let n=C();return x(n.closeInfo())}),u(5,"img",67),l(6,"Information"),r()()}}function Gl(a,e){if(a&1){let t=D();o(0,"div",68)(1,"app-file-card",69),w("showInfo",function(n){_(t);let s=C();return x(s.showInfo(n))})("favorite",function(n){_(t);let s=C();return x(s.favorite(n))}),r()()}if(a&2){let t=e.$implicit,i=e.index;f(),S("card",t)("index",i)}}function Ql(a,e){if(a&1&&(o(0,"div",70),u(1,"img",71),r()),a&2){let t=C().data;f(),Z("src",t==null?null:t.image,V)}}function Jl(a,e){if(a&1&&(M(0,Ql,2,1,"div",70),l(1)),a&2){let t=e.data;Y(t!=null&&t.image?0:-1),f(),O(" ",t==null?null:t.name," ")}}var Dn=class a{constructor(e,t,i,n,s,c){this.renderer=e;this.fileUploadService=t;this.projectService=i;this.toaster=n;this.translate=s;this.el=c}subscriptions=[];projects=[];projectFiles=[];isFetching=!1;isFetchingFiles=!1;pageSize=20;currentPage=1;totalItems=0;numberOfPages=0;ProjectTypes=ht;selectedProjectType=null;selectedSortField=null;cardElements;uploads=[];files;isUpload=!1;count=0;totalFileSize;fileCount;ngOnInit(){J.bind(this.el.nativeElement,"[data-fancybox]",{}),this.fetchProjectFiles()}fetchProjectFiles(){let e=this.projectService.fetchProjectFiles(null,null,1,1e4,null,null,!0).subscribe(t=>{if(t){let i=Number(localStorage.getItem("userId"));this.projectFiles=t.data.filter(n=>n.createdByUserId===i),this.totalFileSize=this.projectFiles.reduce((n,s)=>n+(s.fileSize??0),0),this.fileCount=this.projectFiles.length,console.log("Project files:",this.projectFiles)}this.isFetchingFiles=!1});this.subscriptions.push(e)}data=[{options:[{value:"Omar Ezz",label:"Omar Ezz",data:{name:"Omar Ezz",email:"Omar_Ezz@exapmle.com.sa",image:"assets/images/profile/pic1.jpg"},templateId:"template1",templateSelectionId:"template1Selection",id:"1"},{value:"Emad hamdi",label:"Emad Hamdi",data:{name:"Emad hamdi",email:"emad_hamdi@exapmle.com.sa",image:"assets/images/profile/user4.jpg"},templateId:"template1",templateSelectionId:"template1Selection",id:"2"},{value:"Ehab Zakaria",label:"Ehab Zakaria",data:{name:"Ehab Zakaria",email:"ehab_zakaria@exapmle.com.sa",image:"assets/images/profile/default-profile-img.png"},templateId:"template1",templateSelectionId:"template1Selection",id:"3"},{value:"mohamed Ezz",label:"mohamed Ezz",data:{name:"mohamed Ezz",email:"mohamed@exapmle.com.sa",image:"assets/images/profile/pic1.jpg"},templateId:"template1",templateSelectionId:"template1Selection",id:"4"},{value:"Ali hamdi",label:"Ali Hamdi",data:{name:"Ali hamdi",email:"Ali@exapmle.com.sa",image:"assets/images/profile/user4.jpg"},templateId:"template1",templateSelectionId:"template1Selection",id:"5"},{value:"hassan Zakaria",label:"hassan Zakaria",data:{name:"hassan Zakaria",email:"hassan@exapmle.com.sa",image:"assets/images/profile/default-profile-img.png"},templateId:"template1",templateSelectionId:"template1Selection",id:"6"}]}];favorite(e){console.log(e),this.projectService.setFavourite(e).subscribe(t=>{this.toaster.success("",this.translate.instant("Favorite list updated successfully")),this.fetchProjectFiles()})}onTypeSelect(e){console.log("Selected type:",e)}onPeopleSelect(e){console.log("Selected person:",e)}onModifiedSelect(e){console.log("Selected modified:",e)}shownInfo=!1;showInfo(e){console.log(e),this.shownInfo==!1&&(this.shownInfo=!this.shownInfo)}closeInfo(){this.shownInfo=!this.shownInfo}ngOnDestroy(){J.unbind(this.el.nativeElement),J.close()}static \u0275fac=function(t){return new(t||a)(I(re),I(Ee),I(pe),I(me),I(ge),I(de))};static \u0275cmp=R({type:a,selectors:[["app-mine"]],viewQuery:function(t,i){if(t&1&&ae(Ul,5),t&2){let n;G(n=Q())&&(i.cardElements=n)}},standalone:!1,decls:186,vars:24,consts:[["template1",""],[1,"row","home-layout"],[1,"col"],[1,"d-flex","justify-content-between","heady","mb-4"],[1,"recent-file-footer","pt-2","d-flex","flex-row","align-items-center"],[4,"ngIf"],[1,"sorting"],[1,"pt-3","d-flex","flex-row","gap-3","sorting-row"],[3,"optionSelected","label","icon","options"],[1,"recent-file","pt-5"],[1,"d-flex","flex-row","align-items-center"],["src","assets/icons/middle-arrow-down.svg","alt",""],[1,"row","pt-3","recent-file-row"],["class","col-xxl-2 col-xl-3 col-lg-4 col-sm-6",4,"ngFor","ngForOf"],[1,"file-info"],[1,"close-info",3,"click"],["src","assets/icons/close.svg","alt",""],["src","assets/icons/file-photo.svg","alt","",1,"me-2"],[1,"file-image"],["src","assets/images/file-card.png","alt",""],[1,"v-mar"],[1,"users"],[1,"m-user"],["src","assets/images/profile/small/pic1.jpg","alt",""],[1,"other"],["src","assets/images/profile/small/pic9.jpg","alt",""],["src","assets/images/profile/small/pic3.jpg","alt",""],["src","assets/images/profile/small/pic4.jpg","alt",""],["href","#","data-bs-toggle","modal","data-bs-target","#exampleModal"],["src","assets/images/plus.svg","alt",""],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered","modal-lg"],[1,"modal-content"],[1,"modal-header"],[1,"d-flex","mod-head","justify-content-between"],["id","exampleModalLabel",1,"modal-title"],["href",""],[1,"fa","fa-link"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close","ms-2"],[1,"modal-body"],["placeholder","Enter Name or Email address","displaySearchStatus","default","multiple","","showSelectAll","",3,"data","templates"],[1,"mt-3","title-1"],[1,"list-group","list-group-flush","list-of-user","mb-3"],[1,"list-group-item","d-flex","justify-content-between","align-items-center"],[1,"d-flex","prof"],["src","assets/images/profile/small/pic1.jpg","alt","",1,"me-2"],["name","","id","",1,"form-control-solid"],["value",""],["value","","selected",""],["src","assets/images/profile/small/pic9.jpg","alt","",1,"me-2"],["src","assets/images/profile/small/pic3.jpg","alt","",1,"me-2"],["src","assets/images/profile/small/pic4.jpg","alt","",1,"me-2"],["src","assets/images/profile/small/pic5.jpg","alt","",1,"me-2"],[1,"d-flex","justify-content-end"],["type","button","data-bs-dismiss","modal",1,"btn","btn-primary"],[1,"form-group"],[1,"tags"],[1,"custom-check"],["for","tag1",1,"tag"],["for","tag2",1,"tag"],["for","tag3",1,"tag"],["for","tag4",1,"tag"],["for","tag4",1,"tag","active"],[1,"fa","fa-plus","me-1"],["data-bs-toggle","modal","data-bs-target","#exampleModal",1,"btn","btn-solid","me-3"],["src","./assets/icons/menu/user.svg","alt","",1,"me-2"],[1,"btn","btn-primary",3,"click"],["src","./assets/icons/info.svg","alt","",1,"me-2","filter"],[1,"col-xxl-2","col-xl-3","col-lg-4","col-sm-6"],[3,"showInfo","favorite","card","index"],[1,"image","me-2"],["alt","",3,"src"]],template:function(t,i){if(t&1){let n=D();o(0,"div",1)(1,"div",2)(2,"div",3)(3,"div")(4,"h3"),l(5,"My files"),r(),o(6,"div",4)(7,"span"),M(8,Xl,3,4,"span")(9,Yl,3,4,"span"),l(10),r()()(),M(11,Kl,7,0,"div",5),r(),o(12,"div",6)(13,"strong"),l(14,"Sorting"),r(),o(15,"div",7)(16,"app-sort-files",8),w("optionSelected",function(c){return _(n),x(i.onTypeSelect(c))}),r(),o(17,"app-sort-files",8),w("optionSelected",function(c){return _(n),x(i.onPeopleSelect(c))}),r(),o(18,"app-sort-files",8),w("optionSelected",function(c){return _(n),x(i.onModifiedSelect(c))}),r()()(),o(19,"div",9)(20,"div",10),u(21,"img",11),o(22,"strong"),l(23,"Today"),r()(),o(24,"div",12),M(25,Gl,2,2,"div",13),r()()(),o(26,"div",2)(27,"div",14)(28,"div",15),w("click",function(){return _(n),x(i.closeInfo())}),u(29,"img",16),r(),o(30,"h3"),u(31,"img",17),l(32," WOTN drive.jpg"),r(),o(33,"div",18),u(34,"img",19),r(),o(35,"div",20)(36,"h3"),l(37,"Who has access"),r(),o(38,"div",21)(39,"div",22),u(40,"img",23),r(),o(41,"div",24),u(42,"img",25)(43,"img",26)(44,"img",27),o(45,"a",28),u(46,"img",29),r()()(),o(47,"p"),l(48,"Owend by you."),r()(),o(49,"div",30)(50,"div",31)(51,"div",32)(52,"div",33)(53,"div",34)(54,"h5",35),l(55,'Share "WOTN drive.mp4"'),r(),o(56,"div")(57,"a",36),u(58,"i",37),l(59," copy link"),r(),u(60,"button",38),r()()(),o(61,"div",39)(62,"select2",40),M(63,Jl,2,2,"ng-template",null,0,ue),r(),o(65,"h3",41),l(66,"Who has access"),r(),o(67,"ul",42)(68,"a",43)(69,"div",44),u(70,"img",45),o(71,"div")(72,"h5"),l(73,"Ahmed El Hammad"),r(),o(74,"p"),l(75,"Ahmed@exapmle.com.sa"),r()()(),o(76,"div")(77,"select",46)(78,"option",47),l(79,"Editor"),r(),o(80,"option",48),l(81,"Viewer"),r()()()(),o(82,"a",43)(83,"div",44),u(84,"img",49),o(85,"div")(86,"h5"),l(87,"Kareem El Hussainy"),r(),o(88,"p"),l(89,"Ahmed@exapmle.com.sa"),r()()(),o(90,"div")(91,"select",46)(92,"option",47),l(93,"Editor"),r(),o(94,"option",47),l(95,"Viewer"),r()()()(),o(96,"a",43)(97,"div",44),u(98,"img",50),o(99,"div")(100,"h5"),l(101,"Saad El Daly"),r(),o(102,"p"),l(103,"Ahmed@exapmle.com.sa"),r()()(),o(104,"div")(105,"select",46)(106,"option",47),l(107,"Editor"),r(),o(108,"option",47),l(109,"Viewer"),r()()()(),o(110,"a",43)(111,"div",44),u(112,"img",51),o(113,"div")(114,"h5"),l(115,"Amr Hassas"),r(),o(116,"p"),l(117,"Ahmed@exapmle.com.sa"),r()()(),o(118,"div")(119,"select",46)(120,"option",47),l(121,"Editor"),r(),o(122,"option",48),l(123,"Viewer"),r()()()(),o(124,"a",43)(125,"div",44),u(126,"img",52),o(127,"div")(128,"h5"),l(129,"Mostafa El Hammad"),r(),o(130,"p"),l(131,"Ahmed@exapmle.com.sa"),r()()(),o(132,"div")(133,"select",46)(134,"option",47),l(135,"Editor"),r(),o(136,"option",47),l(137,"Viewer"),r()()()()(),o(138,"div",53)(139,"button",54),l(140,"Done"),r()()()()()(),o(141,"div",20)(142,"h3"),l(143,"Tags"),r(),o(144,"div",55)(145,"div",56)(146,"div",57)(147,"label",58),l(148,"Website"),r()(),o(149,"div",57)(150,"label",59),l(151,"Government agencies"),r()(),o(152,"div",57)(153,"label",60),l(154,"Photo"),r()(),o(155,"div",57)(156,"label",61),l(157,"Videos"),r()(),o(158,"div",57)(159,"label",62),u(160,"i",63),l(161," Add Tag"),r()()()()(),o(162,"div",20)(163,"h3"),l(164,"Description"),r(),o(165,"p"),l(166,"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. "),r()(),o(167,"div",20)(168,"h3"),l(169,"Project Details"),r(),o(170,"h4"),l(171,"Project Type"),r(),o(172,"p"),l(173,"conference"),r(),o(174,"h4"),l(175,"Size"),r(),o(176,"p"),l(177,"105.3 MB"),r(),o(178,"h4"),l(179,"Owner"),r(),o(180,"p"),l(181,"You are Owner"),r(),o(182,"h4"),l(183,"Created"),r(),o(184,"p"),l(185,"25 May 2025"),r()()()()()}if(t&2){let n,s,c=H(64);B("expand",i.shownInfo),f(8),Y(((n=i.totalFileSize)!==null&&n!==void 0?n:0)>1?8:9),f(2),O(" | ",(s=i.fileCount)!==null&&s!==void 0?s:0," items"),f(),S("ngIf",i.shownInfo),f(5),S("label","Type")("icon","assets/icons/file-text.svg")("options",A(19,$l)),f(),S("label","People")("icon","assets/icons/profile-middle.svg")("options",A(20,Wl)),f(),S("label","Modified")("icon","assets/icons/modified-middle.svg")("options",A(21,ql)),f(7),S("ngForOf",i.projectFiles),f(),B("active",i.shownInfo),f(36),S("data",i.data)("templates",te(22,Zl,c))}},dependencies:[ee,X,Se,Pe,fe,he,xe,Me],encapsulation:2})};var ec=()=>["PDF","Word","Excel"],tc=()=>["Name 1","Name 2","Name 3"],ic=()=>["Newest","Oldest","Recently Edited"],nc=a=>({template1:a});function oc(a,e){if(a&1){let t=D();o(0,"div")(1,"button",63),u(2,"img",64),l(3,"Share"),r(),o(4,"button",65),w("click",function(){_(t);let n=C();return x(n.closeInfo())}),u(5,"img",66),l(6,"Information"),r()()}}function ac(a,e){if(a&1){let t=D();o(0,"div",67)(1,"app-file-card",68),w("showInfo",function(n){_(t);let s=C();return x(s.showInfo(n))})("favorite",function(n){_(t);let s=C();return x(s.favorite(n))}),r()()}if(a&2){let t=e.$implicit,i=e.index;f(),S("card",t)("index",i)}}function rc(a,e){if(a&1&&(o(0,"div",69),u(1,"img",70),r()),a&2){let t=C().data;f(),Z("src",t==null?null:t.image,V)}}function sc(a,e){if(a&1&&(M(0,rc,2,1,"div",69),l(1)),a&2){let t=e.data;Y(t!=null&&t.image?0:-1),f(),O(" ",t==null?null:t.name," ")}}var An=class a{constructor(e,t,i,n){this.projectService=e;this.el=t;this.toaster=i;this.translate=n}projectFiles=[];bootstrap;subscriptions=[];projectId;isFetching=!1;isFetchingProjects=!1;isFetchingFiles=!1;userId;ngOnInit(){J.bind(this.el.nativeElement,"[data-fancybox]",{}),this.userId=localStorage.getItem("userId"),this.fetchProjectFiles()}fetchProjectFiles(){let e=this.projectService.fetchProjectFiles(null,null,1,1e4,null,this.userId,!0).subscribe(t=>{t&&(console.log(t),this.projectFiles=t.data,console.log(this.projectFiles)),this.isFetchingFiles=!1});this.subscriptions.push(e)}data=[{options:[{value:"Omar Ezz",label:"Omar Ezz",data:{name:"Omar Ezz",email:"Omar_Ezz@exapmle.com.sa",image:"assets/images/profile/pic1.jpg"},templateId:"template1",templateSelectionId:"template1Selection",id:"1"},{value:"Emad hamdi",label:"Emad Hamdi",data:{name:"Emad hamdi",email:"emad_hamdi@exapmle.com.sa",image:"assets/images/profile/user4.jpg"},templateId:"template1",templateSelectionId:"template1Selection",id:"2"},{value:"Ehab Zakaria",label:"Ehab Zakaria",data:{name:"Ehab Zakaria",email:"ehab_zakaria@exapmle.com.sa",image:"assets/images/profile/default-profile-img.png"},templateId:"template1",templateSelectionId:"template1Selection",id:"3"},{value:"mohamed Ezz",label:"mohamed Ezz",data:{name:"mohamed Ezz",email:"mohamed@exapmle.com.sa",image:"assets/images/profile/pic1.jpg"},templateId:"template1",templateSelectionId:"template1Selection",id:"4"},{value:"Ali hamdi",label:"Ali Hamdi",data:{name:"Ali hamdi",email:"Ali@exapmle.com.sa",image:"assets/images/profile/user4.jpg"},templateId:"template1",templateSelectionId:"template1Selection",id:"5"},{value:"hassan Zakaria",label:"hassan Zakaria",data:{name:"hassan Zakaria",email:"hassan@exapmle.com.sa",image:"assets/images/profile/default-profile-img.png"},templateId:"template1",templateSelectionId:"template1Selection",id:"6"}]}];favorite(e){console.log(e),this.projectService.setFavourite(e).subscribe(t=>{this.toaster.success("",this.translate.instant("Favorite list updated successfully")),this.fetchProjectFiles()})}onTypeSelect(e){}onPeopleSelect(e){}onModifiedSelect(e){}shownInfo=!1;showInfo(e){console.log(e),this.shownInfo==!1&&(this.shownInfo=!this.shownInfo)}closeInfo(){this.shownInfo=!this.shownInfo}ngOnDestroy(){J.unbind(this.el.nativeElement),J.close()}static \u0275fac=function(t){return new(t||a)(I(pe),I(de),I(me),I(ge))};static \u0275cmp=R({type:a,selectors:[["app-favorite"]],standalone:!1,decls:181,vars:22,consts:[["template1",""],[1,"row","home-layout"],[1,"col"],[1,"d-flex","justify-content-between","heady","mb-4"],[4,"ngIf"],[1,"sorting"],[1,"pt-3","d-flex","flex-row","gap-3","sorting-row"],[3,"optionSelected","label","icon","options"],[1,"recent-file","pt-5"],[1,"d-flex","flex-row","align-items-center"],["src","assets/icons/middle-arrow-down.svg","alt",""],[1,"row","pt-3","recent-file-row"],["class","col-xxl-2 col-xl-3 col-lg-4 col-sm-6",4,"ngFor","ngForOf"],[1,"file-info"],[1,"close-info",3,"click"],["src","assets/icons/close.svg","alt",""],["src","assets/icons/file-photo.svg","alt","",1,"me-2"],[1,"file-image"],["src","assets/images/file-card.png","alt",""],[1,"v-mar"],[1,"users"],[1,"m-user"],["src","assets/images/profile/small/pic1.jpg","alt",""],[1,"other"],["src","assets/images/profile/small/pic9.jpg","alt",""],["src","assets/images/profile/small/pic3.jpg","alt",""],["src","assets/images/profile/small/pic4.jpg","alt",""],["href","#","data-bs-toggle","modal","data-bs-target","#exampleModal"],["src","assets/images/plus.svg","alt",""],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered","modal-lg"],[1,"modal-content"],[1,"modal-header"],[1,"d-flex","mod-head","justify-content-between"],["id","exampleModalLabel",1,"modal-title"],["href",""],[1,"fa","fa-link"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close","ms-2"],[1,"modal-body"],["placeholder","Enter Name or Email address","displaySearchStatus","default","multiple","","showSelectAll","",3,"data","templates"],[1,"mt-3","title-1"],[1,"list-group","list-group-flush","list-of-user","mb-3"],[1,"list-group-item","d-flex","justify-content-between","align-items-center"],[1,"d-flex","prof"],["src","assets/images/profile/small/pic1.jpg","alt","",1,"me-2"],["name","","id","",1,"form-control-solid"],["value",""],["value","","selected",""],["src","assets/images/profile/small/pic9.jpg","alt","",1,"me-2"],["src","assets/images/profile/small/pic3.jpg","alt","",1,"me-2"],["src","assets/images/profile/small/pic4.jpg","alt","",1,"me-2"],["src","assets/images/profile/small/pic5.jpg","alt","",1,"me-2"],[1,"d-flex","justify-content-end"],["type","button","data-bs-dismiss","modal",1,"btn","btn-primary"],[1,"form-group"],[1,"tags"],[1,"custom-check"],["for","tag1",1,"tag"],["for","tag2",1,"tag"],["for","tag3",1,"tag"],["for","tag4",1,"tag"],["for","tag4",1,"tag","active"],[1,"fa","fa-plus","me-1"],["data-bs-toggle","modal","data-bs-target","#exampleModal",1,"btn","btn-solid","me-3"],["src","./assets/icons/menu/user.svg","alt","",1,"me-2"],[1,"btn","btn-primary",3,"click"],["src","./assets/icons/info.svg","alt","",1,"me-2","filter"],[1,"col-xxl-2","col-xl-3","col-lg-4","col-sm-6"],[3,"showInfo","favorite","card","index"],[1,"image","me-2"],["alt","",3,"src"]],template:function(t,i){if(t&1){let n=D();o(0,"div",1)(1,"div",2)(2,"div",3)(3,"div")(4,"h3"),l(5,"Favorite"),r()(),M(6,oc,7,0,"div",4),r(),o(7,"div",5)(8,"strong"),l(9,"Sorting"),r(),o(10,"div",6)(11,"app-sort-files",7),w("optionSelected",function(c){return _(n),x(i.onTypeSelect(c))}),r(),o(12,"app-sort-files",7),w("optionSelected",function(c){return _(n),x(i.onPeopleSelect(c))}),r(),o(13,"app-sort-files",7),w("optionSelected",function(c){return _(n),x(i.onModifiedSelect(c))}),r()()(),o(14,"div",8)(15,"div",9),u(16,"img",10),o(17,"strong"),l(18,"Today"),r()(),o(19,"div",11),M(20,ac,2,2,"div",12),r()()(),o(21,"div",2)(22,"div",13)(23,"div",14),w("click",function(){return _(n),x(i.closeInfo())}),u(24,"img",15),r(),o(25,"h3"),u(26,"img",16),l(27," WOTN drive.jpg"),r(),o(28,"div",17),u(29,"img",18),r(),o(30,"div",19)(31,"h3"),l(32,"Who has access"),r(),o(33,"div",20)(34,"div",21),u(35,"img",22),r(),o(36,"div",23),u(37,"img",24)(38,"img",25)(39,"img",26),o(40,"a",27),u(41,"img",28),r()()(),o(42,"p"),l(43,"Owend by you."),r()(),o(44,"div",29)(45,"div",30)(46,"div",31)(47,"div",32)(48,"div",33)(49,"h5",34),l(50,'Share "WOTN drive.mp4"'),r(),o(51,"div")(52,"a",35),u(53,"i",36),l(54," copy link"),r(),u(55,"button",37),r()()(),o(56,"div",38)(57,"select2",39),M(58,sc,2,2,"ng-template",null,0,ue),r(),o(60,"h3",40),l(61,"Who has access"),r(),o(62,"ul",41)(63,"a",42)(64,"div",43),u(65,"img",44),o(66,"div")(67,"h5"),l(68,"Ahmed El Hammad"),r(),o(69,"p"),l(70,"Ahmed@exapmle.com.sa"),r()()(),o(71,"div")(72,"select",45)(73,"option",46),l(74,"Editor"),r(),o(75,"option",47),l(76,"Viewer"),r()()()(),o(77,"a",42)(78,"div",43),u(79,"img",48),o(80,"div")(81,"h5"),l(82,"Kareem El Hussainy"),r(),o(83,"p"),l(84,"Ahmed@exapmle.com.sa"),r()()(),o(85,"div")(86,"select",45)(87,"option",46),l(88,"Editor"),r(),o(89,"option",46),l(90,"Viewer"),r()()()(),o(91,"a",42)(92,"div",43),u(93,"img",49),o(94,"div")(95,"h5"),l(96,"Saad El Daly"),r(),o(97,"p"),l(98,"Ahmed@exapmle.com.sa"),r()()(),o(99,"div")(100,"select",45)(101,"option",46),l(102,"Editor"),r(),o(103,"option",46),l(104,"Viewer"),r()()()(),o(105,"a",42)(106,"div",43),u(107,"img",50),o(108,"div")(109,"h5"),l(110,"Amr Hassas"),r(),o(111,"p"),l(112,"Ahmed@exapmle.com.sa"),r()()(),o(113,"div")(114,"select",45)(115,"option",46),l(116,"Editor"),r(),o(117,"option",47),l(118,"Viewer"),r()()()(),o(119,"a",42)(120,"div",43),u(121,"img",51),o(122,"div")(123,"h5"),l(124,"Mostafa El Hammad"),r(),o(125,"p"),l(126,"Ahmed@exapmle.com.sa"),r()()(),o(127,"div")(128,"select",45)(129,"option",46),l(130,"Editor"),r(),o(131,"option",46),l(132,"Viewer"),r()()()()(),o(133,"div",52)(134,"button",53),l(135,"Done"),r()()()()()(),o(136,"div",19)(137,"h3"),l(138,"Tags"),r(),o(139,"div",54)(140,"div",55)(141,"div",56)(142,"label",57),l(143,"Website"),r()(),o(144,"div",56)(145,"label",58),l(146,"Government agencies"),r()(),o(147,"div",56)(148,"label",59),l(149,"Photo"),r()(),o(150,"div",56)(151,"label",60),l(152,"Videos"),r()(),o(153,"div",56)(154,"label",61),u(155,"i",62),l(156," Add Tag"),r()()()()(),o(157,"div",19)(158,"h3"),l(159,"Description"),r(),o(160,"p"),l(161,"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. "),r()(),o(162,"div",19)(163,"h3"),l(164,"Project Details"),r(),o(165,"h4"),l(166,"Project Type"),r(),o(167,"p"),l(168,"conference"),r(),o(169,"h4"),l(170,"Size"),r(),o(171,"p"),l(172,"105.3 MB"),r(),o(173,"h4"),l(174,"Owner"),r(),o(175,"p"),l(176,"You are Owner"),r(),o(177,"h4"),l(178,"Created"),r(),o(179,"p"),l(180,"25 May 2025"),r()()()()()}if(t&2){let n=H(59);B("expand",i.shownInfo),f(6),S("ngIf",i.shownInfo),f(5),S("label","Type")("icon","assets/icons/file-text.svg")("options",A(17,ec)),f(),S("label","People")("icon","assets/icons/profile-middle.svg")("options",A(18,tc)),f(),S("label","Modified")("icon","assets/icons/modified-middle.svg")("options",A(19,ic)),f(7),S("ngForOf",i.projectFiles),f(),B("active",i.shownInfo),f(36),S("data",i.data)("templates",te(20,nc,n))}},dependencies:[ee,X,Se,Pe,fe,he,xe],encapsulation:2})};var Vt=class a{constructor(e){this.http=e}isLoadingSubject=new st(!1);setLoading(e){this.isLoadingSubject.next(e)}fetchColors(){return this.setLoading(!0),this.http.get(ua,{observe:"response"}).pipe(ke(e=>{let t=e.body;var i;e.headers.get("pagination")&&(i=JSON.parse(e.headers.get("pagination")??""));let n={currentPage:i?Number(i.currentPage):0,pageSize:i?Number(i.pageSize):0,numberOfPages:i?Number(i.numberOfPages):0,totalItems:i?Number(i.totalItems):0};return ze(ye({},n),{data:t})}),Ye(e=>this.handleError("fetching colors",e)),De(()=>this.setLoading(!1)))}handleError(e,t){return console.error(`Error ${e}:`,t),this.setLoading(!1),lt(void 0)}static \u0275fac=function(t){return new(t||a)(Pt(kt))};static \u0275prov=_e({token:a,factory:a.\u0275fac,providedIn:"root"})};var Mo=["*"];function lc(a,e){a&1&&(o(0,"span",3),ct(),o(1,"svg",4),u(2,"path",5)(3,"g")(4,"g")(5,"g")(6,"g")(7,"g")(8,"g"),r()())}function cc(a,e){if(a&1){let t=D();o(0,"div",2),w("click",function(){_(t);let n=C();return x(n.hide())}),r()}}var dc=[[["ng2-dropdown-button"]],[["ng2-dropdown-menu"]]],mc=["ng2-dropdown-button","ng2-dropdown-menu"],pc=(()=>{class a{constructor(t){this.element=t,this.onMenuToggled=new $,this.showCaret=!0}toggleMenu(){this.onMenuToggled.emit(!0)}getPosition(){return this.element.nativeElement.getBoundingClientRect()}}return a.\u0275fac=function(t){return new(t||a)(I(de))},a.\u0275cmp=R({type:a,selectors:[["ng2-dropdown-button"]],inputs:{showCaret:"showCaret"},outputs:{onMenuToggled:"onMenuToggled"},standalone:!1,ngContentSelectors:Mo,decls:4,vars:1,consts:[["type","button","tabindex","0s",1,"ng2-dropdown-button",3,"click"],[1,"ng2-dropdown-button__label"],["class","ng2-dropdown-button__caret",4,"ngIf"],[1,"ng2-dropdown-button__caret"],["enable-background","new 0 0 32 32","height","16px","id","\u0421\u043B\u043E\u0439_1","version","1.1","viewBox","0 0 32 32","width","16px",0,"xml","space","preserve","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink"],["d","M24.285,11.284L16,19.571l-8.285-8.288c-0.395-0.395-1.034-0.395-1.429,0  c-0.394,0.395-0.394,1.035,0,1.43l8.999,9.002l0,0l0,0c0.394,0.395,1.034,0.395,1.428,0l8.999-9.002  c0.394-0.395,0.394-1.036,0-1.431C25.319,10.889,24.679,10.889,24.285,11.284z","fill","#121313","id","Expand_More"]],template:function(t,i){t&1&&(Ut(),o(0,"button",0),w("click",function(){return i.toggleMenu()}),o(1,"span",1),Mt(2),r(),M(3,lc,9,0,"span",2),r()),t&2&&(f(3),S("ngIf",i.showCaret))},dependencies:[X],styles:[".ng2-dropdown-button[_ngcontent-%COMP%]{font-family:Roboto,Helvetica Neue,Helvetica,Arial;background:#fff;padding:.45rem .25rem;font-size:14px;letter-spacing:.08rem;color:#444;outline:0;cursor:pointer;font-weight:400;border:none;border-bottom:1px solid #efefef;text-align:left;min-width:100px;width:100%;display:flex;flex-direction:row;max-width:150px}.ng2-dropdown-button[_ngcontent-%COMP%]:hover{color:#222}.ng2-dropdown-button[_ngcontent-%COMP%]:active, .ng2-dropdown-button[_ngcontent-%COMP%]:focus{color:#222;border-bottom:2px solid #2196F3}.ng2-dropdown-button__label[_ngcontent-%COMP%]{flex:1 1 95%}.ng2-dropdown-button__caret[_ngcontent-%COMP%]{width:12px;height:12px;display:flex;flex:1 1 6%}.ng2-dropdown-button--icon[_nghost-%COMP%]   .ng2-dropdown-button[_ngcontent-%COMP%], .ng2-dropdown-button--icon   [_nghost-%COMP%]   .ng2-dropdown-button[_ngcontent-%COMP%]{border:none;min-width:40px;width:40px;border-radius:100%;transition:all .2s;text-align:center;height:40px;padding:.5em}.ng2-dropdown-button--icon[_nghost-%COMP%]   .ng2-dropdown-button[_ngcontent-%COMP%]:active, .ng2-dropdown-button--icon   [_nghost-%COMP%]   .ng2-dropdown-button[_ngcontent-%COMP%]:active{background:rgba(0,0,0,.2)}"]}),a})(),Ai={BACKSPACE:9,PREV:38,NEXT:40,ENTER:13,ESCAPE:27},uc=(a,e,t)=>{a<e.length-1&&t.select(e[a+1],!0)},gc=(a,e,t)=>{a>0&&t.select(e[a-1],!0)},fc=(a,e,t)=>{a<e.length-1?t.select(e[a+1],!0):t.select(e[0],!0)};function hc(){this.hide()}var vc=(a,e,t)=>t.selectedItem?t.selectedItem.click():void 0,pr={[Ai.BACKSPACE]:fc,[Ai.PREV]:gc,[Ai.NEXT]:uc,[Ai.ENTER]:vc,[Ai.ESCAPE]:hc};function bc(a){[38,40].indexOf(a.keyCode)>-1&&a.preventDefault()}var Io=class{constructor(){this.onItemSelected=new $,this.onItemClicked=new $,this.onItemDestroyed=new $}get selectedItem(){return this._selectedItem}select(e,t=!0){this._selectedItem=e,!(!t||!e)&&(e.focus(),this.onItemSelected.emit(e))}unselect(){this._selectedItem=void 0}},zn=(()=>{class a{constructor(){this.menuState={isVisible:!1,toString(){return this.isVisible===!0?"visible":"hidden"}},this.dropdownState=new Io}}return a.\u0275fac=function(t){return new(t||a)},a.\u0275prov=_e({token:a,factory:a.\u0275fac}),a})(),To=(()=>{class a{constructor(t,i){this.state=t,this.element=i,this.preventClose=!1}ngOnDestroy(){this.state.dropdownState.onItemDestroyed.emit(this)}get isSelected(){return this===this.state.dropdownState.selectedItem}select(t){this.state.dropdownState.select(this,!0),t&&(t.stopPropagation(),t.preventDefault())}click(){this.state.dropdownState.onItemClicked.emit(this)}focus(){this.element.nativeElement.children[0].focus()}}return a.\u0275fac=function(t){return new(t||a)(I(zn),I(de))},a.\u0275cmp=R({type:a,selectors:[["ng2-menu-item"]],inputs:{preventClose:"preventClose",value:"value"},standalone:!1,ngContentSelectors:Mo,decls:2,vars:2,consts:[["role","button","tabindex","0",1,"ng2-menu-item",3,"keydown.enter","click","mouseover"]],template:function(t,i){t&1&&(Ut(),o(0,"div",0),w("keydown.enter",function(){return i.click()})("click",function(){return i.click()})("mouseover",function(){return i.select()}),Mt(1),r()),t&2&&B("ng2-menu-item--selected",i.isSelected)},styles:[".ng2-menu-item[_ngcontent-%COMP%]{font-family:Roboto,Helvetica Neue,Helvetica,Arial;background:#fff;color:#000000de;cursor:pointer;font-size:.9em;text-transform:none;font-weight:400;letter-spacing:.03em;height:48px;line-height:48px;padding:.3em 1.25rem;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;transition:background .25s}.ng2-menu-item--selected[_ngcontent-%COMP%]{background:rgba(158,158,158,.2);outline:0}.ng2-menu-item[_ngcontent-%COMP%]:focus{outline:0}.ng2-menu-item[_ngcontent-%COMP%]:active{background:rgba(158,158,158,.4)}ng2-menu-item[_nghost-%COMP%]     [ng2-menu-item-icon]{vertical-align:middle;font-size:28px;width:1.5em;height:30px;color:#00000070}"]}),a})(),Fo=(()=>{class a{constructor(t,i,n){this.dropdownState=t,this.element=i,this.renderer=n,this.width=4,this.focusFirstElement=!0,this.appendToBody=!0,this.zIndex=1e3,this.listeners={arrowHandler:void 0,handleKeypress:void 0}}show(t,i=!0){let n=typeof document<"u"?document:void 0,s=typeof window<"u"?window:void 0;this.dropdownState.menuState.isVisible||(this.listeners.handleKeypress=this.renderer.listen(n.body,"keydown",this.handleKeypress.bind(this)),this.listeners.arrowHandler=this.renderer.listen(s,"keydown",bc)),this.dropdownState.menuState.isVisible=!0,t&&this.updatePosition(t,i)}hide(){this.dropdownState.menuState.isVisible=!1,this.dropdownState.dropdownState.unselect(),this.listeners.arrowHandler&&this.listeners.arrowHandler(),this.listeners.handleKeypress&&this.listeners.handleKeypress()}updatePosition(t,i){this.position=t,this.updateOnChange(i)}handleKeypress(t){let i=t.keyCode,n=this.items.toArray(),s=n.indexOf(this.dropdownState.dropdownState.selectedItem);pr.hasOwnProperty(i)&&pr[i].call(this,s,n,this.dropdownState.dropdownState)}getMenuElement(){return this.element.nativeElement.children[0]}calcPositionOffset(t){let i=typeof window<"u"?window:void 0,n=typeof document<"u"?document:void 0;if(!i||!n||!t)return;let s=this.getMenuElement(),c=i.pageXOffset!==void 0,d=(n.compatMode||"")==="CSS1Compat",m=c?i.pageXOffset:d?n.documentElement.scrollLeft:n.body.scrollLeft,g=c?i.pageYOffset:d?n.documentElement.scrollTop:n.body.scrollTop,{top:p,left:h}=this.applyOffset(`${t.top+(this.appendToBody?g-15:0)}px`,`${t.left+m-5}px`),b=s.clientWidth,v=s.clientHeight,y=parseInt(p)+v+(this.appendToBody?0:g-15),P=parseInt(h)+b,E=i.innerHeight+i.scrollY,T=i.innerWidth+i.scrollX;if(y>=E&&(p=`${parseInt(p.replace("px",""))-v}px`),P>=T){let k=P-T+30;h=`${parseInt(h.replace("px",""))-k}px`}return{top:p,left:h}}applyOffset(t,i){if(!this.offset)return{top:t,left:i};let n=this.offset.split(" ");return n[1]||(n[1]="0"),t=`${parseInt(t.replace("px",""))+parseInt(n[0])}px`,i=`${parseInt(i.replace("px",""))+parseInt(n[1])}px`,{top:t,left:i}}ngOnInit(){let t=typeof document<"u"?document:void 0;this.appendToBody&&t.body.appendChild(this.element.nativeElement)}updateOnChange(t=!0){let i=this.getMenuElement(),n=this.calcPositionOffset(this.position);n&&(this.renderer.setStyle(i,"top",n.top.toString()),this.renderer.setStyle(i,"left",n.left.toString())),this.focusFirstElement&&this.items.first&&!this.dropdownState.dropdownState.selectedItem&&this.dropdownState.dropdownState.select(this.items.first,!1)}ngOnDestroy(){let t=this.element.nativeElement;t.parentNode.removeChild(t),this.listeners.handleKeypress&&this.listeners.handleKeypress()}}return a.\u0275fac=function(t){return new(t||a)(I(zn),I(de),I(re))},a.\u0275cmp=R({type:a,selectors:[["ng2-dropdown-menu"]],contentQueries:function(t,i,n){if(t&1&&Ft(n,To,5),t&2){let s;G(s=Q())&&(i.items=s)}},inputs:{width:"width",focusFirstElement:"focusFirstElement",offset:"offset",appendToBody:"appendToBody",zIndex:"zIndex"},standalone:!1,ngContentSelectors:Mo,decls:4,vars:12,consts:[[1,"ng2-dropdown-menu__options-container"],["class","ng2-dropdown-backdrop",3,"click",4,"ngIf"],[1,"ng2-dropdown-backdrop",3,"click"]],template:function(t,i){t&1&&(Ut(),o(0,"div")(1,"div",0),Mt(2),r()(),M(3,cc,1,0,"div",1)),t&2&&(Ci("ng2-dropdown-menu ng2-dropdown-menu---width--",i.width,""),ii("z-index",i.zIndex),B("ng2-dropdown-menu--inside-element",!i.appendToBody)("ng2-dropdown-menu--open",i.dropdownState.menuState.isVisible),S("@fade",i.dropdownState.menuState.toString()),f(),S("@opacity",i.dropdownState.menuState.toString()),f(2),S("ngIf",i.dropdownState.menuState.isVisible))},dependencies:[X],styles:["[_nghost-%COMP%]{display:block}.ng2-dropdown-menu[_ngcontent-%COMP%]{overflow-y:auto;box-shadow:0 1px 2px #0000004d;position:absolute;padding:.5em 0;background:#fff;border-radius:1px;max-height:400px;width:260px;min-height:0;display:block}.ng2-dropdown-menu.ng2-dropdown-menu--inside-element[_ngcontent-%COMP%]{position:fixed}.ng2-dropdown-menu.ng2-dropdown-menu--width--2[_ngcontent-%COMP%]{width:200px}.ng2-dropdown-menu.ng2-dropdown-menu--width--4[_ngcontent-%COMP%]{width:260px}.ng2-dropdown-menu.ng2-dropdown-menu--width--6[_ngcontent-%COMP%]{width:320px}.ng2-dropdown-backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;z-index:1;overflow:hidden}[_nghost-%COMP%]     .ng2-menu-divider{height:1px;min-height:1px;max-height:1px;width:100%;display:block;background:#f9f9f9}"],data:{animation:[oi("fade",[Wt("visible",se({opacity:1,height:"*",width:"*"})),Wt("hidden",se({opacity:0,overflow:"hidden",height:0,width:0})),ft("hidden => visible",[gt("250ms ease-in",se({opacity:1,height:"*",width:"*"}))]),ft("visible => hidden",[gt("350ms ease-out",se({opacity:0,width:0,height:0}))])]),oi("opacity",[ft("hidden => visible",[gt("450ms ease-in",qt([se({opacity:0,offset:0}),se({opacity:1,offset:1})]))]),ft("visible => hidden",[gt("250ms ease-out",qt([se({opacity:1,offset:0}),se({opacity:.5,offset:.3}),se({opacity:0,offset:1})]))])])]}}),a})(),Rn=(()=>{class a{constructor(t){this.state=t,this.dynamicUpdate=!0,this.onItemClicked=new $,this.onItemSelected=new $,this.onShow=new $,this.onHide=new $}ngOnInit(){this.state.dropdownState.onItemClicked.subscribe(t=>{this.onItemClicked.emit(t),!t.preventClose&&this.hide.call(this)}),this.button&&this.button.onMenuToggled.subscribe(()=>{this.toggleMenu()}),this.state.dropdownState.onItemSelected.subscribe(t=>{this.onItemSelected.emit(t)}),this.state.dropdownState.onItemDestroyed.subscribe(t=>{let i,n=this.menu.items.toArray();t===this.state.dropdownState.selectedItem&&(this.menu.focusFirstElement&&(i=t===n[0]&&n.length>1?n[1]:n[0]),this.state.dropdownState.select(i))})}toggleMenu(t=this.button.getPosition()){this.state.menuState.isVisible?this.hide():this.show(t)}hide(){this.menu.hide(),this.onHide.emit(this)}show(t=this.button.getPosition()){this.menu.show(t,this.dynamicUpdate),this.onShow.emit(this)}scrollListener(){this.button&&this.dynamicUpdate&&this.menu.updatePosition(this.button.getPosition(),!0)}}return a.\u0275fac=function(t){return new(t||a)(I(zn))},a.\u0275cmp=R({type:a,selectors:[["ng2-dropdown"]],contentQueries:function(t,i,n){if(t&1&&(Ft(n,pc,7),Ft(n,Fo,7)),t&2){let s;G(s=Q())&&(i.button=s.first),G(s=Q())&&(i.menu=s.first)}},hostBindings:function(t,i){t&1&&w("scroll",function(){return i.scrollListener()},!1,dt)},inputs:{dynamicUpdate:"dynamicUpdate"},outputs:{onItemClicked:"onItemClicked",onItemSelected:"onItemSelected",onShow:"onShow",onHide:"onHide"},standalone:!1,features:[Hi([zn])],ngContentSelectors:mc,decls:3,vars:0,consts:[[1,"ng2-dropdown-container"]],template:function(t,i){t&1&&(Ut(dc),o(0,"div",0),Mt(1),Mt(2,1),r())},encapsulation:2}),a})(),ur=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=It({type:a}),a.\u0275inj=Et({imports:[[ut]]}),a})();var yc=["input"],_c=(a,e)=>({item:a,index:e});function xc(a,e){}function wc(a,e){if(a&1&&(o(0,"div"),M(1,xc,0,0,"ng-template",4),r()),a&2){let t=C();mt("contenteditable",t.editing),f(),S("ngTemplateOutletContext",ni(3,_c,t.model,t.index))("ngTemplateOutlet",t.template)}}function Cc(a,e){if(a&1){let t=D();o(0,"delete-icon",8),w("click",function(n){_(t);let s=C(2);return x(s.remove(n))}),r()}}function Ec(a,e){if(a&1){let t=D();o(0,"div",5)(1,"div",6),w("keydown.enter",function(n){_(t);let s=C();return x(s.disableEditMode(n))})("keydown.escape",function(n){_(t);let s=C();return x(s.disableEditMode(n))})("click",function(n){_(t);let s=C();return x(s.editing?n.stopPropagation():void 0)})("blur",function(n){_(t);let s=C();return x(s.onBlurred(n))}),l(2),r(),M(3,Cc,1,0,"delete-icon",7),r()}if(a&2){let t=C();f(),mt("contenteditable",t.editing)("title",t.getDisplayValue(t.model)),f(),O(" ",t.getDisplayValue(t.model)," "),f(),S("ngIf",t.isDeleteIconVisible())}}function Pc(a,e){if(a&1&&u(0,"tag-ripple",9),a&2){let t=C();S("state",t.rippleState),mt("tabindex",-1)}}var Ic=(a,e,t)=>({item:a,index:e,last:t});function Mc(a,e){if(a&1&&(u(0,"span",6),F(1,"highlight")),a&2){let t=C().$implicit,i=C();S("innerHTML",K(1,1,t[i.displayBy],i.tagInput.inputForm.value.value),Bo)}}function Tc(a,e){}function Fc(a,e){if(a&1&&M(0,Tc,0,0,"ng-template",7),a&2){let t=C(),i=t.$implicit,n=t.index,s=t.last,c=C();S("ngTemplateOutlet",c.templates.first)("ngTemplateOutletContext",Zo(2,Ic,i,n,s))}}function jc(a,e){if(a&1&&(o(0,"ng2-menu-item",3),M(1,Mc,2,4,"span",4)(2,Fc,1,6,null,5),r()),a&2){let t=e.$implicit,i=C();S("value",t)("ngSwitch",!!i.templates.length),f(),S("ngSwitchCase",!1)}}var Oc=["*"];function kc(a,e){if(a&1){let t=D();o(0,"tag",6),w("onSelect",function(){let n=_(t).$implicit,s=C();return x(s.selectItem(n))})("onRemove",function(){let n=_(t),s=n.$implicit,c=n.index,d=C();return x(d.onRemoveRequested(s,c))})("onKeyDown",function(n){_(t);let s=C();return x(s.handleKeydown(n))})("onTagEdited",function(n){_(t);let s=C();return x(s.updateEditedTag(n))})("onBlur",function(n){let s=_(t).index,c=C();return x(c.onTagBlurred(n,s))})("dragstart",function(n){let s=_(t),c=s.$implicit,d=s.index,m=C();return x(m.dragZone?m.onDragStarted(n,c,d):void 0)})("drop",function(n){let s=_(t).index,c=C();return x(c.dragZone?c.onTagDropped(n,s):void 0)})("dragenter",function(n){_(t);let s=C();return x(s.dragZone?s.onDragOver(n):void 0)})("dragover",function(n){let s=_(t).index,c=C();return x(c.dragZone?c.onDragOver(n,s):void 0)})("dragleave",function(){_(t);let n=C();return x(n.dragZone?n.dragProvider.onDragEnd():void 0)}),r()}if(a&2){let t=e.$implicit,i=e.index,n=C();Z("draggable",n.editable),S("canAddTag",n.isTagValid)("disabled",n.disable)("@animation",n.animationMetadata)("hasRipple",n.ripple)("index",i)("removable",n.removable)("editable",n.editable)("displayBy",n.displayBy)("identifyBy",n.identifyBy)("template",n.hasCustomTemplate()?n.templates.first:void 0)("draggable",n.dragZone)("model",t),mt("tabindex",0)}}function Dc(a,e){a&1&&u(0,"div",7)}function Ac(a,e){if(a&1&&(o(0,"p",10)(1,"span"),l(2),r()()),a&2){let t=e.$implicit;f(2),N(t)}}function zc(a,e){if(a&1&&(o(0,"div",8),M(1,Ac,3,1,"p",9),r()),a&2){let t=C();S("ngClass",t.theme),f(),S("ngForOf",t.errors)}}var Rc=a=>a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),Nc=(()=>{class a{transform(t,i){if(!i.trim())return t;try{let n=new RegExp(`(${Rc(i)})`,"i");return t.replace(n,"<b>$1</b>")}catch{return t}}}return a.\u0275fac=function(t){return new(t||a)},a.\u0275pipe=Uo({name:"highlight",type:a,pure:!0,standalone:!1}),a})(),Lc="+ Tag",Vc="Enter a new tag",jo="keydown",Bc="keyup";var Hc="The number of items specified was greater than the property max-items.",_t={DELETE:"DELETE",SWITCH_PREV:"SWITCH_PREV",SWITCH_NEXT:"SWITCH_NEXT",TAB:"TAB"},Uc={8:_t.DELETE,46:_t.DELETE,37:_t.SWITCH_PREV,39:_t.SWITCH_NEXT,9:_t.TAB},gr="Text",Nn="NEXT",Oo="PREV",_r=(()=>{class a{constructor(){this.state={dragging:!1,dropping:!1,index:void 0}}setDraggedItem(t,i){t&&t.dataTransfer&&t.dataTransfer.setData(gr,JSON.stringify(i))}getDraggedItem(t){if(t&&t.dataTransfer){let i=t.dataTransfer.getData(gr);try{return JSON.parse(i)}catch{return}}}setSender(t){this.sender=t}setReceiver(t){this.receiver=t}onTagDropped(t,i,n){this.onDragEnd(),this.sender.onRemoveRequested(t,i),this.receiver.onAddingRequested(!1,t,n)}setState(t){this.state=ye(ye({},this.state),t)}getState(t){return t?this.state[t]:this.state}onDragEnd(){this.setState({dragging:!1,dropping:!1,index:void 0})}}return a.\u0275fac=function(t){return new(t||a)},a.\u0275prov=_e({token:a,factory:a.\u0275fac}),a})(),U={tagInput:{separatorKeys:[],separatorKeyCodes:[],maxItems:1/0,placeholder:Lc,secondaryPlaceholder:Vc,validators:[],asyncValidators:[],onlyFromAutocomplete:!1,errorMessages:{},theme:"",onTextChangeDebounce:250,inputId:null,inputClass:"",clearOnBlur:!1,hideForm:!1,addOnBlur:!1,addOnPaste:!1,pasteSplitPattern:",",blinkIfDupe:!0,removable:!0,editable:!1,allowDupes:!1,modelAsStrings:!1,trimTags:!0,ripple:!0,tabIndex:"",disable:!1,dragZone:"",onRemoving:void 0,onAdding:void 0,displayBy:"display",identifyBy:"value",animationDuration:{enter:"250ms",leave:"150ms"}},dropdown:{displayBy:"display",identifyBy:"value",appendToBody:!0,offset:"50 0",focusFirstElement:!1,showDropdownIfEmpty:!1,minimumTextLength:1,limitItemsTo:1/0,keepOpen:!0,dynamicUpdate:!0,zIndex:1e3,matchingFn:$c}};function $c(a,e){let t=e[this.displayBy].toString();return t&&t.toLowerCase().indexOf(a.toLowerCase())>=0}var ko=(()=>{class a{setOptions(t){a.defaults.tagInput=ye(ye({},U.tagInput),t.tagInput),a.defaults.dropdown=ye(ye({},U.dropdown),t.dropdown)}}return a.defaults=U,a})();function fr(a){return a===Object(a)}var Wc=(()=>{class a{constructor(){this._items=[],this.displayBy=ko.defaults.tagInput.displayBy,this.identifyBy=ko.defaults.tagInput.identifyBy}get items(){return this._items}set items(t){this._items=t,this._onChangeCallback(this._items)}onTouched(){this._onTouchedCallback()}writeValue(t){this._items=t||[]}registerOnChange(t){this._onChangeCallback=t}registerOnTouched(t){this._onTouchedCallback=t}getItemValue(t,i=!1){let n=i&&this.dropdown?this.dropdown.identifyBy:this.identifyBy;return fr(t)?t[n]:t}getItemDisplay(t,i=!1){let n=i&&this.dropdown?this.dropdown.displayBy:this.displayBy;return fr(t)?t[n]:t}getItemsWithout(t){return this.items.filter((i,n)=>n!==t)}}return a.\u0275fac=function(t){return new(t||a)},a.\u0275dir=Ho({type:a,inputs:{displayBy:"displayBy",identifyBy:"identifyBy"},standalone:!1}),a})();function hr(a,e,t=!0){if(!this.listeners.hasOwnProperty(a))throw new Error("The event entered may be wrong");t&&this.listeners[a].push(e)}var vr=(()=>{class a{constructor(){this.onSubmit=new $,this.onBlur=new $,this.onFocus=new $,this.onKeyup=new $,this.onKeydown=new $,this.inputTextChange=new $,this.validators=[],this.asyncValidators=[],this.tabindex="",this.disabled=!1,this.item=new le({value:"",disabled:this.disabled})}get inputText(){return this.item.value}set inputText(t){this.item.setValue(t),this.inputTextChange.emit(t)}ngOnInit(){this.item.setValidators(this.validators),this.item.setAsyncValidators(this.asyncValidators),this.form=new ri({item:this.item})}ngOnChanges(t){t.disabled&&!t.disabled.firstChange&&(t.disabled.currentValue?this.form.controls.item.disable():this.form.controls.item.enable())}get value(){return this.form.get("item")}isInputFocused(){let t=typeof document<"u"?document:void 0;return t?t.activeElement===this.input.nativeElement:!1}getErrorMessages(t){return Object.keys(t).filter(i=>this.value.hasError(i)).map(i=>t[i])}hasErrors(){let{dirty:t,value:i,valid:n}=this.form;return t&&i.item&&!n}focus(){this.input.nativeElement.focus()}blur(){this.input.nativeElement.blur()}getElementPosition(){return this.input.nativeElement.getBoundingClientRect()}destroy(){let t=this.input.nativeElement;t.parentElement.removeChild(t)}onKeyDown(t){if(this.inputText=this.value.value,t.key==="Enter")this.submit(t);else return this.onKeydown.emit(t)}onKeyUp(t){return this.inputText=this.value.value,this.onKeyup.emit(t)}submit(t){t.preventDefault(),this.onSubmit.emit(t)}}return a.\u0275fac=function(t){return new(t||a)},a.\u0275cmp=R({type:a,selectors:[["tag-input-form"]],viewQuery:function(t,i){if(t&1&&ae(yc,5),t&2){let n;G(n=Q())&&(i.input=n.first)}},inputs:{placeholder:"placeholder",validators:"validators",asyncValidators:"asyncValidators",inputId:"inputId",inputClass:"inputClass",tabindex:"tabindex",disabled:"disabled",inputText:"inputText"},outputs:{onSubmit:"onSubmit",onBlur:"onBlur",onFocus:"onFocus",onKeyup:"onKeyup",onKeydown:"onKeydown",inputTextChange:"inputTextChange"},standalone:!1,features:[Ri],decls:3,vars:8,consts:[["input",""],[3,"ngSubmit","formGroup"],["type","text","autocomplete","off","minlength","1","formControlName","item",1,"ng2-tag-input__text-input",3,"focus","blur","keydown","keyup","tabindex","ngClass"]],template:function(t,i){if(t&1){let n=D();o(0,"form",1),w("ngSubmit",function(c){return _(n),x(i.submit(c))}),o(1,"input",2,0),w("focus",function(c){return _(n),x(i.onFocus.emit(c))})("blur",function(c){return _(n),x(i.onBlur.emit(c))})("keydown",function(c){return _(n),x(i.onKeyDown(c))})("keyup",function(c){return _(n),x(i.onKeyUp(c))}),r()()}t&2&&(S("formGroup",i.form),f(),Z("tabindex",i.disabled?-1:i.tabindex?i.tabindex:0),S("ngClass",i.inputClass),mt("id",i.inputId)("placeholder",i.placeholder)("aria-label",i.placeholder)("tabindex",i.tabindex)("disabled",i.disabled?i.disabled:null))},dependencies:[Le,Ne,li,Ge,Sa,Qe,ci,pt],styles:[".dark[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 1px #323232}.ng2-tag-input.bootstrap3-info[_ngcontent-%COMP%]{background-color:#fff;display:inline-block;color:#555;vertical-align:middle;max-width:100%;height:42px;line-height:44px}.ng2-tag-input.bootstrap3-info[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;box-shadow:none;outline:none;background-color:transparent;padding:0 6px;margin:0;width:auto;max-width:inherit}.ng2-tag-input.bootstrap3-info[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-moz-placeholder{color:#777;opacity:1}.ng2-tag-input.bootstrap3-info[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-ms-input-placeholder{color:#777}.ng2-tag-input.bootstrap3-info[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-webkit-input-placeholder{color:#777}.ng2-tag-input.bootstrap3-info[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border:none;box-shadow:none}.bootstrap3-info.ng2-tag-input.ng2-tag-input--focused[_ngcontent-%COMP%]{box-shadow:inset 0 1px 1px #0006;border:1px solid #ccc}.bootstrap3-info.ng2-tag-input.ng2-tag-input--invalid[_ngcontent-%COMP%]{box-shadow:inset 0 1px 1px #d9534f}.ng2-tag-input[_ngcontent-%COMP%]{display:block;flex-direction:row;flex-wrap:wrap;position:relative;transition:all .25s;padding:.25rem 0;min-height:32px;cursor:text;border-bottom:2px solid #efefef}.ng2-tag-input[_ngcontent-%COMP%]:focus{outline:0}.ng2-tag-input.ng2-tag-input--dropping[_ngcontent-%COMP%]{opacity:.7}.ng2-tag-input.ng2-tag-input--focused[_ngcontent-%COMP%]{border-bottom:2px solid #2196F3}.ng2-tag-input.ng2-tag-input--invalid[_ngcontent-%COMP%]{border-bottom:2px solid #f44336}.ng2-tag-input.ng2-tag-input--loading[_ngcontent-%COMP%]{border:none}.ng2-tag-input.ng2-tag-input--disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.ng2-tag-input[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{margin:.1em 0}.ng2-tag-input[_ngcontent-%COMP%]   .ng2-tags-container[_ngcontent-%COMP%]{flex-wrap:wrap;display:flex}.minimal.ng2-tag-input[_ngcontent-%COMP%]{display:block;flex-direction:row;flex-wrap:wrap;position:relative;cursor:text;border-bottom:1px solid transparent}.minimal.ng2-tag-input[_ngcontent-%COMP%]:focus{outline:0}.minimal.ng2-tag-input.ng2-tag-input--dropping[_ngcontent-%COMP%]{opacity:.7}.minimal.ng2-tag-input.ng2-tag-input--loading[_ngcontent-%COMP%]{border:none}.minimal.ng2-tag-input.ng2-tag-input--disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.minimal.ng2-tag-input[_ngcontent-%COMP%]   .ng2-tags-container[_ngcontent-%COMP%]{flex-wrap:wrap;display:flex}.dark.ng2-tag-input[_ngcontent-%COMP%]{display:block;flex-direction:row;flex-wrap:wrap;position:relative;cursor:text;border-bottom:2px solid #444}.dark.ng2-tag-input[_ngcontent-%COMP%]:focus{outline:0}.dark.ng2-tag-input.ng2-tag-input--dropping[_ngcontent-%COMP%]{opacity:.7}.dark.ng2-tag-input.ng2-tag-input--loading[_ngcontent-%COMP%]{border:none}.dark.ng2-tag-input.ng2-tag-input--disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.dark.ng2-tag-input[_ngcontent-%COMP%]   .ng2-tags-container[_ngcontent-%COMP%]{flex-wrap:wrap;display:flex}.bootstrap.ng2-tag-input[_ngcontent-%COMP%]{display:block;flex-direction:row;flex-wrap:wrap;position:relative;cursor:text;border-bottom:2px solid #efefef}.bootstrap.ng2-tag-input[_ngcontent-%COMP%]:focus{outline:0}.bootstrap.ng2-tag-input.ng2-tag-input--dropping[_ngcontent-%COMP%]{opacity:.7}.bootstrap.ng2-tag-input.ng2-tag-input--focused[_ngcontent-%COMP%]{border-bottom:2px solid #0275d8}.bootstrap.ng2-tag-input.ng2-tag-input--invalid[_ngcontent-%COMP%]{border-bottom:2px solid #d9534f}.bootstrap.ng2-tag-input.ng2-tag-input--loading[_ngcontent-%COMP%]{border:none}.bootstrap.ng2-tag-input.ng2-tag-input--disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.bootstrap.ng2-tag-input[_ngcontent-%COMP%]   .ng2-tags-container[_ngcontent-%COMP%]{flex-wrap:wrap;display:flex}.bootstrap3-info.ng2-tag-input[_ngcontent-%COMP%]{display:block;flex-direction:row;flex-wrap:wrap;position:relative;padding:4px;cursor:text;box-shadow:inset 0 1px 1px #00000013;border-radius:4px}.bootstrap3-info.ng2-tag-input[_ngcontent-%COMP%]:focus{outline:0}.bootstrap3-info.ng2-tag-input.ng2-tag-input--dropping[_ngcontent-%COMP%]{opacity:.7}.bootstrap3-info.ng2-tag-input.ng2-tag-input--invalid[_ngcontent-%COMP%]{border-bottom:1px solid #d9534f}.bootstrap3-info.ng2-tag-input.ng2-tag-input--loading[_ngcontent-%COMP%]{border:none}.bootstrap3-info.ng2-tag-input.ng2-tag-input--disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.bootstrap3-info.ng2-tag-input[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{margin:.1em 0}.bootstrap3-info.ng2-tag-input[_ngcontent-%COMP%]   .ng2-tags-container[_ngcontent-%COMP%]{flex-wrap:wrap;display:flex}.error-message[_ngcontent-%COMP%]{font-size:.8em;color:#f44336;margin:.5em 0 0}.bootstrap[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#d9534f}.ng2-tag-input__text-input[_ngcontent-%COMP%]{display:inline;vertical-align:middle;border:none;padding:0 .5rem;height:38px;font-size:1em;font-family:Roboto,Helvetica Neue,sans-serif}.ng2-tag-input__text-input[_ngcontent-%COMP%]:focus{outline:0}.ng2-tag-input__text-input[disabled=true][_ngcontent-%COMP%]{opacity:.5;background:#fff}"]}),a})(),br=(()=>{class a{constructor(){this.state="none"}}return a.\u0275fac=function(t){return new(t||a)},a.\u0275cmp=R({type:a,selectors:[["tag-ripple"]],inputs:{state:"state"},standalone:!1,decls:1,vars:1,consts:[[1,"tag-ripple"]],template:function(t,i){t&1&&u(0,"div",0),t&2&&S("@ink",i.state)},styles:["[_nghost-%COMP%]{width:100%;height:100%;left:0;overflow:hidden;position:absolute}.tag-ripple[_ngcontent-%COMP%]{background:rgba(0,0,0,.1);top:50%;left:50%;height:100%;transform:translate(-50%,-50%);position:absolute}"],data:{animation:[oi("ink",[Wt("none",se({width:0,opacity:0})),ft("none => clicked",[gt(300,qt([se({opacity:1,offset:0,width:"30%",borderRadius:"100%"}),se({opacity:1,offset:.5,width:"50%"}),se({opacity:.5,offset:1,width:"100%",borderRadius:"16px"})]))])])]}}),a})(),qc=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275cmp=R({type:a,selectors:[["delete-icon"]],standalone:!1,decls:3,vars:0,consts:[["height","16px","viewBox","0 0 32 32","width","16px"],["d","M17.459,16.014l8.239-8.194c0.395-0.391,0.395-1.024,0-1.414c-0.394-0.391-1.034-0.391-1.428,0  l-8.232,8.187L7.73,6.284c-0.394-0.395-1.034-0.395-1.428,0c-0.394,0.396-0.394,1.037,0,1.432l8.302,8.303l-8.332,8.286  c-0.394,0.391-0.394,1.024,0,1.414c0.394,0.391,1.034,0.391,1.428,0l8.325-8.279l8.275,8.276c0.394,0.395,1.034,0.395,1.428,0  c0.394-0.396,0.394-1.037,0-1.432L17.459,16.014z","fill","#121313"]],template:function(t,i){t&1&&(o(0,"span"),ct(),o(1,"svg",0),u(2,"path",1),r()())},styles:[".dark[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 1px #323232}.ng2-tag-input.bootstrap3-info[_ngcontent-%COMP%]{background-color:#fff;display:inline-block;color:#555;vertical-align:middle;max-width:100%;height:42px;line-height:44px}.ng2-tag-input.bootstrap3-info[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;box-shadow:none;outline:none;background-color:transparent;padding:0 6px;margin:0;width:auto;max-width:inherit}.ng2-tag-input.bootstrap3-info[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-moz-placeholder{color:#777;opacity:1}.ng2-tag-input.bootstrap3-info[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-ms-input-placeholder{color:#777}.ng2-tag-input.bootstrap3-info[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-webkit-input-placeholder{color:#777}.ng2-tag-input.bootstrap3-info[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border:none;box-shadow:none}.bootstrap3-info.ng2-tag-input.ng2-tag-input--focused[_ngcontent-%COMP%]{box-shadow:inset 0 1px 1px #0006;border:1px solid #ccc}.bootstrap3-info.ng2-tag-input.ng2-tag-input--invalid[_ngcontent-%COMP%]{box-shadow:inset 0 1px 1px #d9534f}.ng2-tag-input[_ngcontent-%COMP%]{display:block;flex-direction:row;flex-wrap:wrap;position:relative;transition:all .25s;padding:.25rem 0;min-height:32px;cursor:text;border-bottom:2px solid #efefef}.ng2-tag-input[_ngcontent-%COMP%]:focus{outline:0}.ng2-tag-input.ng2-tag-input--dropping[_ngcontent-%COMP%]{opacity:.7}.ng2-tag-input.ng2-tag-input--focused[_ngcontent-%COMP%]{border-bottom:2px solid #2196F3}.ng2-tag-input.ng2-tag-input--invalid[_ngcontent-%COMP%]{border-bottom:2px solid #f44336}.ng2-tag-input.ng2-tag-input--loading[_ngcontent-%COMP%]{border:none}.ng2-tag-input.ng2-tag-input--disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.ng2-tag-input[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{margin:.1em 0}.ng2-tag-input[_ngcontent-%COMP%]   .ng2-tags-container[_ngcontent-%COMP%]{flex-wrap:wrap;display:flex}.minimal.ng2-tag-input[_ngcontent-%COMP%]{display:block;flex-direction:row;flex-wrap:wrap;position:relative;cursor:text;border-bottom:1px solid transparent}.minimal.ng2-tag-input[_ngcontent-%COMP%]:focus{outline:0}.minimal.ng2-tag-input.ng2-tag-input--dropping[_ngcontent-%COMP%]{opacity:.7}.minimal.ng2-tag-input.ng2-tag-input--loading[_ngcontent-%COMP%]{border:none}.minimal.ng2-tag-input.ng2-tag-input--disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.minimal.ng2-tag-input[_ngcontent-%COMP%]   .ng2-tags-container[_ngcontent-%COMP%]{flex-wrap:wrap;display:flex}.dark.ng2-tag-input[_ngcontent-%COMP%]{display:block;flex-direction:row;flex-wrap:wrap;position:relative;cursor:text;border-bottom:2px solid #444}.dark.ng2-tag-input[_ngcontent-%COMP%]:focus{outline:0}.dark.ng2-tag-input.ng2-tag-input--dropping[_ngcontent-%COMP%]{opacity:.7}.dark.ng2-tag-input.ng2-tag-input--loading[_ngcontent-%COMP%]{border:none}.dark.ng2-tag-input.ng2-tag-input--disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.dark.ng2-tag-input[_ngcontent-%COMP%]   .ng2-tags-container[_ngcontent-%COMP%]{flex-wrap:wrap;display:flex}.bootstrap.ng2-tag-input[_ngcontent-%COMP%]{display:block;flex-direction:row;flex-wrap:wrap;position:relative;cursor:text;border-bottom:2px solid #efefef}.bootstrap.ng2-tag-input[_ngcontent-%COMP%]:focus{outline:0}.bootstrap.ng2-tag-input.ng2-tag-input--dropping[_ngcontent-%COMP%]{opacity:.7}.bootstrap.ng2-tag-input.ng2-tag-input--focused[_ngcontent-%COMP%]{border-bottom:2px solid #0275d8}.bootstrap.ng2-tag-input.ng2-tag-input--invalid[_ngcontent-%COMP%]{border-bottom:2px solid #d9534f}.bootstrap.ng2-tag-input.ng2-tag-input--loading[_ngcontent-%COMP%]{border:none}.bootstrap.ng2-tag-input.ng2-tag-input--disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.bootstrap.ng2-tag-input[_ngcontent-%COMP%]   .ng2-tags-container[_ngcontent-%COMP%]{flex-wrap:wrap;display:flex}.bootstrap3-info.ng2-tag-input[_ngcontent-%COMP%]{display:block;flex-direction:row;flex-wrap:wrap;position:relative;padding:4px;cursor:text;box-shadow:inset 0 1px 1px #00000013;border-radius:4px}.bootstrap3-info.ng2-tag-input[_ngcontent-%COMP%]:focus{outline:0}.bootstrap3-info.ng2-tag-input.ng2-tag-input--dropping[_ngcontent-%COMP%]{opacity:.7}.bootstrap3-info.ng2-tag-input.ng2-tag-input--invalid[_ngcontent-%COMP%]{border-bottom:1px solid #d9534f}.bootstrap3-info.ng2-tag-input.ng2-tag-input--loading[_ngcontent-%COMP%]{border:none}.bootstrap3-info.ng2-tag-input.ng2-tag-input--disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.bootstrap3-info.ng2-tag-input[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{margin:.1em 0}.bootstrap3-info.ng2-tag-input[_ngcontent-%COMP%]   .ng2-tags-container[_ngcontent-%COMP%]{flex-wrap:wrap;display:flex}.error-message[_ngcontent-%COMP%]{font-size:.8em;color:#f44336;margin:.5em 0 0}.bootstrap[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#d9534f}delete-icon[_nghost-%COMP%]{width:20px;height:16px;transition:all .15s;display:inline-block;text-align:right}delete-icon[_nghost-%COMP%]   path[_ngcontent-%COMP%]{fill:#444}delete-icon[_nghost-%COMP%]   svg[_ngcontent-%COMP%]{vertical-align:bottom;height:34px}delete-icon[_nghost-%COMP%]:hover{transform:scale(1.5) translateY(-3px)}.dark[_nghost-%COMP%], .dark   [_nghost-%COMP%]{text-align:right}.dark[_nghost-%COMP%]   path[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   path[_ngcontent-%COMP%]{fill:#fff}.dark[_nghost-%COMP%]   svg[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   svg[_ngcontent-%COMP%]{vertical-align:bottom;height:34px}.minimal[_nghost-%COMP%], .minimal   [_nghost-%COMP%]{text-align:right}.minimal[_nghost-%COMP%]   path[_ngcontent-%COMP%], .minimal   [_nghost-%COMP%]   path[_ngcontent-%COMP%]{fill:#444}.minimal[_nghost-%COMP%]   svg[_ngcontent-%COMP%], .minimal   [_nghost-%COMP%]   svg[_ngcontent-%COMP%]{vertical-align:bottom;height:34px}.bootstrap[_nghost-%COMP%], .bootstrap   [_nghost-%COMP%]{text-align:right}.bootstrap[_nghost-%COMP%]   path[_ngcontent-%COMP%], .bootstrap   [_nghost-%COMP%]   path[_ngcontent-%COMP%]{fill:#fff}.bootstrap[_nghost-%COMP%]   svg[_ngcontent-%COMP%], .bootstrap   [_nghost-%COMP%]   svg[_ngcontent-%COMP%]{vertical-align:bottom;height:34px}tag:focus[_nghost-%COMP%]   path[_ngcontent-%COMP%], tag:focus   [_nghost-%COMP%]   path[_ngcontent-%COMP%], tag:active[_nghost-%COMP%]   path[_ngcontent-%COMP%], tag:active   [_nghost-%COMP%]   path[_ngcontent-%COMP%]{fill:#fff}.dark   tag:focus[_nghost-%COMP%]   path[_ngcontent-%COMP%], .dark   tag:focus   [_nghost-%COMP%]   path[_ngcontent-%COMP%], .dark   tag:active[_nghost-%COMP%]   path[_ngcontent-%COMP%], .dark   tag:active   [_nghost-%COMP%]   path[_ngcontent-%COMP%]{fill:#000}.minimal   tag:focus[_nghost-%COMP%]   path[_ngcontent-%COMP%], .minimal   tag:focus   [_nghost-%COMP%]   path[_ngcontent-%COMP%], .minimal   tag:active[_nghost-%COMP%]   path[_ngcontent-%COMP%], .minimal   tag:active   [_nghost-%COMP%]   path[_ngcontent-%COMP%]{fill:#000}.bootstrap   tag:focus[_nghost-%COMP%]   path[_ngcontent-%COMP%], .bootstrap   tag:focus   [_nghost-%COMP%]   path[_ngcontent-%COMP%], .bootstrap   tag:active[_nghost-%COMP%]   path[_ngcontent-%COMP%], .bootstrap   tag:active   [_nghost-%COMP%]   path[_ngcontent-%COMP%]{fill:#fff}.bootstrap3-info[_nghost-%COMP%], .bootstrap3-info   [_nghost-%COMP%]{height:inherit}.bootstrap3-info[_nghost-%COMP%]   path[_ngcontent-%COMP%], .bootstrap3-info   [_nghost-%COMP%]   path[_ngcontent-%COMP%]{fill:#fff}"]}),a})(),Sr=typeof window<"u"?window.navigator:{userAgent:"Chrome",vendor:"Google Inc"},Zc=/Chrome/.test(Sr.userAgent)&&/Google Inc/.test(Sr.vendor),yr=(()=>{class a{constructor(t,i,n){this.element=t,this.renderer=i,this.cdRef=n,this.disabled=!1,this.onSelect=new $,this.onRemove=new $,this.onBlur=new $,this.onKeyDown=new $,this.onTagEdited=new $,this.editing=!1,this.rippleState="none"}get readonly(){return typeof this.model!="string"&&this.model.readonly===!0}select(t){this.readonly||this.disabled||(t&&t.stopPropagation(),this.focus(),this.onSelect.emit(this.model))}remove(t){t.stopPropagation(),this.onRemove.emit(this)}focus(){this.element.nativeElement.focus()}move(){this.moving=!0}keydown(t){if(this.editing){if(t.keyCode===13)return this.disableEditMode(t)}else this.onKeyDown.emit({event:t,model:this.model})}blink(){let t=this.element.nativeElement.classList;t.add("blink"),setTimeout(()=>t.remove("blink"),50)}toggleEditMode(){if(this.editable)return this.editing?void 0:this.activateEditMode()}onBlurred(t){if(!this.editable)return;this.disableEditMode();let i=t.target.innerText,n=typeof this.model=="string"?i:ze(ye({},this.model),{[this.displayBy]:i});this.onBlur.emit(n)}getDisplayValue(t){return typeof t=="string"?t:t[this.displayBy]}get isRippleVisible(){return!this.readonly&&!this.editing&&Zc&&this.hasRipple}disableEditMode(t){let i=this.element.nativeElement.classList,n=this.getContentEditableText();if(this.editing=!1,i.remove("tag--editing"),!n){this.setContentEditableText(this.model);return}this.storeNewValue(n),this.cdRef.detectChanges(),t&&t.preventDefault()}isDeleteIconVisible(){return!this.readonly&&!this.disabled&&this.removable&&!this.editing}getContentEditableText(){let t=this.getContentEditable();return t?t.innerText.trim():""}setContentEditableText(t){let i=this.getContentEditable(),n=this.getDisplayValue(t);i.innerText=n}activateEditMode(){this.element.nativeElement.classList.add("tag--editing"),this.editing=!0}storeNewValue(t){let i=c=>typeof c=="string"?c===t:c[this.displayBy]===t,n=()=>this.model[this.identifyBy]!==this.model[this.displayBy];if(i(this.model))return;let s=typeof this.model=="string"?t:{index:this.index,[this.identifyBy]:n()?this.model[this.identifyBy]:t,[this.displayBy]:t};this.canAddTag(s)?this.onTagEdited.emit({tag:s,index:this.index}):this.setContentEditableText(this.model)}getContentEditable(){return this.element.nativeElement.querySelector("[contenteditable]")}}return a.\u0275fac=function(t){return new(t||a)(I(de),I(re),I(Ui))},a.\u0275cmp=R({type:a,selectors:[["tag"]],viewQuery:function(t,i){if(t&1&&ae(br,5),t&2){let n;G(n=Q())&&(i.ripple=n.first)}},hostVars:2,hostBindings:function(t,i){t&1&&w("keydown",function(s){return i.keydown(s)}),t&2&&B("moving",i.moving)},inputs:{model:"model",removable:"removable",editable:"editable",template:"template",displayBy:"displayBy",identifyBy:"identifyBy",index:"index",hasRipple:"hasRipple",disabled:"disabled",canAddTag:"canAddTag"},outputs:{onSelect:"onSelect",onRemove:"onRemove",onBlur:"onBlur",onKeyDown:"onKeyDown",onTagEdited:"onTagEdited"},standalone:!1,decls:4,vars:8,consts:[[3,"click","dblclick","mousedown","mouseup","ngSwitch"],[4,"ngSwitchCase"],["class","tag-wrapper",4,"ngSwitchCase"],[3,"state",4,"ngIf"],[3,"ngTemplateOutletContext","ngTemplateOutlet"],[1,"tag-wrapper"],["spellcheck","false",1,"tag__text","inline",3,"keydown.enter","keydown.escape","click","blur"],["aria-label","Remove tag","role","button",3,"click",4,"ngIf"],["aria-label","Remove tag","role","button",3,"click"],[3,"state"]],template:function(t,i){t&1&&(o(0,"div",0),w("click",function(s){return i.select(s)})("dblclick",function(){return i.toggleEditMode()})("mousedown",function(){return i.rippleState="clicked"})("mouseup",function(){return i.rippleState="none"}),M(1,wc,2,6,"div",1)(2,Ec,4,4,"div",2),r(),M(3,Pc,1,2,"tag-ripple",3)),t&2&&(B("disabled",i.disabled),S("ngSwitch",!!i.template),mt("tabindex",-1)("aria-label",i.getDisplayValue(i.model)),f(),S("ngSwitchCase",!0),f(),S("ngSwitchCase",!1),f(),S("ngIf",i.isRippleVisible))},dependencies:[qc,br,Kn,Gn,Qn,X],styles:["[_nghost-%COMP%], [_nghost-%COMP%] > div[_ngcontent-%COMP%], [_nghost-%COMP%] > div[_ngcontent-%COMP%]:focus{outline:0;overflow:hidden;transition:opacity 1s;z-index:1}[_nghost-%COMP%]{max-width:400px}.blink[_nghost-%COMP%]{-webkit-animation:_ngcontent-%COMP%_blink .3s normal forwards ease-in-out;animation:_ngcontent-%COMP%_blink .3s normal forwards ease-in-out}@-webkit-keyframes _ngcontent-%COMP%_blink{0%{opacity:.3}}@keyframes _ngcontent-%COMP%_blink{0%{opacity:.3}}[_nghost-%COMP%]   .disabled[_ngcontent-%COMP%]{cursor:not-allowed}[_nghost-%COMP%]   [contenteditable=true][_ngcontent-%COMP%]{outline:0}.tag-wrapper[_ngcontent-%COMP%]{flex-direction:row;display:flex}.tag__text[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}"]}),a})(),Xc=[oi("animation",[Wt("in",se({opacity:1})),Wt("out",se({opacity:0})),ft(":enter",[gt("{{ enter }}",qt([se({opacity:0,offset:0,transform:"translate(0px, 20px)"}),se({opacity:.3,offset:.3,transform:"translate(0px, -10px)"}),se({opacity:.5,offset:.5,transform:"translate(0px, 0px)"}),se({opacity:.75,offset:.75,transform:"translate(0px, 5px)"}),se({opacity:1,offset:1,transform:"translate(0px, 0px)"})]))]),ft(":leave",[gt("{{ leave }}",qt([se({opacity:1,transform:"translateX(0)",offset:0}),se({opacity:1,transform:"translateX(-15px)",offset:.7}),se({opacity:0,transform:"translateX(100%)",offset:1})]))])])],Do=(()=>{class a{constructor(t){this.injector=t,this.offset=U.dropdown.offset,this.focusFirstElement=U.dropdown.focusFirstElement,this.showDropdownIfEmpty=U.dropdown.showDropdownIfEmpty,this.minimumTextLength=U.dropdown.minimumTextLength,this.limitItemsTo=U.dropdown.limitItemsTo,this.displayBy=U.dropdown.displayBy,this.identifyBy=U.dropdown.identifyBy,this.matchingFn=U.dropdown.matchingFn,this.appendToBody=U.dropdown.appendToBody,this.keepOpen=U.dropdown.keepOpen,this.dynamicUpdate=U.dropdown.dynamicUpdate,this.zIndex=U.dropdown.zIndex,this.items=[],this.tagInput=this.injector.get(Ln),this._autocompleteItems=[],this.show=()=>{let i=this.tagInput.items.length===this.tagInput.maxItems,n=this.getFormValue(),s=n.trim().length>=this.minimumTextLength,c=this.calculatePosition(),d=this.getMatchingItems(n),m=d.length>0,g=this.isVisible===!1,p=this.showDropdownIfEmpty&&m&&!n,h=this.tagInput.disable,b=g&&(m&&s||p),v=this.isVisible&&!m;if(this.autocompleteObservable&&s)return this.getItemsFromObservable(n);if(!this.showDropdownIfEmpty&&!n||i||h)return this.dropdown.hide();this.setItems(d),b?this.dropdown.show(c):v&&this.hide()},this.requestAdding=i=>zi(this,null,function*(){let n=this.createTagModel(i);yield this.tagInput.onAddingRequested(!0,n).catch(()=>{})}),this.resetItems=()=>{this.items=[]},this.getItemsFromObservable=i=>{this.setLoadingState(!0);let n=s=>{this.setLoadingState(!1).populateItems(s),this.setItems(this.getMatchingItems(i)),this.items.length?this.dropdown.show(this.calculatePosition()):this.dropdown.hide()};this.autocompleteObservable(i).pipe(ti()).subscribe(n,()=>this.setLoadingState(!1))}}set autocompleteItems(t){this._autocompleteItems=t}get autocompleteItems(){let t=this._autocompleteItems;return t?t.map(i=>typeof i=="string"?{[this.displayBy]:i,[this.identifyBy]:i}:i):[]}ngAfterViewInit(){this.onItemClicked().subscribe(n=>{this.requestAdding(n)}),this.onHide().subscribe(this.resetItems);let t=200,i=this.keepOpen;this.tagInput.onTextChange.asObservable().pipe(No(),xi(t),Xe(n=>i===!1?n.length>0:!0)).subscribe(this.show)}updatePosition(){let t=this.tagInput.inputForm.getElementPosition();this.dropdown.menu.updatePosition(t,this.dynamicUpdate)}get isVisible(){return this.dropdown.menu.dropdownState.menuState.isVisible}onHide(){return this.dropdown.onHide}onItemClicked(){return this.dropdown.onItemClicked}get selectedItem(){return this.dropdown.menu.dropdownState.dropdownState.selectedItem}get state(){return this.dropdown.menu.dropdownState}hide(){this.resetItems(),this.dropdown.hide()}scrollListener(){!this.isVisible||!this.dynamicUpdate||this.updatePosition()}onWindowBlur(){this.dropdown.hide()}getFormValue(){let t=this.tagInput.formValue;return t?t.toString().trim():""}calculatePosition(){return this.tagInput.inputForm.getElementPosition()}createTagModel(t){let i=typeof t.value=="string"?t.value:t.value[this.displayBy],n=typeof t.value=="string"?t.value:t.value[this.identifyBy];return ze(ye({},t.value),{[this.tagInput.displayBy]:i,[this.tagInput.identifyBy]:n})}getMatchingItems(t){if(!t&&!this.showDropdownIfEmpty)return[];let i=this.tagInput.allowDupes;return this.autocompleteItems.filter(n=>{let s=i?!1:this.tagInput.tags.some(c=>{let d=this.tagInput.identifyBy;return(typeof c.model=="string"?c.model:c.model[d])===n[this.identifyBy]});return this.matchingFn(t,n)&&s===!1})}setItems(t){this.items=t.slice(0,this.limitItemsTo||t.length)}populateItems(t){return this.autocompleteItems=t.map(i=>typeof i=="string"?{[this.displayBy]:i,[this.identifyBy]:i}:i),this}setLoadingState(t){return this.tagInput.isLoading=t,this}}return a.\u0275fac=function(t){return new(t||a)(I(Vo))},a.\u0275cmp=R({type:a,selectors:[["tag-input-dropdown"]],contentQueries:function(t,i,n){if(t&1&&Ft(n,Xn,4),t&2){let s;G(s=Q())&&(i.templates=s)}},viewQuery:function(t,i){if(t&1&&ae(Rn,5),t&2){let n;G(n=Q())&&(i.dropdown=n.first)}},hostBindings:function(t,i){t&1&&w("scroll",function(){return i.scrollListener()},!1,dt)("blur",function(){return i.onWindowBlur()},!1,dt)},inputs:{offset:"offset",focusFirstElement:"focusFirstElement",showDropdownIfEmpty:"showDropdownIfEmpty",autocompleteObservable:"autocompleteObservable",minimumTextLength:"minimumTextLength",limitItemsTo:"limitItemsTo",displayBy:"displayBy",identifyBy:"identifyBy",matchingFn:"matchingFn",appendToBody:"appendToBody",keepOpen:"keepOpen",dynamicUpdate:"dynamicUpdate",zIndex:"zIndex",autocompleteItems:"autocompleteItems"},standalone:!1,decls:3,vars:6,consts:[[3,"dynamicUpdate"],[3,"focusFirstElement","zIndex","appendToBody","offset"],[3,"value","ngSwitch",4,"ngFor","ngForOf"],[3,"value","ngSwitch"],[3,"innerHTML",4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"innerHTML"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,i){t&1&&(o(0,"ng2-dropdown",0)(1,"ng2-dropdown-menu",1),M(2,jc,3,3,"ng2-menu-item",2),r()()),t&2&&(S("dynamicUpdate",i.dynamicUpdate),f(),S("focusFirstElement",i.focusFirstElement)("zIndex",i.zIndex)("appendToBody",i.appendToBody)("offset",i.offset),f(),S("ngForOf",i.items))},dependencies:[Rn,Fo,To,ee,Kn,Gn,Xo,Qn,Nc],encapsulation:2}),a})(),Yc={provide:ha,useExisting:Lo(()=>Ln),multi:!0},Ln=(()=>{class a extends Wc{constructor(t,i){super(),this.renderer=t,this.dragProvider=i,this.separatorKeys=U.tagInput.separatorKeys,this.separatorKeyCodes=U.tagInput.separatorKeyCodes,this.placeholder=U.tagInput.placeholder,this.secondaryPlaceholder=U.tagInput.secondaryPlaceholder,this.maxItems=U.tagInput.maxItems,this.validators=U.tagInput.validators,this.asyncValidators=U.tagInput.asyncValidators,this.onlyFromAutocomplete=U.tagInput.onlyFromAutocomplete,this.errorMessages=U.tagInput.errorMessages,this.theme=U.tagInput.theme,this.onTextChangeDebounce=U.tagInput.onTextChangeDebounce,this.inputId=U.tagInput.inputId,this.inputClass=U.tagInput.inputClass,this.clearOnBlur=U.tagInput.clearOnBlur,this.hideForm=U.tagInput.hideForm,this.addOnBlur=U.tagInput.addOnBlur,this.addOnPaste=U.tagInput.addOnPaste,this.pasteSplitPattern=U.tagInput.pasteSplitPattern,this.blinkIfDupe=U.tagInput.blinkIfDupe,this.removable=U.tagInput.removable,this.editable=U.tagInput.editable,this.allowDupes=U.tagInput.allowDupes,this.modelAsStrings=U.tagInput.modelAsStrings,this.trimTags=U.tagInput.trimTags,this.ripple=U.tagInput.ripple,this.tabindex=U.tagInput.tabIndex,this.disable=U.tagInput.disable,this.dragZone=U.tagInput.dragZone,this.onRemoving=U.tagInput.onRemoving,this.onAdding=U.tagInput.onAdding,this.animationDuration=U.tagInput.animationDuration,this.onAdd=new $,this.onRemove=new $,this.onSelect=new $,this.onFocus=new $,this.onBlur=new $,this.onTextChange=new $,this.onPaste=new $,this.onValidationError=new $,this.onTagEdited=new $,this.isLoading=!1,this.listeners={[jo]:[],[Bc]:[]},this.inputTextChange=new $,this.inputTextValue="",this.errors=[],this.appendTag=(n,s=this.items.length)=>{let c=this.items,d=this.modelAsStrings?n[this.identifyBy]:n;this.items=[...c.slice(0,s),d,...c.slice(s,c.length)]},this.createTag=n=>{let s=(c,d)=>typeof c=="string"?c.trim():c[d];return ze(ye({},typeof n!="string"?n:{}),{[this.displayBy]:this.trimTags?s(n,this.displayBy):n,[this.identifyBy]:this.trimTags?s(n,this.identifyBy):n})},this.isTagValid=(n,s=!1)=>{let c=this.dropdown?this.dropdown.selectedItem:void 0,d=this.getItemDisplay(n).trim();if(c&&!s||!d)return!1;let m=this.findDupe(n,s);if(!this.allowDupes&&m&&this.blinkIfDupe){let h=this.tags.find(b=>this.getItemValue(b.model)===this.getItemValue(m));h&&h.blink()}let g=s&&this.onlyFromAutocomplete,p=[!m||this.allowDupes,!this.maxItemsReached,g||!this.onlyFromAutocomplete];return p.filter(Boolean).length===p.length},this.onPasteCallback=n=>zi(this,null,function*(){let c=(()=>{let g=!!window.clipboardData,p=g?window.clipboardData:n.clipboardData,h=g?"Text":"text/plain";return p===null?"":p.getData(h)||""})(),d=c.split(this.pasteSplitPattern).map(g=>{let p=this.createTag(g);return this.setInputValue(p[this.displayBy]),this.onAddingRequested(!1,p)}),m=()=>setTimeout(()=>this.setInputValue(""),50);Promise.all(d).then(()=>{this.onPaste.emit(c),m()}).catch(m)})}get inputText(){return this.inputTextValue}set inputText(t){this.inputTextValue=t,this.inputTextChange.emit(t)}get tabindexAttr(){return this.tabindex!==""?"-1":""}ngAfterViewInit(){this.setUpKeypressListeners(),this.setupSeparatorKeysListener(),this.setUpInputKeydownListeners(),this.onTextChange.observers.length&&this.setUpTextChangeSubscriber(),(this.clearOnBlur||this.addOnBlur)&&this.setUpOnBlurSubscriber(),this.addOnPaste&&this.setUpOnPasteListener();let t=this.inputForm.form.statusChanges;t.pipe(Xe(i=>i!=="PENDING")).subscribe(()=>{this.errors=this.inputForm.getErrorMessages(this.errorMessages)}),this.isProgressBarVisible$=t.pipe(ke(i=>i==="PENDING"||this.isLoading)),this.hideForm&&this.inputForm.destroy()}ngOnInit(){this.maxItems!==void 0&&this.items&&this.items.length>this.maxItems&&(this.maxItems=this.items.length,console.warn(Hc)),this.editable=this.onlyFromAutocomplete?!1:this.editable,this.setAnimationMetadata()}onRemoveRequested(t,i){return new Promise(n=>{let s=c=>{this.removeItem(c,i),n(t)};this.onRemoving?this.onRemoving(t).pipe(ti()).subscribe(s):s(t)})}onAddingRequested(t,i,n,s){return new Promise((c,d)=>{let m=g=>this.addItem(t,g,n,s).then(c).catch(d);return this.onAdding?this.onAdding(i).pipe(ti()).subscribe(m,d):m(i)})}selectItem(t,i=!0){t&&typeof t!="string"&&t.readonly||this.selectedTag===t||(this.selectedTag=t,i&&this.onSelect.emit(t))}fireEvents(t,i){this.listeners[t].forEach(n=>n.call(this,i))}handleKeydown(t){let i=t.event,n=i.keyCode||i.which,s=i.shiftKey||!1;switch(Uc[n]){case _t.DELETE:if(this.selectedTag&&this.removable){let c=this.items.indexOf(this.selectedTag);this.onRemoveRequested(this.selectedTag,c)}break;case _t.SWITCH_PREV:this.moveToTag(t.model,Oo);break;case _t.SWITCH_NEXT:this.moveToTag(t.model,Nn);break;case _t.TAB:if(s){if(this.isFirstTag(t.model))return;this.moveToTag(t.model,Oo)}else{if(this.isLastTag(t.model)&&(this.disable||this.maxItemsReached))return;this.moveToTag(t.model,Nn)}break;default:return}i.preventDefault()}onFormSubmit(){return zi(this,null,function*(){try{yield this.onAddingRequested(!1,this.formValue)}catch{return}})}setInputValue(t,i=!0){this.getControl().setValue(t,{emitEvent:i})}getControl(){return this.inputForm.value}focus(t=!1,i=!1){this.dragProvider.getState("dragging")||(this.selectItem(void 0,!1),t&&(this.inputForm.focus(),this.onFocus.emit(this.formValue)))}blur(){this.onTouched(),this.onBlur.emit(this.formValue)}hasErrors(){return!!this.inputForm&&this.inputForm.hasErrors()}isInputFocused(){return!!this.inputForm&&this.inputForm.isInputFocused()}hasCustomTemplate(){let t=this.templates?this.templates.first:void 0,i=this.dropdown&&this.dropdown.templates?this.dropdown.templates.first:void 0;return!!(t&&t!==i)}get maxItemsReached(){return this.maxItems!==void 0&&this.items.length>=this.maxItems}get formValue(){let t=this.inputForm.value;return t?t.value:""}onDragStarted(t,i,n){t.stopPropagation();let s={zone:this.dragZone,tag:i,index:n};this.dragProvider.setSender(this),this.dragProvider.setDraggedItem(t,s),this.dragProvider.setState({dragging:!0,index:n})}onDragOver(t,i){this.dragProvider.setState({dropping:!0}),this.dragProvider.setReceiver(this),t.preventDefault()}onTagDropped(t,i){let n=this.dragProvider.getDraggedItem(t);!n||n.zone!==this.dragZone||(this.dragProvider.onTagDropped(n.tag,n.index,i),t.preventDefault(),t.stopPropagation())}isDropping(){let t=this.dragProvider.receiver===this,i=this.dragProvider.getState("dropping");return!!(t&&i)}onTagBlurred(t,i){this.items[i]=t,this.blur()}trackBy(t,i){return i[this.identifyBy]}updateEditedTag(t){this.onTagEdited.emit(t)}moveToTag(t,i){let n=this.isLastTag(t),s=this.isFirstTag(t);if(i===Nn&&n||i===Oo&&s){this.focus(!0);return}let d=i===Nn?1:-1,m=this.getTagIndex(t)+d,g=this.getTagAtIndex(m);return g.select.call(g)}isFirstTag(t){return this.tags.first.model===t}isLastTag(t){return this.tags.last.model===t}getTagIndex(t){return this.tags.toArray().findIndex(n=>n.model===t)}getTagAtIndex(t){return this.tags.toArray()[t]}removeItem(t,i){this.items=this.getItemsWithout(i),this.selectedTag===t&&this.selectItem(void 0,!1),this.focus(!0,!1),this.onRemove.emit(t)}addItem(t=!1,i,n,s){let c=this.getItemDisplay(i),d=this.createTag(i);return t&&this.setInputValue(this.getItemValue(i,!0)),new Promise((m,g)=>{let p=()=>{this.setInputValue(""),s?this.focus(!1,!1):this.focus(!0,!1),m(c)},h=()=>{this.appendTag(d,n),this.onAdd.emit(d),this.dropdown&&(this.dropdown.hide(),this.dropdown.showDropdownIfEmpty&&this.dropdown.show())},b=this.inputForm.form.status,v=this.isTagValid(d,t),y=()=>(this.onValidationError.emit(d),g());if(b==="VALID"&&v)return h(),p();if(b==="INVALID"||!v)return p(),y();if(b==="PENDING")return this.inputForm.form.statusChanges.pipe(Xe(E=>E!=="PENDING"),ti()).subscribe(E=>E==="VALID"&&v?(h(),p()):(p(),y()))})}setupSeparatorKeysListener(){let t=this.separatorKeyCodes.length>0||this.separatorKeys.length>0,i=n=>{let s=this.separatorKeyCodes.indexOf(n.keyCode)>=0,c=this.separatorKeys.indexOf(n.key)>=0,d=n.keyCode===229;(s||c&&!d)&&(n.preventDefault(),this.onAddingRequested(!1,this.formValue).catch(()=>{}))};hr.call(this,jo,i,t)}setUpKeypressListeners(){let t=i=>{(i.keyCode===37||i.keyCode===8)&&!this.formValue&&this.items.length&&this.tags.last.select.call(this.tags.last)};hr.call(this,jo,t)}setUpInputKeydownListeners(){this.inputForm.onKeydown.subscribe(t=>{t.key==="Backspace"&&this.formValue.trim()===""&&t.preventDefault()})}setUpOnPasteListener(){let t=this.inputForm.input.nativeElement;this.renderer.listen(t,"paste",i=>(this.onPasteCallback(i),i.preventDefault(),!0))}setUpTextChangeSubscriber(){this.inputForm.form.valueChanges.pipe(xi(this.onTextChangeDebounce)).subscribe(t=>{this.onTextChange.emit(t.item)})}setUpOnBlurSubscriber(){let t=()=>!(this.dropdown&&this.dropdown.isVisible)&&!!this.formValue;this.inputForm.onBlur.pipe(xi(100),Xe(t)).subscribe(()=>{let i=()=>this.setInputValue("");if(this.addOnBlur)return this.onAddingRequested(!1,this.formValue,void 0,!0).then(i).catch(i);i()})}findDupe(t,i){let n=i?this.dropdown.identifyBy:this.identifyBy,s=t[n];return this.items.find(c=>this.getItemValue(c)===s)}setAnimationMetadata(){this.animationMetadata={value:"in",params:ye({},this.animationDuration)}}}return a.\u0275fac=function(t){return new(t||a)(I(re),I(_r))},a.\u0275cmp=R({type:a,selectors:[["tag-input"]],contentQueries:function(t,i,n){if(t&1&&(Ft(n,Do,5),Ft(n,Xn,4)),t&2){let s;G(s=Q())&&(i.dropdown=s.first),G(s=Q())&&(i.templates=s)}},viewQuery:function(t,i){if(t&1&&(ae(vr,5),ae(yr,5)),t&2){let n;G(n=Q())&&(i.inputForm=n.first),G(n=Q())&&(i.tags=n)}},hostVars:1,hostBindings:function(t,i){t&2&&mt("tabindex",i.tabindexAttr)},inputs:{separatorKeys:"separatorKeys",separatorKeyCodes:"separatorKeyCodes",placeholder:"placeholder",secondaryPlaceholder:"secondaryPlaceholder",maxItems:"maxItems",validators:"validators",asyncValidators:"asyncValidators",onlyFromAutocomplete:"onlyFromAutocomplete",errorMessages:"errorMessages",theme:"theme",onTextChangeDebounce:"onTextChangeDebounce",inputId:"inputId",inputClass:"inputClass",clearOnBlur:"clearOnBlur",hideForm:"hideForm",addOnBlur:"addOnBlur",addOnPaste:"addOnPaste",pasteSplitPattern:"pasteSplitPattern",blinkIfDupe:"blinkIfDupe",removable:"removable",editable:"editable",allowDupes:"allowDupes",modelAsStrings:"modelAsStrings",trimTags:"trimTags",inputText:"inputText",ripple:"ripple",tabindex:"tabindex",disable:"disable",dragZone:"dragZone",onRemoving:"onRemoving",onAdding:"onAdding",animationDuration:"animationDuration"},outputs:{onAdd:"onAdd",onRemove:"onRemove",onSelect:"onSelect",onFocus:"onFocus",onBlur:"onBlur",onTextChange:"onTextChange",onPaste:"onPaste",onValidationError:"onValidationError",onTagEdited:"onTagEdited",inputTextChange:"inputTextChange"},standalone:!1,features:[Hi([Yc]),$o],ngContentSelectors:Oc,decls:8,vars:27,consts:[[1,"ng2-tag-input",3,"click","drop","dragenter","dragover","dragend","ngClass"],[1,"ng2-tags-container"],[3,"draggable","canAddTag","disabled","hasRipple","index","removable","editable","displayBy","identifyBy","template","model","onSelect","onRemove","onKeyDown","onTagEdited","onBlur","dragstart","drop","dragenter","dragover","dragleave",4,"ngFor","ngForOf","ngForTrackBy"],[3,"onSubmit","onBlur","click","onKeydown","onKeyup","inputText","disabled","validators","asyncValidators","hidden","placeholder","inputClass","inputId","tabindex"],["class","progress-bar",4,"ngIf"],["class","error-messages",3,"ngClass",4,"ngIf"],[3,"onSelect","onRemove","onKeyDown","onTagEdited","onBlur","dragstart","drop","dragenter","dragover","dragleave","draggable","canAddTag","disabled","hasRipple","index","removable","editable","displayBy","identifyBy","template","model"],[1,"progress-bar"],[1,"error-messages",3,"ngClass"],["class","error-message",4,"ngFor","ngForOf"],[1,"error-message"]],template:function(t,i){t&1&&(Ut(),o(0,"div",0),w("click",function(){return i.focus(!0,!1)})("drop",function(s){return i.dragZone?i.onTagDropped(s,void 0):void 0})("dragenter",function(s){return i.dragZone?i.onDragOver(s):void 0})("dragover",function(s){return i.dragZone?i.onDragOver(s):void 0})("dragend",function(){return i.dragZone?i.dragProvider.onDragEnd():void 0}),o(1,"div",1),M(2,kc,1,14,"tag",2),o(3,"tag-input-form",3),w("onSubmit",function(){return i.onFormSubmit()})("onBlur",function(){return i.blur()})("click",function(){return i.dropdown?i.dropdown.show():void 0})("onKeydown",function(s){return i.fireEvents("keydown",s)})("onKeyup",function(s){return i.fireEvents("keyup",s)}),r()(),M(4,Dc,1,0,"div",4),F(5,"async"),r(),M(6,zc,2,2,"div",5),Mt(7)),t&2&&(B("ng2-tag-input--dropping",i.isDropping())("ng2-tag-input--disabled",i.disable)("ng2-tag-input--loading",i.isLoading)("ng2-tag-input--invalid",i.hasErrors())("ng2-tag-input--focused",i.isInputFocused()),S("ngClass",i.theme),mt("tabindex",-1),f(2),S("ngForOf",i.items)("ngForTrackBy",i.trackBy),f(),S("inputText",i.inputText)("disabled",i.disable)("validators",i.validators)("asyncValidators",i.asyncValidators)("hidden",i.maxItemsReached)("placeholder",i.items.length?i.placeholder:i.secondaryPlaceholder)("inputClass",i.inputClass)("inputId",i.inputId)("tabindex",i.tabindex),f(),S("ngIf",W(5,25,i.isProgressBarVisible$)),f(2),S("ngIf",i.hasErrors()))},dependencies:[yr,vr,pt,ee,X,Ko],styles:['.dark[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 1px #323232}.ng2-tag-input.bootstrap3-info[_ngcontent-%COMP%]{background-color:#fff;display:inline-block;color:#555;vertical-align:middle;max-width:100%;height:42px;line-height:44px}.ng2-tag-input.bootstrap3-info[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;box-shadow:none;outline:none;background-color:transparent;padding:0 6px;margin:0;width:auto;max-width:inherit}.ng2-tag-input.bootstrap3-info[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-moz-placeholder{color:#777;opacity:1}.ng2-tag-input.bootstrap3-info[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-ms-input-placeholder{color:#777}.ng2-tag-input.bootstrap3-info[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-webkit-input-placeholder{color:#777}.ng2-tag-input.bootstrap3-info[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border:none;box-shadow:none}.bootstrap3-info.ng2-tag-input.ng2-tag-input--focused[_ngcontent-%COMP%]{box-shadow:inset 0 1px 1px #0006;border:1px solid #ccc}.bootstrap3-info.ng2-tag-input.ng2-tag-input--invalid[_ngcontent-%COMP%]{box-shadow:inset 0 1px 1px #d9534f}.ng2-tag-input[_ngcontent-%COMP%]{display:block;flex-direction:row;flex-wrap:wrap;position:relative;transition:all .25s;padding:.25rem 0;min-height:32px;cursor:text;border-bottom:2px solid #efefef}.ng2-tag-input[_ngcontent-%COMP%]:focus{outline:0}.ng2-tag-input.ng2-tag-input--dropping[_ngcontent-%COMP%]{opacity:.7}.ng2-tag-input.ng2-tag-input--focused[_ngcontent-%COMP%]{border-bottom:2px solid #2196F3}.ng2-tag-input.ng2-tag-input--invalid[_ngcontent-%COMP%]{border-bottom:2px solid #f44336}.ng2-tag-input.ng2-tag-input--loading[_ngcontent-%COMP%]{border:none}.ng2-tag-input.ng2-tag-input--disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.ng2-tag-input[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{margin:.1em 0}.ng2-tag-input[_ngcontent-%COMP%]   .ng2-tags-container[_ngcontent-%COMP%]{flex-wrap:wrap;display:flex}.minimal.ng2-tag-input[_ngcontent-%COMP%]{display:block;flex-direction:row;flex-wrap:wrap;position:relative;cursor:text;border-bottom:1px solid transparent}.minimal.ng2-tag-input[_ngcontent-%COMP%]:focus{outline:0}.minimal.ng2-tag-input.ng2-tag-input--dropping[_ngcontent-%COMP%]{opacity:.7}.minimal.ng2-tag-input.ng2-tag-input--loading[_ngcontent-%COMP%]{border:none}.minimal.ng2-tag-input.ng2-tag-input--disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.minimal.ng2-tag-input[_ngcontent-%COMP%]   .ng2-tags-container[_ngcontent-%COMP%]{flex-wrap:wrap;display:flex}.dark.ng2-tag-input[_ngcontent-%COMP%]{display:block;flex-direction:row;flex-wrap:wrap;position:relative;cursor:text;border-bottom:2px solid #444}.dark.ng2-tag-input[_ngcontent-%COMP%]:focus{outline:0}.dark.ng2-tag-input.ng2-tag-input--dropping[_ngcontent-%COMP%]{opacity:.7}.dark.ng2-tag-input.ng2-tag-input--loading[_ngcontent-%COMP%]{border:none}.dark.ng2-tag-input.ng2-tag-input--disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.dark.ng2-tag-input[_ngcontent-%COMP%]   .ng2-tags-container[_ngcontent-%COMP%]{flex-wrap:wrap;display:flex}.bootstrap.ng2-tag-input[_ngcontent-%COMP%]{display:block;flex-direction:row;flex-wrap:wrap;position:relative;cursor:text;border-bottom:2px solid #efefef}.bootstrap.ng2-tag-input[_ngcontent-%COMP%]:focus{outline:0}.bootstrap.ng2-tag-input.ng2-tag-input--dropping[_ngcontent-%COMP%]{opacity:.7}.bootstrap.ng2-tag-input.ng2-tag-input--focused[_ngcontent-%COMP%]{border-bottom:2px solid #0275d8}.bootstrap.ng2-tag-input.ng2-tag-input--invalid[_ngcontent-%COMP%]{border-bottom:2px solid #d9534f}.bootstrap.ng2-tag-input.ng2-tag-input--loading[_ngcontent-%COMP%]{border:none}.bootstrap.ng2-tag-input.ng2-tag-input--disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.bootstrap.ng2-tag-input[_ngcontent-%COMP%]   .ng2-tags-container[_ngcontent-%COMP%]{flex-wrap:wrap;display:flex}.bootstrap3-info.ng2-tag-input[_ngcontent-%COMP%]{display:block;flex-direction:row;flex-wrap:wrap;position:relative;padding:4px;cursor:text;box-shadow:inset 0 1px 1px #00000013;border-radius:4px}.bootstrap3-info.ng2-tag-input[_ngcontent-%COMP%]:focus{outline:0}.bootstrap3-info.ng2-tag-input.ng2-tag-input--dropping[_ngcontent-%COMP%]{opacity:.7}.bootstrap3-info.ng2-tag-input.ng2-tag-input--invalid[_ngcontent-%COMP%]{border-bottom:1px solid #d9534f}.bootstrap3-info.ng2-tag-input.ng2-tag-input--loading[_ngcontent-%COMP%]{border:none}.bootstrap3-info.ng2-tag-input.ng2-tag-input--disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.bootstrap3-info.ng2-tag-input[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{margin:.1em 0}.bootstrap3-info.ng2-tag-input[_ngcontent-%COMP%]   .ng2-tags-container[_ngcontent-%COMP%]{flex-wrap:wrap;display:flex}.error-message[_ngcontent-%COMP%]{font-size:.8em;color:#f44336;margin:.5em 0 0}.bootstrap[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#d9534f}.progress-bar[_ngcontent-%COMP%], .progress-bar[_ngcontent-%COMP%]:before{height:2px;width:100%;margin:0}.progress-bar[_ngcontent-%COMP%]{background-color:#2196f3;display:flex;position:absolute;bottom:0}.progress-bar[_ngcontent-%COMP%]:before{background-color:#82c4f8;content:"";-webkit-animation:_ngcontent-%COMP%_running-progress 2s cubic-bezier(.4,0,.2,1) infinite;animation:_ngcontent-%COMP%_running-progress 2s cubic-bezier(.4,0,.2,1) infinite}@-webkit-keyframes _ngcontent-%COMP%_running-progress{0%{margin-left:0;margin-right:100%}50%{margin-left:25%;margin-right:0}to{margin-left:100%;margin-right:0}}@keyframes _ngcontent-%COMP%_running-progress{0%{margin-left:0;margin-right:100%}50%{margin-left:25%;margin-right:0}to{margin-left:100%;margin-right:0}}tag[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;font-family:Roboto,Helvetica Neue,sans-serif;font-weight:400;font-size:1em;letter-spacing:.05rem;color:#444;border-radius:16px;transition:all .3s;margin:.1rem .3rem .1rem 0;padding:.08rem .45rem;height:32px;line-height:34px;background:#efefef;-webkit-user-select:none;-moz-user-select:none;user-select:none;overflow:hidden;outline:0;cursor:pointer;position:relative}tag[_ngcontent-%COMP%]:not(.readonly):not(.tag--editing):focus{background:#2196F3;color:#fff;box-shadow:0 2px 3px 1px #d4d1d1}tag[_ngcontent-%COMP%]:not(.readonly):not(.tag--editing):active{background:#0d8aee;color:#fff;box-shadow:0 2px 3px 1px #d4d1d1}tag[_ngcontent-%COMP%]:not(:focus):not(.tag--editing):not(:active):not(.readonly):hover{background:#e2e2e2;color:#000;color:initial;box-shadow:0 2px 3px 1px #d4d1d1}tag.readonly[_ngcontent-%COMP%]{cursor:default}tag.readonly[_ngcontent-%COMP%]:focus, tag[_ngcontent-%COMP%]:focus{outline:0}tag.tag--editing[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #ccc;cursor:text}.minimal[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;border-radius:0;background:#f9f9f9;-webkit-user-select:none;-moz-user-select:none;user-select:none;overflow:hidden;outline:0;cursor:pointer;position:relative}.minimal[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]:not(.readonly):not(.tag--editing):focus{background:#d0d0d0;color:#000;color:initial}.minimal[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]:not(.readonly):not(.tag--editing):active{background:#d0d0d0;color:#000;color:initial}.minimal[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]:not(:focus):not(.tag--editing):not(:active):not(.readonly):hover{background:#ececec}.minimal[_ngcontent-%COMP%]   tag.readonly[_ngcontent-%COMP%]{cursor:default}.minimal[_ngcontent-%COMP%]   tag.readonly[_ngcontent-%COMP%]:focus, .minimal[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]:focus{outline:0}.minimal[_ngcontent-%COMP%]   tag.tag--editing[_ngcontent-%COMP%]{cursor:text}.dark[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;color:#f9f9f9;border-radius:3px;background:#444;-webkit-user-select:none;-moz-user-select:none;user-select:none;overflow:hidden;outline:0;cursor:pointer;position:relative}.dark[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]:not(.readonly):not(.tag--editing):focus{background:#efefef;color:#444}.dark[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]:not(:focus):not(.tag--editing):not(:active):not(.readonly):hover{background:#2b2b2b;color:#f9f9f9}.dark[_ngcontent-%COMP%]   tag.readonly[_ngcontent-%COMP%]{cursor:default}.dark[_ngcontent-%COMP%]   tag.readonly[_ngcontent-%COMP%]:focus, .dark[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]:focus{outline:0}.dark[_ngcontent-%COMP%]   tag.tag--editing[_ngcontent-%COMP%]{cursor:text}.bootstrap[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;color:#f9f9f9;border-radius:.25rem;background:#0275d8;-webkit-user-select:none;-moz-user-select:none;user-select:none;overflow:hidden;outline:0;cursor:pointer;position:relative}.bootstrap[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]:not(.readonly):not(.tag--editing):focus{background:#025aa5}.bootstrap[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]:not(.readonly):not(.tag--editing):active{background:#025aa5}.bootstrap[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]:not(:focus):not(.tag--editing):not(:active):not(.readonly):hover{background:#0267bf;color:#f9f9f9}.bootstrap[_ngcontent-%COMP%]   tag.readonly[_ngcontent-%COMP%]{cursor:default}.bootstrap[_ngcontent-%COMP%]   tag.readonly[_ngcontent-%COMP%]:focus, .bootstrap[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]:focus{outline:0}.bootstrap[_ngcontent-%COMP%]   tag.tag--editing[_ngcontent-%COMP%]{cursor:text}.bootstrap3-info[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;font-family:inherit;font-weight:400;font-size:95%;color:#fff;border-radius:.25em;background:#5bc0de;-webkit-user-select:none;-moz-user-select:none;user-select:none;overflow:hidden;outline:0;cursor:pointer;position:relative;padding:.25em .6em;text-align:center;white-space:nowrap}.bootstrap3-info[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]:not(.readonly):not(.tag--editing):focus{background:#28a1c5}.bootstrap3-info[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]:not(.readonly):not(.tag--editing):active{background:#28a1c5}.bootstrap3-info[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]:not(:focus):not(.tag--editing):not(:active):not(.readonly):hover{background:#46b8da;color:#fff}.bootstrap3-info[_ngcontent-%COMP%]   tag.readonly[_ngcontent-%COMP%]{cursor:default}.bootstrap3-info[_ngcontent-%COMP%]   tag.readonly[_ngcontent-%COMP%]:focus, .bootstrap3-info[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]:focus{outline:0}.bootstrap3-info[_ngcontent-%COMP%]   tag.tag--editing[_ngcontent-%COMP%]{cursor:text}[_nghost-%COMP%]{display:block}'],data:{animation:Xc}}),a})(),Kc=new ko,xr=(()=>{class a{static withDefaults(t){Kc.setOptions(t)}}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=It({type:a}),a.\u0275inj=Et({providers:[_r,{provide:va,useValue:!1}],imports:[[ut,Yi,Xi,ur]]}),a})();var Qc=a=>({"background-color":a});function Jc(a,e){a&1&&(o(0,"div",33),l(1),F(2,"translate"),r()),a&2&&(f(),O(" ",W(2,1,"RequieredField")," "))}function ed(a,e){if(a&1){let t=D();o(0,"div",34),w("click",function(){let n=_(t).$implicit,s=C();return x(s.selectColor(n.catId))}),r()}if(a&2){let t=e.$implicit,i=C();B("selected",i.selectedColorId===t.catId),S("ngStyle",te(3,Qc,t.colorDegree))}}function td(a,e){if(a&1&&(o(0,"div",35)(1,"h5"),l(2),F(3,"translate"),r(),o(4,"div",36),u(5,"img",37),F(6,"translate"),r()()),a&2){let t=C();f(2),O("",W(3,3,"Folders.ImagePreview"),":"),f(3),Z("alt",W(6,5,"Folders.UploadedImage")),S("src",t.imagePreview,V)}}var _i=class a{constructor(e,t,i,n,s){this.activeModal=e;this.translate=t;this.toastr=i;this.projectService=n;this.categoriesService=s}isSuccess=new $;projectId;parentId;folderForm;hasError=!1;isLoading=!1;isSubmittedItem=!1;selectedFile=null;imagePreview=null;selectedColorId=null;colors=[];tagsInput="";tags=[];isFetchingColors=!1;isFetchingTags=!1;subscriptions=[];ngOnInit(){this.fetchColors(),this.initializeForm()}initializeForm(){this.folderForm=new ri({title:new le("",Ii.required),brief:new le(""),imageFile:new le(null),parentId:new le(this.parentId),projectId:new le(this.projectId),typeId:new le(11),type:new le(0),isActive:new le(!0),tags:new le([])})}fetchColors(){if(this.isFetchingColors)return;this.isFetchingColors=!0;let e=this.categoriesService.fetchColors().subscribe(t=>{t&&(console.log("Project folders:",t),this.colors=t.data,console.log(this.colors)),this.isFetchingColors=!1});this.subscriptions.push(e)}selectColor(e){this.selectedColorId=e}requestAutocompleteItems=e=>!e||e.length<2?lt([]):this.projectService.fetchTags(e,1,5);submitFolder(){if(this.isSubmittedItem=!0,this.folderForm.invalid){this.folderForm.markAllAsTouched(),this.toastr.error(this.translate.instant("Folders.EnterValidData"));return}let e=new FormData;Object.keys(this.folderForm.controls).forEach(i=>{i=="tags"?this.folderForm.get(i)?.value.forEach(n=>{e.append(i,n?.display)}):e.append(i,this.folderForm.get(i)?.value)}),this.selectedFile&&e.append("imageFile",this.selectedFile,this.selectedFile.name),this.selectedColorId&&e.append("colorId",this.selectedColorId.toString());let t=this.projectService.createFolder(e).subscribe(i=>{i?(this.toastr.success(this.translate.instant("Folders.FolderAddedSuccessfully")),this.isSuccess.emit(!0),this.closeModal()):this.showError(this.translate.instant("Folders.FolderCreationFailed"))},i=>{console.error("Error creating folder:",i),this.showError(this.translate.instant("Folders.FolderCreationFailed"))});this.subscriptions.push(t)}showError(e){this.toastr.error(e)}closeModal(){this.activeModal.close()}onDragOver(e){e.preventDefault()}onFileChange(e){let t=e.target.files[0];if(t){this.selectedFile=t;let i=new FileReader;i.onload=n=>this.imagePreview=n.target?.result,i.readAsDataURL(t)}}onDrop(e){e.preventDefault();let t=e.dataTransfer?.files;if(t&&t.length){this.selectedFile=t[0];let i=new FileReader;i.onload=n=>this.imagePreview=n.target?.result,i.readAsDataURL(this.selectedFile)}}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}static \u0275fac=function(t){return new(t||a)(I(di),I(ge),I(me),I(pe),I(Vt))};static \u0275cmp=R({type:a,selectors:[["app-folder-create"]],outputs:{isSuccess:"isSuccess"},standalone:!1,decls:67,vars:47,consts:[["imageFile",""],[1,"modal-header"],[1,"d-flex","mod-head","justify-content-between"],["id","addFolderModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close","ms-2",3,"click"],[3,"ngSubmit","formGroup"],["id","parentId","formControlName","parentId","type","hidden"],["id","projectId","formControlName","projectId","type","hidden"],["id","typeId","formControlName","typeId","type","hidden"],["id","type","formControlName","type","type","hidden"],["id","isActive","formControlName","isActive","type","hidden"],[1,"modal-body"],[1,"row"],[1,"col-lg-12"],[1,"form-group"],["for","title"],["id","title","type","text","formControlName","title",1,"form-control",3,"placeholder"],["class","alert alert-danger",4,"ngIf"],["for","brief"],["id","brief","formControlName","brief","rows","3",1,"form-control",3,"placeholder"],[1,"color-options"],[1,"color-swatch","not-determined",3,"click"],["class","color-swatch",3,"ngStyle","selected","click",4,"ngFor","ngForOf"],["for","tags"],["id","tags","formControlName","tags",3,"editable","placeholder","onTextChangeDebounce","secondaryPlaceholder","onlyFromAutocomplete"],[3,"autocompleteObservable","showDropdownIfEmpty","minimumTextLength","zIndex"],["for","imageFile"],[1,"fileset",3,"click","dragover","drop"],["src","assets/images/Upload.svg",3,"alt"],["id","imageFile","accept","image/*","formControlName","imageFile","type","file",2,"display","none",3,"change"],["class","image-preview d-flex align-items-center mt-2",4,"ngIf"],[1,"d-flex","justify-content-end"],["type","submit",1,"btn","btn-primary"],[1,"alert","alert-danger"],[1,"color-swatch",3,"click","ngStyle"],[1,"image-preview","d-flex","align-items-center","mt-2"],[1,"proj-img-holder","ms-3"],[3,"src","alt"]],template:function(t,i){if(t&1){let n=D();o(0,"div",1)(1,"div",2)(2,"h5",3),l(3),F(4,"translate"),r(),o(5,"div")(6,"button",4),w("click",function(){return _(n),x(i.closeModal())}),r()()()(),o(7,"form",5),w("ngSubmit",function(){return _(n),x(i.submitFolder())}),u(8,"input",6)(9,"input",7)(10,"input",8)(11,"input",9)(12,"input",10),o(13,"div",11)(14,"div",12)(15,"div",13)(16,"div",14)(17,"label",15),l(18),F(19,"translate"),o(20,"em"),l(21,"*"),r()(),u(22,"input",16),F(23,"translate"),r(),M(24,Jc,3,3,"div",17),r(),o(25,"div",13)(26,"div",14)(27,"label",18),l(28),F(29,"translate"),r(),u(30,"textarea",19),F(31,"translate"),r()(),o(32,"div",13)(33,"div",14)(34,"label"),l(35,"Select Color"),r(),o(36,"div",20)(37,"div",21),w("click",function(){return _(n),x(i.selectColor(null))}),r(),M(38,ed,1,5,"div",22),r()()(),o(39,"div",13)(40,"div",14)(41,"label",23),l(42,"Tags"),r(),o(43,"tag-input",24),u(44,"tag-input-dropdown",25),r()()(),o(45,"div",13)(46,"div",14)(47,"label",26),l(48),F(49,"translate"),r(),o(50,"div",27),w("click",function(){_(n);let c=H(60);return x(c.click())})("dragover",function(c){return _(n),x(i.onDragOver(c))})("drop",function(c){return _(n),x(i.onDrop(c))}),u(51,"img",28),F(52,"translate"),o(53,"h4"),l(54),F(55,"translate"),r(),o(56,"p"),l(57),F(58,"translate"),r(),o(59,"input",29,0),w("change",function(c){return _(n),x(i.onFileChange(c))}),r()()()(),o(61,"div",13),M(62,td,7,7,"div",30),r()(),o(63,"div",31)(64,"button",32),l(65),F(66,"translate"),r()()()()}if(t&2){let n;f(3),N(W(4,27,"Folders.CreateFolder")),f(4),S("formGroup",i.folderForm),f(11),O("",W(19,29,"Folders.FolderName")," "),f(4),Tt("placeholder","",W(23,31,"Folders.WriteFolderNameHere"),"..."),f(2),S("ngIf",((n=i.folderForm.get("title"))==null?null:n.invalid)&&(i.isSubmittedItem||((n=i.folderForm.get("title"))==null?null:n.touched)||((n=i.folderForm.get("title"))==null?null:n.dirty))),f(4),N(W(29,33,"Folders.Description")),f(2),Tt("placeholder","",W(31,35,"Folders.WriteDescriptionHere"),"..."),f(7),B("selected",!i.selectedColorId),f(),S("ngForOf",i.colors),f(5),S("editable",!0)("placeholder","Enter a new tag")("onTextChangeDebounce",500)("secondaryPlaceholder","Search in tags")("onlyFromAutocomplete",!1),f(),S("autocompleteObservable",i.requestAutocompleteItems)("showDropdownIfEmpty",!0)("minimumTextLength",2)("zIndex",1e4),f(4),O(" ",W(49,37,"Folders.AddPropjectPhoto"),""),f(3),Z("alt",W(52,39,"Upload")),f(3),N(W(55,41,"Folders.DropImageHereOrBrowse")),f(3),N(W(58,43,"Folders.PhotoInfo")),f(5),S("ngIf",i.imagePreview),f(3),O(" ",W(66,45,"Save")," ")}},dependencies:[ee,X,Yo,Le,Ge,Qe,Ne,li,ci,Ln,Do,ai],styles:[".color-options[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px}.color-swatch[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:3px;cursor:pointer;position:relative;transition:transform .2s,box-shadow .2s}.color-swatch[_ngcontent-%COMP%]:hover{transform:scale(1.1);box-shadow:0 4px 8px #0003}.color-swatch.selected[_ngcontent-%COMP%]{border:2px solid #000;box-shadow:0 0 10px #00000080}.color-swatch.not-determined[_ngcontent-%COMP%]{background-image:url(/assets/images/empty.png);background-repeat:repeat;background-size:auto}"]})};function id(a,e){if(a&1&&(o(0,"div",74),u(1,"img",14),r()),a&2){let t=C();f(),S("src",t.accessUsers[0]==null?null:t.accessUsers[0].image,V)}}function nd(a,e){if(a&1&&(Bt(0),u(1,"img",14),Ht()),a&2){let t=e.$implicit;f(),S("src",t.image,V)}}function od(a,e){if(a&1&&(o(0,"div",25)(1,"label",75),l(2),r()()),a&2){let t=e.$implicit;f(2),N(t)}}function ad(a,e){if(a&1&&(o(0,"span"),l(1),F(2,"number"),r()),a&2){let t,i=C(2);f(),O("",K(2,1,((t=i.projectDetails==null?null:i.projectDetails.filesSize)!==null&&t!==void 0?t:0)/1.024,"1.2-2")," MB")}}function rd(a,e){if(a&1&&(o(0,"span"),l(1),F(2,"number"),r()),a&2){let t,i=C(2);f(),O("",K(2,1,((t=i.projectDetails==null?null:i.projectDetails.filesSize)!==null&&t!==void 0?t:0)*1024,"1.2-2")," KB")}}function sd(a,e){if(a&1&&(Bt(0),o(1,"h4"),l(2,"Project Type"),r(),o(3,"p"),l(4),r(),o(5,"h4"),l(6,"Size"),r(),o(7,"p"),M(8,ad,3,4,"span")(9,rd,3,4,"span"),r(),o(10,"h4"),l(11,"Owner"),r(),o(12,"p"),l(13),r(),o(14,"h4"),l(15,"Created"),r(),o(16,"p"),l(17),F(18,"date"),r(),Ht()),a&2){let t,i=C();f(4),N(i.getProjectTypeName(i.projectDetails.type)),f(4),Y(((t=i.projectDetails==null?null:i.projectDetails.filesSize)!==null&&t!==void 0?t:0)>1?8:9),f(5),N(i.ownerName),f(4),N(K(18,4,i.projectDetails.postDate,"dd-MM-YYYY"))}}var Vn=class a{constructor(e){this.authService=e}fileName="";fileImage="";owner="";tags=[];description="";projectDetails;accessUsers=[];timeline=[];shownInfo=!1;data;closeInfoEvent=new $;addTag=new $;share=new $;ownerName="";ngOnChanges(e){e.projectDetails&&this.projectDetails?.createdByUserId&&this.fetchOwnerName()}fetchOwnerName(){this.authService.getUserById(this.projectDetails.createdByUserId).subscribe(e=>{this.ownerName=e.name},e=>{console.error("Error fetching user details:",e),this.ownerName="Admin"})}closeInfo(){this.closeInfoEvent.emit()}getProjectTypeName(e){switch(e){case 0:return"Event";case 1:return"Conference";default:return""}}static \u0275fac=function(t){return new(t||a)(I(Wi))};static \u0275cmp=R({type:a,selectors:[["app-file-info"]],inputs:{fileName:"fileName",fileImage:"fileImage",owner:"owner",tags:"tags",description:"description",projectDetails:"projectDetails",accessUsers:"accessUsers",timeline:"timeline",shownInfo:"shownInfo",data:"data"},outputs:{closeInfoEvent:"closeInfoEvent",addTag:"addTag",share:"share"},standalone:!1,features:[Ri],decls:250,vars:15,consts:[["sidebarRef",""],[1,"file-info"],[1,"close-info",3,"click"],["src","./assets/icons/close.svg","alt",""],["id","myTab","role","tablist",1,"nav","nav-tabs","mb-3"],["role","presentation",1,"nav-item"],["id","Details-tab","data-bs-toggle","tab","data-bs-target","#Details-tab-pane","type","button","role","tab","aria-controls","Details-tab-pane","aria-selected","true",1,"nav-link","active"],["src","./assets/icons/timeline.svg","alt","",1,"me-1"],["id","Timeline-tab","data-bs-toggle","tab","data-bs-target","#Timeline-tab-pane","type","button","role","tab","aria-controls","Timeline-tab-pane","aria-selected","false",1,"nav-link"],["src","./assets/icons/clock.svg","alt","",1,"me-1"],["id","myTabContent",1,"tab-content"],["id","Details-tab-pane","role","tabpanel","aria-labelledby","Details-tab","tabindex","0",1,"tab-pane","fade","show","active"],["src","assets/icons/file-photo.svg","alt","",1,"me-2"],[1,"file-image"],["alt","",3,"src"],[1,"v-mar"],[1,"users"],["class","m-user",4,"ngIf"],[1,"other"],[4,"ngFor","ngForOf"],["href","#","data-bs-toggle","modal","data-bs-target","#exampleModal"],["src","./assets/images/plus.svg","alt",""],[1,"form-group"],[1,"tags"],["class","custom-check",4,"ngFor","ngForOf"],[1,"custom-check"],[1,"tag","active",3,"click"],[1,"fa","fa-plus","me-1"],[4,"ngIf"],["id","Timeline-tab-pane","role","tabpanel","aria-labelledby","Timeline-tab","tabindex","0",1,"tab-pane","fade"],[1,"activities"],["href","",1,"replied"],["src","./assets/icons/reply1.svg","alt","",1,"me-1"],[1,"file-timeline","mt-3"],[1,"ms-4"],[1,"active"],[1,"comment-header"],["src","./assets/images/pp.jpg","alt","User"],[1,"comment-name"],[1,"deta"],[1,"commented"],[1,"comment-text"],[1,"attachment"],["href",""],["src","./assets/icons/attachment.svg","alt","",1,"me-1"],[1,"time","d-flex","justify-content-end"],["href","#",1,"reply-button"],[1,"latest"],["src","./assets/images/1.jpg","alt","User"],["href","",1,"replied","dark"],["src","./assets/icons/reply.svg","alt","",1,"me-1"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered","modal-lg"],[1,"modal-content"],[1,"modal-header"],[1,"d-flex","mod-head","justify-content-between"],["id","exampleModalLabel",1,"modal-title"],[1,"fa","fa-link"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close","ms-2"],[1,"modal-body"],[1,"mt-3","title-1"],[1,"list-group","list-group-flush","list-of-user","mb-3"],[1,"list-group-item","d-flex","justify-content-between","align-items-center"],[1,"d-flex","prof"],["src","assets/images/profile/small/pic1.jpg","alt","",1,"me-2"],["name","","id","",1,"form-control-solid"],["value",""],["value","","selected",""],["src","assets/images/profile/small/pic9.jpg","alt","",1,"me-2"],["src","assets/images/profile/small/pic3.jpg","alt","",1,"me-2"],["src","assets/images/profile/small/pic4.jpg","alt","",1,"me-2"],["src","assets/images/profile/small/pic5.jpg","alt","",1,"me-2"],[1,"d-flex","justify-content-end"],["type","button","data-bs-dismiss","modal",1,"btn","btn-primary"],[1,"m-user"],[1,"tag"]],template:function(t,i){if(t&1){let n=D();o(0,"div",1,0)(2,"div",2),w("click",function(){return _(n),x(i.closeInfo())}),u(3,"img",3),r(),o(4,"ul",4)(5,"li",5)(6,"button",6),u(7,"img",7),l(8," Details "),r()(),o(9,"li",5)(10,"button",8),u(11,"img",9),l(12," Timeline "),r()()(),o(13,"div",10)(14,"div",11)(15,"h3"),u(16,"img",12),l(17),F(18,"slice"),F(19,"slice"),r(),o(20,"div",13),u(21,"img",14),r(),o(22,"div",15)(23,"h3"),l(24,"Who has access"),r(),o(25,"div",16),M(26,id,2,1,"div",17),o(27,"div",18),M(28,nd,2,1,"ng-container",19),o(29,"a",20),u(30,"img",21),r()()(),o(31,"p"),l(32),r()(),o(33,"div",15)(34,"h3"),l(35,"Tags"),r(),o(36,"div",22)(37,"div",23),M(38,od,3,1,"div",24),o(39,"div",25)(40,"label",26),w("click",function(){return _(n),x(i.addTag.emit())}),u(41,"i",27),l(42," Add Tag"),r()()()()(),u(43,"div",15),o(44,"div",15)(45,"h3"),l(46,"Project Details"),r(),o(47,"h4"),l(48,"Description"),r(),o(49,"p"),l(50),r(),M(51,sd,19,7,"ng-container",28),r()(),o(52,"div",29)(53,"div",30)(54,"h3"),l(55,"No longer reply from"),r(),o(56,"a",31),u(57,"img",32),l(58," Mohamed Khaled"),r(),o(59,"a",31),u(60,"img",32),l(61," Ahmed Mohamed"),r(),o(62,"div",33)(63,"h3"),l(64,"Today"),r(),o(65,"ul",34)(66,"li",35)(67,"div",36),u(68,"img",37),o(69,"div",38),l(70,"Samir Mohamed"),r()(),o(71,"div",39)(72,"div",40),l(73,"Commented"),r(),o(74,"div",41),l(75," Maybe increasing the padding or using a grid layout could help. "),r(),o(76,"div",42)(77,"a",43),u(78,"img",44),l(79,"Attachment .file.pdf"),r()(),o(80,"a",31),u(81,"img",32),l(82," Ahmed Mohamed"),r(),o(83,"div",45),l(84,"12:19 PM"),r(),o(85,"a",46),l(86,"Reply to Mohamed Khaled"),r()()(),o(87,"li",47)(88,"div",36),u(89,"img",48),o(90,"div",38),l(91,"Branch Manager"),r()(),o(92,"div",39)(93,"div",40),l(94,"Commented"),r(),o(95,"div",41),l(96," Could we adjust the spacing between the card components on the dashboard screen? Right now it feels a bit cramped, especially on smaller screens. "),r(),o(97,"a",49),u(98,"img",50),l(99," Ahmed Mohamed"),r(),o(100,"div",45),l(101,"12:19 PM"),r(),o(102,"a",46),l(103,"Reply to Mohamed Khaled"),r()()()(),o(104,"h3"),l(105,"12 Sep 2024"),r(),o(106,"ul",34)(107,"li")(108,"div",36),u(109,"img",37),o(110,"div",38),l(111,"Ahmed Mohamed"),r()(),o(112,"div",39)(113,"div",40),l(114,"File updated"),r(),o(115,"div",41),l(116," updates done check this link kindly. "),r(),o(117,"div",42)(118,"a",43),u(119,"img",44),l(120,"Attachment .file.pdf"),r()(),o(121,"a",31),u(122,"img",32),l(123,"Mohamed Khaled"),r()()(),o(124,"li",47)(125,"div",36),u(126,"img",48),o(127,"div",38),l(128,"Mohamed Khaled"),r()(),o(129,"div",39)(130,"div",40),l(131,"Commented"),r(),o(132,"div",41),l(133," Could we adjust the spacing between the card components on the dashboard screen? Right now it feels a bit cramped, especially on smaller screens. "),r(),o(134,"a",49),u(135,"img",50),l(136,"Ahmed Mohamed"),r(),o(137,"div",45),l(138,"12:19 PM"),r(),o(139,"a",46),l(140,"Reply to Mohamed Khaled"),r()()()(),o(141,"h3"),l(142,"20 May 2025"),r(),o(143,"ul",34)(144,"li")(145,"div",36),u(146,"img",37),o(147,"div",38),l(148,"Ahmed Mohamed"),r()(),o(149,"div",39)(150,"div",40),l(151,"File Created"),r(),o(152,"div",42)(153,"a",43),u(154,"img",44),l(155,"Attachment .file.pdf"),r()(),o(156,"a",31),u(157,"img",32),l(158,"Mohamed Khaled, Branch Manger"),r(),o(159,"div",45),l(160,"13:17 Pm"),r()()()()()()()(),o(161,"div",51)(162,"div",52)(163,"div",53)(164,"div",54)(165,"div",55)(166,"h5",56),l(167,'Share "WOTN drive.mp4"'),r(),o(168,"div")(169,"a",43),u(170,"i",57),l(171," copy link"),r(),u(172,"button",58),r()()(),o(173,"div",59)(174,"h3",60),l(175,"Who has access"),r(),o(176,"ul",61)(177,"a",62)(178,"div",63),u(179,"img",64),o(180,"div")(181,"h5"),l(182,"Ahmed El Hammad"),r(),o(183,"p"),l(184,"Ahmed@exapmle.com.sa"),r()()(),o(185,"div")(186,"select",65)(187,"option",66),l(188,"Editor"),r(),o(189,"option",67),l(190,"Viewer"),r()()()(),o(191,"a",62)(192,"div",63),u(193,"img",68),o(194,"div")(195,"h5"),l(196,"Kareem El Hussainy"),r(),o(197,"p"),l(198,"Ahmed@exapmle.com.sa"),r()()(),o(199,"div")(200,"select",65)(201,"option",66),l(202,"Editor"),r(),o(203,"option",66),l(204,"Viewer"),r()()()(),o(205,"a",62)(206,"div",63),u(207,"img",69),o(208,"div")(209,"h5"),l(210,"Saad El Daly"),r(),o(211,"p"),l(212,"Ahmed@exapmle.com.sa"),r()()(),o(213,"div")(214,"select",65)(215,"option",66),l(216,"Editor"),r(),o(217,"option",66),l(218,"Viewer"),r()()()(),o(219,"a",62)(220,"div",63),u(221,"img",70),o(222,"div")(223,"h5"),l(224,"Amr Hassas"),r(),o(225,"p"),l(226,"Ahmed@exapmle.com.sa"),r()()(),o(227,"div")(228,"select",65)(229,"option",66),l(230,"Editor"),r(),o(231,"option",67),l(232,"Viewer"),r()()()(),o(233,"a",62)(234,"div",63),u(235,"img",71),o(236,"div")(237,"h5"),l(238,"Mostafa El Hammad"),r(),o(239,"p"),l(240,"Ahmed@exapmle.com.sa"),r()()(),o(241,"div")(242,"select",65)(243,"option",66),l(244,"Editor"),r(),o(245,"option",66),l(246,"Viewer"),r()()()()(),o(247,"div",72)(248,"button",73),l(249,"Done"),r()()()()()()()}if(t&2){let n;f(17),N(((n=i.fileName)!==null&&n!==void 0?n:"").length>20?jt(18,8,i.fileName,0,16)+"..."+K(19,12,i.fileName,-4):i.fileName),f(4),S("src",i.fileImage,V),f(5),S("ngIf",i.accessUsers&&(i.accessUsers==null?null:i.accessUsers.length)),f(2),S("ngForOf",i.accessUsers==null?null:i.accessUsers.slice(1,4)),f(4),O("Owned by ",i.owner,"."),f(6),S("ngForOf",i.tags),f(12),N(i.description),f(),S("ngIf",i.projectDetails)}},dependencies:[ee,X,fe,he,Ot,Me,$i],encapsulation:2})};var cd=["sidebar"],dd=()=>["PDF","Word","Excel"],md=()=>["Name 1","Name 2","Name 3"],pd=()=>["Newest","Oldest","Recently Edited"],ud=()=>["/projects/project-map"],gd=a=>({id:a}),fd=()=>["/projects/folder-details"],hd=(a,e)=>({id:a,projectId:e}),vd=a=>({fav:a});function bd(a,e){if(a&1&&(o(0,"span"),l(1),F(2,"number"),r()),a&2){let t,i=C();f(),O("",K(2,1,((t=i.project==null?null:i.project.filesSize)!==null&&t!==void 0?t:0)/1.024,"1.2-2")," MB")}}function Sd(a,e){if(a&1&&(o(0,"span"),l(1),F(2,"number"),r()),a&2){let t,i=C();f(),O("",K(2,1,((t=i.project==null?null:i.project.filesSize)!==null&&t!==void 0?t:0)*1024,"1.2-2")," KB")}}function yd(a,e){if(a&1){let t=D();o(0,"div")(1,"button",44),u(2,"img",45),l(3,"Share "),r(),o(4,"button",46),w("click",function(){_(t);let n=C();return x(n.closeInfo())}),u(5,"img",47),l(6,"Information "),r()()}}function _d(a,e){if(a&1){let t=D();o(0,"a",11),w("click",function(){_(t),C();let n=H(28);return x(n.click())}),u(1,"img",12),o(2,"span",13),l(3,"Add Map"),r()()}}function xd(a,e){if(a&1&&(o(0,"a",48),u(1,"i",49),o(2,"span",13),l(3,"Open Map"),r()()),a&2){let t=C();S("routerLink",A(2,ud))("queryParams",te(3,gd,t.projectMap.folderId))}}function wd(a,e){a&1&&(o(0,"div"),l(1," File url is required "),r())}function Cd(a,e){if(a&1&&(o(0,"div",50),M(1,wd,2,0,"div",9),r()),a&2){C();let t=H(47);f(),S("ngIf",t==null||t.errors==null?null:t.errors.required)}}function Ed(a,e){if(a&1&&u(0,"img",60),a&2){let t=C().$implicit;S("src",t.imageUrl,V)}}function Pd(a,e){if(a&1&&(o(0,"span"),l(1),F(2,"number"),r()),a&2){let t,i=C().$implicit;f(),O("",K(2,1,((t=i.filesSize)!==null&&t!==void 0?t:0)/1.024,"1.2-2")," MB")}}function Id(a,e){if(a&1&&(o(0,"span"),l(1),F(2,"number"),r()),a&2){let t,i=C().$implicit;f(),O("",K(2,1,((t=i.filesSize)!==null&&t!==void 0?t:0)*1024,"1.2-2")," KB")}}function Md(a,e){if(a&1){let t=D();o(0,"div",51)(1,"div",52)(2,"a",53)(3,"div",54),M(4,Ed,1,1,"img",55),r()(),o(5,"div",56)(6,"div")(7,"span",57),l(8),F(9,"slice"),F(10,"slice"),r()(),o(11,"div")(12,"div",58),w("click",function(){let n=_(t).$implicit,s=C();return x(s.favoriteFolder(n==null?null:n.folderId))}),u(13,"i",59),r()()(),o(14,"div",8)(15,"span"),M(16,Pd,3,4,"span")(17,Id,3,4,"span"),l(18),r()()()()}if(a&2){let t,i,n,s=e.$implicit,c=C();f(2),S("routerLink",A(19,fd))("queryParams",ni(20,hd,s.folderId,c.projectId)),f(),ii("background",c.getColor(s.colorId)?"linear-gradient(0deg, rgba(58,81,100,1) 21%, "+c.getColor(s.colorId)+" 100%)":"#3A5164")("border-bottom",s.imageUrl?"7px solid "+c.getColor(s.colorId):"none"),f(),S("ngIf",s.imageUrl),f(3),S("title",s.title),f(),O(" ",((t=s.title)!==null&&t!==void 0?t:"").length>20?jt(9,12,s.title,0,16)+"..."+K(10,16,s.title,-4):s.title," "),f(4),S("ngClass",te(23,vd,s.isFavByUser)),f(4),Y(((i=s.filesSize)!==null&&i!==void 0?i:0)>1?16:17),f(2),O(" | ",(n=s.filesNum)!==null&&n!==void 0?n:0," items ")}}function Td(a,e){if(a&1){let t=D();o(0,"div",51)(1,"app-file-card",61),w("showInfo",function(n){_(t);let s=C();return x(s.showInfo(n))})("favorite",function(n){_(t);let s=C();return x(s.favorite(n))}),r()()}if(a&2){let t=e.$implicit,i=e.index;f(),S("card",t)("index",i)}}var Bn=class a{constructor(e,t,i,n,s,c,d,m,g,p,h,b){this.route=e;this.renderer=t;this.projectCoverService=i;this.fileUploadService=n;this.projectService=s;this.modalService=c;this.router=d;this.toaster=m;this.translate=g;this.el=p;this.uploadService=h;this.categoriesService=b}sidebar;active=1;uploads=[];projectFolders=[];projectMap=null;projectFiles=[];isUpload=!1;count=0;bootstrap;colors=[];tagsInput="";tags=[];isFetchingColors=!1;subscriptions=[];projectId;project;isFetching=!1;isFetchingProjects=!1;isFetchingFiles=!1;isFetchingMap=!1;extFile="";selectedFile;selectedProject;ngOnInit(){J.bind(this.el.nativeElement,"[data-fancybox]",{}),this.route.queryParams.subscribe(e=>{this.projectId=e.id,this.fetchProject(this.projectId),this.fetchProjectMap(this.projectId),this.fetchProjectFolders(this.projectId),this.fetchProjectFiles(this.projectId),this.fetchColors()})}fetchProject(e){if(!e||this.isFetching)return;this.isFetching=!0;let t=this.projectService.fetchProject(e).subscribe(i=>{i&&(this.project=i,this.project?.imageUrl&&setTimeout(()=>{this.projectCoverService.setSource(this.project?.imageUrl??""),this.projectCoverService.setShow(!0)})),this.isFetching=!1});this.subscriptions.push(t)}fetchProjectFolders(e){if(!e||this.isFetchingProjects)return;this.isFetchingProjects=!0;let t=this.projectService.fetchProjectFolders(e,null,1,1e4,null,null,0,!0).subscribe(i=>{i&&(console.log("Project folders:",i),this.projectFolders=i.data),this.isFetchingProjects=!1});this.subscriptions.push(t)}fetchProjectFiles(e){if(!e||this.isFetchingFiles)return;this.isFetchingFiles=!0;let t=this.projectService.fetchProjectFiles(e,null,1,1e4,null,null,!0).subscribe(i=>{i&&(this.projectFiles=i.data,console.log(this.projectFiles)),this.isFetchingFiles=!1});this.subscriptions.push(t)}fetchProjectMap(e,t=!1){if(!e||this.isFetchingMap)return;this.isFetchingMap=!0;let i=this.projectService.fetchProjectFolders(e,null,1,1e4,null,null,1,!1).subscribe(n=>{n&&(this.projectMap=n.data.filter(s=>s.parentId==null)[0],t&&this.projectMap&&this.router.navigate(["/projects/project-map"],{queryParams:{id:this.projectMap.folderId}})),this.isFetchingMap=!1});this.subscriptions.push(i)}fetchColors(){if(this.isFetchingColors)return;this.isFetchingColors=!0;let e=this.categoriesService.fetchColors().subscribe(t=>{t&&(this.colors=t.data),this.isFetchingColors=!1});this.subscriptions.push(e)}getColor(e){let t=this.colors.find(i=>i.catId===e);return t?t.colorDegree:null}onTypeSelect(e){console.log("Selected type:",e)}onPeopleSelect(e){console.log("Selected person:",e)}onModifiedSelect(e){console.log("Selected modified:",e)}shownInfo=!1;showInfo(e){this.selectedFile=e,this.projectService.fetchProject(this.selectedFile.projectId).subscribe(t=>{t&&(this.selectedProject=t,console.log(this.selectedProject))}),console.log("card",e),this.shownInfo==!1&&(this.shownInfo=!this.shownInfo)}closeInfo(){this.selectedFile=null,this.shownInfo=!this.shownInfo}onAddTag(){this.toaster.info("Add Tag clicked")}onShare(){this.toaster.info("Share clicked")}favorite(e){console.log(e),this.projectService.setFavourite(e).subscribe(t=>{this.toaster.success("",this.translate.instant("Favorite list updated successfully"));let i=this.projectFiles.find(n=>n.fileId==e);i&&(i.isFavByUser=!i?.isFavByUser)})}favoriteFolder(e){console.log(e),this.projectService.setFavouriteFolder(e).subscribe(t=>{this.toaster.success("",this.translate.instant("Favorite list updated successfully"));let i=this.projectFolders.find(n=>n.folderId==e);i&&(i.isFavByUser=!i?.isFavByUser)})}onMapFileSelected=e=>{if(e.length===0)return;let t=e[0];if(!t.type.startsWith("image/")){alert("Please upload a valid image file.");return}let i=new FileReader;i.onload=n=>{let s=n.target?.result;this.uploads=[],this.isUpload=!0;let c=new FormData;c.append("ImageFile",t,t.name);let d=this.getFileType(t);d!==null&&c.append("fileType",d.toString()),c.append("title",t.name),c.append("isActive","true"),c.append("TypeId","11"),c.append("projectId",this.projectId?.toString()??""),c.append("folderHtml",JSON.stringify({img:s})),c.append("parentId",""),c.append("type",1 .toString());let m={fileName:t.name,progress:0};this.uploads.push(m),this.projectService.createMap(c).pipe(Ct(p=>{p.type===Re.UploadProgress?p.total&&(m.progress=Math.round(100*p.loaded/p.total)):p.type===Re.Response&&(m.progress=100,console.log("Upload map complete for",m.fileName,p.body),this.fetchProjectMap(this.projectId,!0))})).subscribe({next:p=>{console.log("Upload completed!",p),setTimeout(()=>{this.isUpload=!1,this.closeProjectUploadModal()},3e3)},error:p=>{console.error("Error during file upload:",p),this.isUpload=!1}})},i.readAsDataURL(t)};externalUpload(){let e=new FormData,t=new File([this.extFile],this.extFile,{type:"text/plain"});e.append("Title",t.name);let i=this.getFileType(t);i!==null&&e.append("fileType",i.toString()),e.append("isActive","true"),e.append("TypeId","12"),e.append("projectId",this.projectId?.toString()??""),e.append("folderId",""),e.append("ExternalFileUrl",this.extFile),console.log("formData",e),this.projectService.createFile1(e).subscribe(n=>{n&&(console.log("Upload complete for",n),this.closeProjectUploadModal(),this.fetchProjectFiles(this.projectId))})}onFilesSelected=e=>{if(e.length===0)return;this.uploads=[],this.isUpload=!0,this.count=e.length;let t=[];for(let i=0;i<e.length;i++){let n=e[i],s=this.uploadService.startUpload(n.name),c=new FormData;c.append("fileFile",n,n.name);let d=this.getFileType(n);d!==null&&c.append("fileType",d.toString()),c.append("Title",n.name),c.append("isActive","true"),c.append("TypeId","12"),c.append("projectId",this.projectId?.toString()??""),c.append("folderId","");let m={fileName:n.name,progress:0};this.uploads.push(m);let g=this.projectService.createFile(c).pipe(Ct(p=>{p.type===Re.UploadProgress?p.total&&(m.progress=Math.round(100*p.loaded/p.total),this.uploadService.updateProgress(s,m.progress)):p.type===Re.Response&&(m.progress=100,this.uploadService.updateProgress(s,m.progress),console.log("Upload complete for",m.fileName,p.body),this.fetchProjectFiles(this.projectId))}));t.push(g)}wt(t).subscribe({next:i=>{console.log("All uploads completed!",i),setTimeout(()=>{this.isUpload=!1,this.closeProjectUploadModal()},3e3)},error:i=>{console.error("Error during file upload:",i),this.isUpload=!1}})};getFileType(e){switch(e.name.split(".").pop()?.toLowerCase()){case"jpg":case"jpeg":case"png":case"gif":return 0;case"mp4":case"avi":return 1;case"pdf":return 2;case"doc":case"docx":return 3;case"xls":case"xlsx":return 4;case"ppt":case"pptx":return 5;case"txt":return 6;case"zip":return 7;default:return null}}modalInstance;ngAfterViewInit(){let e=document.getElementById("projectUploadModal");if(e){let t=window.bootstrap;this.modalInstance=new t.Modal(e)}setTimeout(()=>this.checkScroll(),0)}closeProjectUploadModal(){this.modalInstance?.hide()}openAddFolderModal(){let e=this.modalService.open(_i,{backdrop:"static",keyboard:!1});e.componentInstance.projectId=this.projectId,e.componentInstance.parentId="";let t=e.componentInstance.isSuccess.subscribe(i=>{i&&this.fetchProjectFolders(this.projectId)});this.subscriptions.push(t)}ngOnDestroy(){J.unbind(this.el.nativeElement),J.close(),setTimeout(()=>{this.projectCoverService.setShow(!1)}),this.subscriptions.forEach(e=>e.unsubscribe())}isFixed=!1;longList=Array.from({length:100},(e,t)=>`Item ${t+1}`);onWindowScroll(){this.checkScroll()}checkScroll(){}static \u0275fac=function(t){return new(t||a)(I(Ke),I(re),I(et),I(Ee),I(pe),I(Je),I(Dt),I(me),I(ge),I(de),I(mi),I(Vt))};static \u0275cmp=R({type:a,selectors:[["app-project-details"]],viewQuery:function(t,i){if(t&1&&ae(cd,5),t&2){let n;G(n=Q())&&(i.sidebar=n.first)}},hostBindings:function(t,i){t&1&&w("scroll",function(){return i.onWindowScroll()},!1,dt)},standalone:!1,decls:78,vars:37,consts:[["mapFile",""],["file",""],["extFileForm","ngForm"],["extFile1","ngModel"],["sidebar",""],[1,"row","home-layout"],[1,"col"],[1,"d-flex","justify-content-between","heady"],[1,"recent-file-footer","pt-2","d-flex","flex-row","align-items-center"],[4,"ngIf"],[1,"upper","d-flex","flex-row"],[1,"upload-btn",3,"click"],["src","assets/icons/plus.svg","alt",""],[1,"pt-3"],["data-bs-toggle","modal","data-bs-target","#projectUploadModal",1,"upload-btn"],["class","upload-btn",3,"click",4,"ngIf"],["class","upload-btn",3,"routerLink","queryParams",4,"ngIf"],["type","file","accept","image/*",1,"form-control",2,"display","none",3,"change"],["type","file","placeholder","Choose file","multiple","",1,"form-control",2,"display","none",3,"change"],["id","projectUploadModal","tabindex","-1","aria-labelledby","projectUploadModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered","modal-lg"],[1,"modal-content"],[1,"modal-header"],[1,"d-flex","mod-head","justify-content-between"],["id","projectUploadModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close","ms-2"],[1,"modal-body"],[1,"form",3,"ngSubmit"],[1,"form-group"],["for",""],["type","text","placeholder","Files url","id","extFile","name","extFile","required","",1,"form-control",3,"ngModelChange","ngModel"],["class","alert alert-danger",4,"ngIf"],[1,"d-flex","justify-content-end"],["type","submit",1,"btn","btn-primary"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger","ms-3"],[1,"sorting"],[1,"pt-3","d-flex","flex-row","gap-3","sorting-row"],[3,"optionSelected","label","icon","options"],[1,"recent-file","pt-5"],[1,"d-flex","flex-row","align-items-center"],["src","assets/icons/middle-arrow-down.svg","alt",""],[1,"row","pt-3","recent-file-row"],["class","col-xxl-2 col-xl-3 col-lg-4 col-sm-6",4,"ngFor","ngForOf"],[3,"closeInfoEvent","addTag","share","fileName","fileImage","owner","tags","description","projectDetails","accessUsers","timeline","data"],["data-bs-toggle","modal","data-bs-target","#exampleModal",1,"btn","btn-solid","me-3"],["src","./assets/icons/menu/user.svg","alt","",1,"me-2"],[1,"btn","btn-primary",3,"click"],["src","./assets/icons/info.svg","alt","",1,"me-2","filter"],[1,"upload-btn",3,"routerLink","queryParams"],[1,"las","la-map","la-2x"],[1,"alert","alert-danger"],[1,"col-xxl-2","col-xl-3","col-lg-4","col-sm-6"],[1,"recent-file-card","projects-block"],[3,"routerLink","queryParams"],[1,"proj-img-holder"],[3,"src",4,"ngIf"],[1,"recent-file-type","pt-2","d-flex","justify-content-between","flex-row","align-items-center"],[3,"title"],[1,"star",3,"click","ngClass"],[1,"fa","fa-star"],[3,"src"],[3,"showInfo","favorite","card","index"]],template:function(t,i){if(t&1){let n=D();o(0,"div",5)(1,"div",6)(2,"div",7)(3,"div")(4,"h3"),l(5),r(),o(6,"div",8)(7,"span"),M(8,bd,3,4,"span")(9,Sd,3,4,"span"),l(10),r()()(),M(11,yd,7,0,"div",9),r(),o(12,"div",10)(13,"button",11),w("click",function(){return _(n),x(i.openAddFolderModal())}),u(14,"img",12),o(15,"span",13),l(16,"Create Folder"),r()(),o(17,"button",14),u(18,"img",12),o(19,"span",13),l(20,"Import Files via URL"),r()(),o(21,"button",11),w("click",function(){_(n);let c=H(30);return x(c.click())}),u(22,"img",12),o(23,"span",13),l(24,"Upload File"),r()(),M(25,_d,4,0,"a",15)(26,xd,4,5,"a",16),o(27,"input",17,0),w("change",function(){_(n);let c=H(28);return x(i.onMapFileSelected(c.files))}),r(),o(29,"input",18,1),w("change",function(){_(n);let c=H(30);return x(i.onFilesSelected(c.files))}),r()(),o(31,"div",19)(32,"div",20)(33,"div",21)(34,"div",22)(35,"div",23)(36,"h5",24),l(37,"Upload files"),r(),o(38,"div"),u(39,"button",25),r()()(),o(40,"div",26)(41,"form",27,2),w("ngSubmit",function(){_(n);let c=H(42);return x(c.form.valid&&i.externalUpload())}),o(43,"div",28)(44,"label",29),l(45,"Files url"),r(),o(46,"input",30,3),Bi("ngModelChange",function(c){return _(n),Vi(i.extFile,c)||(i.extFile=c),x(c)}),r(),M(48,Cd,2,1,"div",31),r(),u(49,"hr"),o(50,"div",32)(51,"button",33),l(52,"Upload"),r(),o(53,"button",34),l(54,"Close"),r()()()()()()(),o(55,"div",35)(56,"strong"),l(57,"Sorting"),r(),o(58,"div",36)(59,"app-sort-files",37),w("optionSelected",function(c){return _(n),x(i.onTypeSelect(c))}),r(),o(60,"app-sort-files",37),w("optionSelected",function(c){return _(n),x(i.onPeopleSelect(c))}),r(),o(61,"app-sort-files",37),w("optionSelected",function(c){return _(n),x(i.onModifiedSelect(c))}),r()()(),o(62,"div",38)(63,"div",39),u(64,"img",40),o(65,"strong"),l(66,"Folders"),r()(),o(67,"div",41),M(68,Md,19,25,"div",42),r(),o(69,"div",39),u(70,"img",40),o(71,"strong"),l(72,"Files"),r()(),o(73,"div",41),M(74,Td,2,2,"div",42),r()()(),o(75,"div",6,4)(77,"app-file-info",43),w("closeInfoEvent",function(){return _(n),x(i.closeInfo())})("addTag",function(){return _(n),x(i.onAddTag())})("share",function(){return _(n),x(i.onShare())}),r()()()}if(t&2){let n,s=H(42),c=H(47);B("expand",i.shownInfo),f(5),N(i.project==null?null:i.project.title),f(3),Y(((n=i.project==null?null:i.project.filesSize)!==null&&n!==void 0?n:0)>1?8:9),f(2),O(" | ",i.project==null?null:i.project.filesNum," items "),f(),S("ngIf",i.shownInfo),f(14),S("ngIf",!i.isFetchingMap&&!i.projectMap),f(),S("ngIf",!i.isFetchingMap&&i.projectMap),f(20),Li("ngModel",i.extFile),f(2),S("ngIf",c.invalid&&(c.dirty||c.touched||s.submitted)),f(11),S("label","Type")("icon","assets/icons/file-text.svg")("options",A(34,dd)),f(),S("label","People")("icon","assets/icons/profile-middle.svg")("options",A(35,md)),f(),S("label","Modified")("icon","assets/icons/modified-middle.svg")("options",A(36,pd)),f(7),S("ngForOf",i.projectFolders),f(6),S("ngForOf",i.projectFiles),f(),B("active",i.shownInfo)("fixed",i.isFixed),f(2),S("fileName",i.selectedFile==null?null:i.selectedFile.title)("fileImage",i.selectedFile!=null&&i.selectedFile.externalFileUrl?i.selectedFile==null?null:i.selectedFile.externalFileUrl:i.selectedFile==null?null:i.selectedFile.fileUrl)("owner",i.selectedFile==null?null:i.selectedFile.createdByUserId)("tags",i.selectedFile==null?null:i.selectedFile.tags)("description",i.selectedProject==null?null:i.selectedProject.brief)("projectDetails",i.selectedProject)("accessUsers",i.selectedFile==null?null:i.selectedFile.accessUsers)("timeline",i.selectedFile==null?null:i.selectedFile.timeline)("data",i.selectedFile)}},dependencies:[pt,ee,X,Se,Pe,Fe,Vn,Le,Ge,Qe,Ne,Zi,qi,si,Ot,Me],styles:[".file-info.fixed[_ngcontent-%COMP%]{position:relative;top:20px}"]})};var Hn=class a{constructor(e){this.activeModal=e}title="";message="";static \u0275fac=function(t){return new(t||a)(I(di))};static \u0275cmp=R({type:a,selectors:[["app-confirmation-dialog"]],inputs:{title:"title",message:"message"},standalone:!1,decls:11,vars:2,consts:[[1,"modal-header"],[1,"modal-title"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(t,i){t&1&&(o(0,"div",0)(1,"h4",1),l(2),r()(),o(3,"div",2)(4,"p"),l(5),r()(),o(6,"div",3)(7,"button",4),w("click",function(){return i.activeModal.dismiss()}),l(8,"Cancel"),r(),o(9,"button",5),w("click",function(){return i.activeModal.close(!0)}),l(10,"Confirm"),r()()),t&2&&(f(2),N(i.title),f(3),N(i.message))},encapsulation:2})};var Fd=["load"],jd=["saveToLocalStorage"],Od=["saveDetails"],kd=["mapFile"],Dd=["sectionAside"],Ad=["sectionContent"];function zd(a,e){if(a&1){let t=D();o(0,"div",116)(1,"ul",117)(2,"li")(3,"button",118),w("click",function(){_(t);let n=C();return x(n.saveMap())}),l(4,"save"),r()(),o(5,"li")(6,"button",119),w("click",function(){_(t);let n=C();return x(n.saveMap(!0))}),l(7,"Generate"),r()(),o(8,"li",120,3)(10,"a",22),l(11,"save"),r()()()()}if(a&2){let t=C();f(6),S("disabled",!t.isThereMapChanges)}}function Rd(a,e){if(a&1&&u(0,"img",127),a&2){let t=C().$implicit;S("src",t.imageUrl,V)}}function Nd(a,e){if(a&1&&(o(0,"span"),l(1),F(2,"number"),r()),a&2){let t,i=C().$implicit;f(),O("",K(2,1,((t=i.filesSize)!==null&&t!==void 0?t:0)/1.024,"1.2-2")," MB")}}function Ld(a,e){if(a&1&&(o(0,"span"),l(1),F(2,"number"),r()),a&2){let t,i=C().$implicit;f(),O("",K(2,1,((t=i.filesSize)!==null&&t!==void 0?t:0)*1024,"1.2-2")," KB")}}function Vd(a,e){if(a&1&&(o(0,"div",121)(1,"a",122)(2,"div",123),M(3,Rd,1,1,"img",124),r(),o(4,"div",125)(5,"span"),l(6),r()(),o(7,"div",126)(8,"span"),M(9,Nd,3,4,"span")(10,Ld,3,4,"span"),l(11),r()()()()),a&2){let t,i,n=e.$implicit,s=C();f(),Wo("href","#/projects/folder-details?id=",n.folderId,"&projectId=",s.folder.projectId,"",V),f(2),S("ngIf",n.imageUrl),f(3),N(n.title),f(3),Y(((t=n.filesSize)!==null&&t!==void 0?t:0)>1?9:10),f(2),O(" | ",(i=n.filesNum)!==null&&i!==void 0?i:0," items ")}}var Un=class a{constructor(e,t,i,n,s,c){this.sanitizer=e;this.route=t;this.translate=i;this.toastr=n;this.projectService=s;this.modalService=c}loadButton;saveToLocalStorage;saveDetails;mapFile;subscriptions=[];projectFolders=[];folderId=0;areaToOpen=null;folder;areasToAdd=[];areasToUpdate=[];foldersToDelete=[];isThereMapChanges=!1;isFetching=!1;isFetchingProjects=!1;isMapMode=!0;ngOnInit(){this.loadStyles(),this.loadScripts()}ngAfterViewInit(){this.route.queryParams.subscribe(e=>{this.folderId=Number(e.id),this.fetchFolder(this.folderId)}),setTimeout(()=>{this.setSectionContentHeight()})}fetchFolder(e){if(!e||this.isFetching)return;this.isFetching=!0;let t=this.projectService.fetchFolder(e).subscribe(i=>{i&&(this.folder=i,this.fetchProjectFolders(),this.folder?.folderHtml&&setTimeout(()=>{this.areaToOpen=this.folder.folderHtml,this.loadMap()},100)),this.isFetching=!1});this.subscriptions.push(t)}loadStyles(){let e=document.createElement("link");e.rel="stylesheet",e.href="assets/css/map_main.css?v=1.7",document.head.appendChild(e)}loadScripts(){let e=document.createElement("script");e.src="assets/scripts/summerHTMLImageMapCreator.js?v=1.7",document.body.appendChild(e)}ngOnDestroy(){localStorage.removeItem("SummerHTMLImageMapCreator"),this.subscriptions.forEach(i=>i.unsubscribe()),document.querySelectorAll('link[href="assets/css/map_main.css?v=1.7"]').forEach(i=>i.remove()),document.querySelectorAll('script[src="assets/scripts/summerHTMLImageMapCreator.js?v=1.7"]').forEach(i=>i.remove())}loadMap(){this.areaToOpen&&localStorage.setItem("SummerHTMLImageMapCreator",this.areaToOpen),this.loadButton.nativeElement.click()}btnSaveToLocalStorage(){this.saveToLocalStorage.nativeElement.click(),this.setMapChanges()}saveMap(e=!1){this.btnSaveToLocalStorage(),setTimeout(()=>{let t=new FormData,i=localStorage.getItem("SummerHTMLImageMapCreator");i&&t.append("folderHtml",i??"");let n=this.projectService.patchFolder(this.folderId,t).subscribe(s=>{s?(this.folder.folderHtml=i,e?this.generateAreasFolders():this.toastr.success(this.translate.instant("Maps.MapSavedSuccessfully"))):this.showError(this.translate.instant("Maps.MapSaveFaild"))},s=>{console.error("Error saving map:",s),this.showError(this.translate.instant("Maps.MapSaveFaild"))});this.subscriptions.push(n)},500)}setMapChanges(){let e=JSON.parse(localStorage.getItem("SummerHTMLImageMapCreator")??""),t=this.projectFolders.map(n=>({folderId:n.folderId,areaReference:n.areaReference,title:n.title})),i=e?.areas?.map(n=>({id:n.attributes.id,title:n.attributes.title,desc:n.attributes.desc}))??[];this.areasToAdd=i.filter(n=>!t.some(s=>s.areaReference===n.id)&&n.title),this.areasToUpdate=i.filter(n=>t.some(s=>s.areaReference===n.id&&s.title!==n.title)),this.foldersToDelete=t.filter(n=>!i.some(s=>s.id===n.areaReference)),this.isThereMapChanges=this.areasToAdd.length>0||this.areasToUpdate.length>0||this.foldersToDelete.length>0}saveArea(){this.saveDetails.nativeElement.click()}generateAreasFolders(){if(JSON.parse(this.folder.folderHtml??"")){let t=[];this.setMapChanges(),this.areasToAdd.forEach(i=>{let n=new FormData;n.append("title",i.title),n.append("brief",i.desc),n.append("parentId",this.folder.folderId?.toString()??""),n.append("projectId",this.folder.projectId?.toString()??""),n.append("typeId",this.folder.typeId?.toString()??""),n.append("type",this.folder.type?.toString()??""),n.append("isActive","true"),n.append("areaReference",i.id);let s=this.projectService.createFolder(n);t.push(s)}),this.areasToUpdate.forEach(i=>{let n=this.projectFolders.find(d=>d.areaReference==i.id),s=new FormData;s.append("title",i.title),s.append("brief",i.desc),s.append("parentId",this.folderId?.toString()??""),s.append("projectId",n?.projectId?.toString()??""),s.append("typeId",n?.typeId?.toString()??""),s.append("type",n?.type?.toString()??""),s.append("isActive",n?.isActive?.toString()??""),s.append("areaReference",i.id);let c=this.projectService.updateFolder(n?.folderId??0,s);t.push(c)}),this.foldersToDelete.forEach(i=>{let n=this.projectService.activateFolder(i?.folderId??0);t.push(n)}),t.length>0?wt(t).subscribe(i=>{i.forEach((n,s)=>{}),this.fetchProjectFolders(),this.toastr.success(this.translate.instant("Maps.MapSavedSuccessfully"))},i=>{console.error("Error creating folders:",i),this.showError(this.translate.instant("Folders.FolderCreationFailed"))}):this.fetchProjectFolders()}else this.showError(this.translate.instant("Maps.NoAreasToGenerate"))}fetchProjectFolders(){if(this.isFetchingProjects)return;this.isFetchingProjects=!0;let e=this.projectService.fetchProjectFolders(this.folder.projectId??0,this.folder.folderId,1,1e4,null,null,1,!0).pipe(De(()=>{this.isFetchingProjects=!1})).subscribe(t=>{t&&(console.log(t),this.projectFolders=t.data,this.setMapChanges())});this.subscriptions.push(e)}showError(e){this.toastr.error(e)}showMapMode(){this.isMapMode=!0}showFolderMode(){this.isMapMode=!1}changeImage(){let e=this.modalService.open(Hn);e.componentInstance.title="Change Map Image",e.componentInstance.message=`All Map data will be deleted,
 Are you sure you want to continue?`,e.result.then(t=>{t&&this.mapFile.nativeElement.click()},t=>{})}onMapFileSelected=e=>{if(e.length===0)return;let t=e[0];if(!t.type.startsWith("image/")){alert("Please upload a valid image file.");return}let i=new FileReader;i.onload=n=>{let s=n.target?.result;this.areaToOpen=JSON.stringify({img:s}),this.loadMap()},i.readAsDataURL(t)};sectionAside;sectionContent;resize(){this.setSectionContentHeight()}setSectionContentHeight(){let e=this.sectionContent.nativeElement.offsetHeight+14;this.sectionAside.nativeElement.style.marginTop=""+e+"px"}static \u0275fac=function(t){return new(t||a)(I(Go),I(Ke),I(ge),I(me),I(pe),I(Je))};static \u0275cmp=R({type:a,selectors:[["app-image-map-creator"]],viewQuery:function(t,i){if(t&1&&(ae(Fd,5),ae(jd,5),ae(Od,5),ae(kd,5),ae(Dd,5),ae(Ad,5)),t&2){let n;G(n=Q())&&(i.loadButton=n.first),G(n=Q())&&(i.saveToLocalStorage=n.first),G(n=Q())&&(i.saveDetails=n.first),G(n=Q())&&(i.mapFile=n.first),G(n=Q())&&(i.sectionAside=n.first),G(n=Q())&&(i.sectionContent=n.first)}},hostBindings:function(t,i){t&1&&w("resize",function(){return i.resize()},!1,dt)},decls:251,vars:2,consts:[["load",""],["mapFile",""],["saveDetails",""],["saveToLocalStorage",""],[1,"relativee"],["id","sticky-start"],[1,"row","main-top"],[1,"col-lg-9"],["id","myTab","role","tablist",1,"nav","nav-tabs","mb-3"],["role","presentation",1,"nav-item"],["id","Map-tab","data-bs-toggle","tab","data-bs-target","#Map-tab-pane","type","button","role","tab","aria-controls","Map-tab-pane","aria-selected","true",1,"nav-link","active",3,"click"],[1,"fa-regular","fa-map","me-1"],["role","presentation",1,"nav-item",3,"click"],["id","folder-tab","data-bs-toggle","tab","data-bs-target","#folder-tab-pane","type","button","role","tab","aria-controls","folder-tab-pane","aria-selected","false",1,"nav-link"],[1,"fa-regular","fa-folder","me-1"],["class","col-lg-3",4,"ngIf"],["id","myTabContent",1,"tab-content"],["id","Map-tab-pane","role","tabpanel","aria-labelledby","Map-tab","tabindex","0",1,"tab-pane","fade","show","active"],["id","wrapper",1,"d-flex"],["id","header"],["id","nav",1,"clearfix"],[2,"display","none",3,"click"],["href","javascript:;"],["id","load",2,"display","none"],["id","from_html",2,"display","none"],["id","rectangle"],["href","javascript:;","title","Rectangle"],["src","./assets/images/rectangle.svg",2,"width","24px"],["id","circle"],["href","javascript:;","title","Circle"],["src","./assets/images/circle.svg",2,"width","24px"],["id","polygon"],["href","javascript:;","title","Polygon"],["src","./assets/images/polygon.svg",2,"width","24px"],["id","edit"],["href","javascript:;","title","Edit"],["src","./assets/images/edit.svg",2,"width","24px"],["id","to_html",2,"display","none"],["id","preview",2,"display","none"],["id","clear",2,"display","none"],["href","javascript:;","title","New image",3,"click"],["src","./assets/images/image-pen.svg",2,"width","24px"],["id","new_image",2,"display","none"],["id","show_help",2,"display","none"],["type","file","accept","image/*",1,"form-control",2,"display","none",3,"change"],["id","coords"],["id","debug"],["id","image_wrapper"],["id","image"],["src","","alt","#","id","img"],["xmlns","http://www.w3.org/2000/svg","version","1.2","baseProfile","tiny","id","svg"],["id","code"],["title","close",1,"close_button"],["id","code_content"],["id","edit_details"],[1,"modal-content"],[1,"modal-header"],["id","rectangleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close","close_button"],["src","./assets/images/close.svg","alt",""],[1,"modal-body"],[1,"row"],[1,"col-lg-6"],[1,"form-group"],["type","text","id","title_attr","placeholder","title",1,"form-control"],["type","hidden","id","id_attr"],["type","text","id","href_attr","placeholder","Href",1,"form-control"],[1,"col-lg-12"],["id","desc_attr","placeholder","description",1,"form-control"],["type","text","id","alt_attr","placeholder","alt",1,"form-control",2,"display","none"],[1,"modal-footer","d-flex","justify-content-end"],["id","save_details","type","button",2,"display","none"],["type","button",1,"btn","btn-primary","mt-1",3,"click"],["id","from_html_wrapper"],["id","from_html_form"],["for","code_input"],["id","code_input"],["id","load_code_button"],["id","get_image_wrapper"],[1,"container",2,"display","none"],[1,"row","justify-content-center","align-items-center","h-100"],[1,"col-lg-4"],["id","get_image"],["id","logo_get_image"],["href",""],["src","./assets/images/logo.svg","alt","Summer html image map creator"],["id","loading"],["id","file_reader_support"],["id","dropzone"],["title","clear",1,"clear_button"],["src","","alt","preview","id","sm_img"],["for","url"],["id","url_wrapper"],["type","text","id","url",1,"form-control"],["id","button",1,"btn","btn-primary"],["id","overlay"],["id","help"],[1,"txt"],[1,"key"],["id","rectangleModal","tabindex","-1","aria-labelledby","rectangleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],["type","text","placeholder","title",1,"form-control"],["placeholder","description",1,"form-control"],["for",""],["type","color","id","exampleColorInput","value","#563d7c","title","Choose your color",1,"form-control","form-control-color"],["type","file","placeholder","color",1,"form-control"],["type","button",1,"btn","btn-primary","me-3"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["id","folder-tab-pane","role","tabpanel","aria-labelledby","folder-tab","tabindex","0",1,"tab-pane","fade"],[1,"recent-file","pt-5",2,"min-height","500px"],[1,"d-flex","flex-row","align-items-center"],["src","assets/icons/middle-arrow-down.svg","alt",""],[1,"row","pt-3","recent-file-row"],["class","col-xxl-2 col-xl-3 col-lg-4 col-sm-6",4,"ngFor","ngForOf"],["id","sticky-bottom"],[1,"col-lg-3"],[1,"d-flex","justify-content-end"],["type","button",1,"btn","btn-primary","me-2",3,"click"],["type","button",1,"btn","btn-primary",3,"click","disabled"],["id","save",2,"display","none"],[1,"col-xxl-2","col-xl-3","col-lg-4","col-sm-6"],[1,"recent-file-card","projects-block",3,"href"],[1,"proj-img-holder","map"],[3,"src",4,"ngIf"],[1,"recent-file-type","pt-2","d-flex","flex-row","align-items-center"],[1,"recent-file-footer","pt-2","d-flex","flex-row","align-items-center"],[3,"src"]],template:function(t,i){if(t&1){let n=D();o(0,"div",4),u(1,"div",5),o(2,"div",6)(3,"div",7)(4,"ul",8)(5,"li",9)(6,"button",10),w("click",function(){return _(n),x(i.showMapMode())}),u(7,"i",11),l(8," Map "),r()(),o(9,"li",12),w("click",function(){return _(n),x(i.showFolderMode())}),o(10,"button",13),u(11,"i",14),l(12," Folders "),r()()()(),M(13,zd,12,1,"div",15),r(),o(14,"div",16)(15,"div",17)(16,"div",18)(17,"header",19)(18,"nav",20)(19,"ul")(20,"li",21),w("click",function(){return _(n),x(i.btnSaveToLocalStorage())}),o(21,"a",22),l(22,"save"),r()(),o(23,"li",23)(24,"a",22,0),l(26,"load"),r()(),o(27,"li",24)(28,"a",22),l(29,"from html"),r()(),o(30,"li",25)(31,"a",26),u(32,"img",27),r()(),o(33,"li",28)(34,"a",29),u(35,"img",30),r()(),o(36,"li",31)(37,"a",32),u(38,"img",33),r()(),o(39,"li",34)(40,"a",35),u(41,"img",36),r()(),o(42,"li",37)(43,"a",22),l(44,"to html"),r()(),o(45,"li",38)(46,"a",22),l(47,"preview"),r()(),o(48,"li",39)(49,"a",22),l(50,"clear"),r()(),o(51,"li")(52,"a",40),w("click",function(){return _(n),x(i.changeImage())}),u(53,"img",41),r()(),o(54,"li",42)(55,"a",22),l(56,"New image"),r()(),o(57,"li",43)(58,"a",22),l(59,"?"),r()()()(),o(60,"input",44,1),w("change",function(){_(n);let c=H(61);return x(i.onMapFileSelected(c.files))}),r(),u(62,"div",45)(63,"div",46),r(),o(64,"div",47)(65,"div",48),u(66,"img",49),ct(),u(67,"svg",50),r()()(),wi(),o(68,"div",51),u(69,"span",52)(70,"div",53),r(),o(71,"form",54)(72,"div",55)(73,"div",56)(74,"h5",57),l(75,"Part Info"),r(),o(76,"button",58),u(77,"img",59),r()(),o(78,"div",60)(79,"div",61)(80,"div",62)(81,"div",63)(82,"label"),l(83,"Part title"),r(),u(84,"input",64),r()(),u(85,"input",65),o(86,"div",62)(87,"div",63)(88,"label"),l(89,"Link"),r(),u(90,"input",66),r()(),o(91,"div",67)(92,"div",63)(93,"label"),l(94,"Part description"),r(),u(95,"textarea",68),r()(),u(96,"input",69),r()(),o(97,"div",70),u(98,"button",71,2),o(100,"button",72),w("click",function(){return _(n),x(i.saveArea())}),l(101,"Save"),r()()()(),o(102,"div",73)(103,"form",74)(104,"h5"),l(105,"Loading areas"),r(),u(106,"span",52),o(107,"p")(108,"label",75),l(109,"Enter your html code:"),r(),u(110,"textarea",76),r(),o(111,"button",77),l(112,"Load"),r()()(),o(113,"div",78)(114,"div",79)(115,"div",80)(116,"div",81)(117,"div",82),u(118,"span",52),o(119,"div",83)(120,"a",84),u(121,"img",85),r()(),o(122,"div",86),l(123,"Loading"),r(),o(124,"div",87)(125,"label"),l(126,"Drag an image"),r(),o(127,"div",88)(128,"span",89),l(129,"x"),r(),u(130,"img",90),r(),o(131,"b"),l(132,"or"),r()(),o(133,"label",91),l(134,"type a url"),r(),o(135,"span",92)(136,"span",89),l(137,"x"),r(),u(138,"input",93),r(),o(139,"button",94),l(140,"OK"),r()()()()()(),u(141,"div",95),o(142,"div",96),u(143,"span",52),o(144,"div",97)(145,"section")(146,"h2"),l(147,"Main"),r(),o(148,"p")(149,"span",98),l(150,"F5"),r(),l(151," \u2014 reload the page and display the form for loading image again"),r(),o(152,"p")(153,"span",98),l(154,"S"),r(),l(155," \u2014 save map params in localStorage"),r()(),o(156,"section")(157,"h2"),l(158,"Drawing mode (rectangle / circle / polygon)"),r(),o(159,"p")(160,"span",98),l(161,"ENTER"),r(),l(162," \u2014 stop polygon drawing (or click on first helper)"),r(),o(163,"p")(164,"span",98),l(165,"ESC"),r(),l(166," \u2014 cancel drawing of a new area"),r(),o(167,"p")(168,"span",98),l(169,"SHIFT"),r(),l(170," \u2014 square drawing in case of a rectangle and right angle drawing in case of a polygon"),r()(),o(171,"section")(172,"h2"),l(173,"Editing mode"),r(),o(174,"p")(175,"span",98),l(176,"DELETE"),r(),l(177," \u2014 remove a selected area"),r(),o(178,"p")(179,"span",98),l(180,"ESC"),r(),l(181," \u2014 cancel editing of a selected area"),r(),o(182,"p")(183,"span",98),l(184,"SHIFT"),r(),l(185," \u2014 edit and save proportions for rectangle"),r(),o(186,"p")(187,"span",98),l(188,"I"),r(),l(189," \u2014 edit attributes of a selected area (or dblclick on an area)"),r(),o(190,"p")(191,"span",98),l(192,"CTRL"),r(),l(193," + "),o(194,"span",98),l(195,"C"),r(),l(196," \u2014 a copy of the selected area"),r(),o(197,"p")(198,"span",98),l(199,"\u2191"),r(),l(200," \u2014 move a selected area up"),r(),o(201,"p")(202,"span",98),l(203,"\u2193"),r(),l(204," \u2014 move a selected area down"),r(),o(205,"p")(206,"span",98),l(207,"\u2190"),r(),l(208," \u2014 move a selected area to the left"),r(),o(209,"p")(210,"span",98),l(211,"\u2192"),r(),l(212," \u2014 move a selected area to the right"),r()()()(),o(213,"div",99)(214,"div",100)(215,"div",55)(216,"div",56)(217,"h5",57),l(218,"Part Info"),r(),u(219,"button",101),r(),o(220,"div",60)(221,"div",63)(222,"label"),l(223,"Part title"),r(),u(224,"input",102),r(),o(225,"div",63)(226,"label"),l(227,"Part description"),r(),u(228,"textarea",103),r(),o(229,"div",63)(230,"label",104),l(231,"Label color"),r(),u(232,"input",105),r(),o(233,"div",63)(234,"label",104),l(235,"Part image"),r(),u(236,"input",106),r()(),o(237,"div",70)(238,"button",107),l(239,"Submit"),r(),o(240,"button",108),l(241,"Close"),r()()()()()(),o(242,"div",109)(243,"div",110)(244,"div",111),u(245,"img",112),o(246,"strong"),l(247,"Folders"),r()(),o(248,"div",113),M(249,Vd,12,7,"div",114),r()()()(),u(250,"div",115),r()}t&2&&(f(13),S("ngIf",i.isMapMode),f(236),S("ngForOf",i.projectFolders))},dependencies:[ut,ee,X,Me],styles:[".title-badge[_ngcontent-%COMP%]{fill:#00f!important;font-size:14px;font-weight:700;text-anchor:middle}.title-badge-container[_ngcontent-%COMP%]{stroke-width:3px!important;stroke:#ff0!important;fill:#ff0!important}.nav-tabs[_ngcontent-%COMP%]{justify-content:flex-start;margin-bottom:0!important;padding-bottom:0!important;border-bottom:0!important}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:15px 25px}#header[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:10px;width:50px}#header[_ngcontent-%COMP%]{width:69px;min-height:320px}#nav[_ngcontent-%COMP%]{position:fixed}.tab-content[_ngcontent-%COMP%]{padding-top:80px}"]})};var Bd=["cardElement"],Hd=()=>["/projects/project-map"],Ud=()=>({id:2}),$d=()=>["PDF","Word","Excel"],Wd=()=>["Name 1","Name 2","Name 3"],qd=()=>["Newest","Oldest","Recently Edited"],Zd=()=>["/projects/project-screen-details"],Xd=a=>({template1:a});function Yd(a,e){if(a&1){let t=D();o(0,"div")(1,"button",87),u(2,"img",88),l(3,"Share"),r(),o(4,"button",89),w("click",function(){_(t);let n=C();return x(n.closeInfo())}),u(5,"img",90),l(6,"Information"),r()()}}function Kd(a,e){if(a&1&&(o(0,"div"),u(1,"app-upload-toast",91),r()),a&2){let t=e.$implicit;f(),S("fileName",t.fileName)("progress",t.progress)}}function Gd(a,e){if(a&1){let t=D();o(0,"div",40)(1,"app-file-card",92),w("showInfo",function(n){_(t);let s=C();return x(s.showInfo(n))}),r()()}if(a&2){let t=e.$implicit,i=e.index;f(),S("card",t)("index",i)}}function Qd(a,e){if(a&1&&(o(0,"div",93),u(1,"img",94),r()),a&2){let t=C().data;f(),Z("src",t==null?null:t.image,V)}}function Jd(a,e){if(a&1&&(M(0,Qd,2,1,"div",93),l(1)),a&2){let t=e.data;Y(t!=null&&t.image?0:-1),f(),O(" ",t==null?null:t.name," ")}}var $n=class a{constructor(e,t,i){this.renderer=e;this.projectCoverService=t;this.fileUploadService=i}cardElements;uploads=[];files;isUpload=!1;count=0;bootstrap;ngOnInit(){setTimeout(()=>{this.projectCoverService.setShow(!0),this.projectCoverService.setSource("assets/images/files/proj4.jpg")})}data=[{options:[{value:"Omar Ezz",label:"Omar Ezz",data:{name:"Omar Ezz",email:"Omar_Ezz@exapmle.com.sa",image:"assets/images/profile/pic1.jpg"},templateId:"template1",templateSelectionId:"template1Selection",id:"1"},{value:"Emad hamdi",label:"Emad Hamdi",data:{name:"Emad hamdi",email:"emad_hamdi@exapmle.com.sa",image:"assets/images/profile/user4.jpg"},templateId:"template1",templateSelectionId:"template1Selection",id:"2"},{value:"Ehab Zakaria",label:"Ehab Zakaria",data:{name:"Ehab Zakaria",email:"ehab_zakaria@exapmle.com.sa",image:"assets/images/profile/default-profile-img.png"},templateId:"template1",templateSelectionId:"template1Selection",id:"3"},{value:"mohamed Ezz",label:"mohamed Ezz",data:{name:"mohamed Ezz",email:"mohamed@exapmle.com.sa",image:"assets/images/profile/pic1.jpg"},templateId:"template1",templateSelectionId:"template1Selection",id:"4"},{value:"Ali hamdi",label:"Ali Hamdi",data:{name:"Ali hamdi",email:"Ali@exapmle.com.sa",image:"assets/images/profile/user4.jpg"},templateId:"template1",templateSelectionId:"template1Selection",id:"5"},{value:"hassan Zakaria",label:"hassan Zakaria",data:{name:"hassan Zakaria",email:"hassan@exapmle.com.sa",image:"assets/images/profile/default-profile-img.png"},templateId:"template1",templateSelectionId:"template1Selection",id:"6"}]}];cards=[{id:1,isOpen:!0,isVideo:!0,openedAt:"10:54 AM",fileType:"video",fileImage:"assets/images/files/proj-d1.jpg",fileName:"WOTN drive.mp4",filePath:"assets/videos/HeroDesktop.mp4",fileSize:"105.3 MB",favorite:!0,videoDuration:"04:55 Min",Status:1},{id:2,isOpen:!0,isVideo:!0,openedAt:"10:54 AM",fileType:"photo",fileImage:"assets/images/file-card.png",fileName:"WOTN drive.png",filePath:"assets/videos/HeroDesktop.mp4",fileSize:"105.3 MB",favorite:!0,videoDuration:"",Status:1},{id:3,isOpen:!0,isVideo:!0,openedAt:"10:54 AM",fileType:"text",fileImage:"assets/images/files/proj-d2.jpg",fileName:"WOTN drive.pdf",filePath:"assets/videos/HeroDesktop.mp4",fileSize:"105.3 MB",favorite:!0,videoDuration:"",Status:1},{id:4,isOpen:!0,isVideo:!0,openedAt:"10:54 AM",fileType:"video",fileImage:"assets/images/files/project-1.jpg",fileName:"WOTN drive1.mp4",filePath:"assets/videos/HeroDesktop.mp4",fileSize:"105.3 MB",favorite:!0,videoDuration:"04:55 Min",Status:1}];onTypeSelect(e){console.log("Selected type:",e)}onPeopleSelect(e){console.log("Selected person:",e)}onModifiedSelect(e){console.log("Selected modified:",e)}shownInfo=!1;showInfo(e){console.log(e),this.shownInfo==!1&&(this.shownInfo=!this.shownInfo)}closeInfo(){this.shownInfo=!this.shownInfo}onFilesSelected=e=>{if(e.length===0)return;this.uploads=[],this.isUpload=!0,this.count=e.length;let t=[];for(let i=0;i<e.length;i++){let n=e[i],s=new FormData;s.append("file",n,n.name);let c={fileName:n.name,progress:0};this.uploads.push(c);let d=this.fileUploadService.upload(s).pipe(Ct(m=>{m.type?m.total&&(c.progress=Math.round(100*m.loaded/m.total)):m.type===Re.Response&&(c.progress=100,console.log("Upload complete for",c.fileName,m.body))}));t.push(d)}wt(t).subscribe({next:i=>{console.log("All uploads completed!",i),setTimeout(()=>{this.isUpload=!1,this.closeProjectUploadModal()},3e3)},error:i=>{console.error("Error during file upload:",i),this.isUpload=!1}})};modalInstance;ngAfterViewInit(){let e=document.getElementById("projectUploadModal");if(e){let t=window.bootstrap;this.modalInstance=new t.Modal(e)}}openProjectUploadModal(){this.modalInstance?.show()}closeProjectUploadModal(){this.modalInstance?.hide()}static \u0275fac=function(t){return new(t||a)(I(re),I(et),I(Ee))};static \u0275cmp=R({type:a,selectors:[["app-project-screen-details"]],viewQuery:function(t,i){if(t&1&&ae(Bd,5),t&2){let n;G(n=Q())&&(i.cardElements=n)}},standalone:!1,decls:242,vars:32,consts:[["file",""],["template1",""],[1,"row","home-layout"],[1,"col"],[1,"d-flex","justify-content-between","heady"],[1,"recent-file-footer","pt-2","d-flex","flex-row","align-items-center"],[4,"ngIf"],[1,"upper","d-flex","flex-row"],["data-bs-toggle","modal","data-bs-target","#projectUploadModal",1,"upload-btn"],["src","assets/icons/plus.svg","alt",""],[1,"pt-3"],[1,"upload-btn",3,"click"],[1,"upload-btn",3,"routerLink","queryParams"],[1,"las","la-map","la-2x"],["type","file","placeholder","Choose file","multiple","",1,"form-control",2,"display","none",3,"change"],[1,"toaste"],[1,"heade","d-flex","justify-content-between"],["src","assets/icons/close.svg","alt","",1,"close"],[1,"t-body"],[4,"ngFor","ngForOf"],["id","projectUploadModal","tabindex","-1","aria-labelledby","projectUploadModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered","modal-lg"],[1,"modal-content"],[1,"modal-header"],[1,"d-flex","mod-head","justify-content-between"],["id","projectUploadModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close","ms-2"],[1,"modal-body"],[1,"form-group"],["for",""],["type","text","placeholder","Files url",1,"form-control"],[1,"d-flex","justify-content-end"],["type","button","data-bs-dismiss","modal",1,"btn","btn-primary"],[1,"sorting"],[1,"pt-3","d-flex","flex-row","gap-3","sorting-row"],[3,"optionSelected","label","icon","options"],[1,"recent-file","pt-5"],[1,"d-flex","flex-row","align-items-center"],["src","assets/icons/middle-arrow-down.svg","alt",""],[1,"row","pt-3","recent-file-row"],[1,"col-xxl-2","col-xl-3","col-lg-4","col-sm-6"],[1,"recent-file-card","projects-block",3,"routerLink"],[1,"proj-img-holder"],["src","./assets/images/files/project-5.jpg","alt",""],[1,"recent-file-type","pt-2","d-flex","flex-row","align-items-center"],["class","col-xxl-2 col-xl-3 col-lg-4 col-sm-6",4,"ngFor","ngForOf"],[1,"file-info"],[1,"close-info",3,"click"],["src","assets/icons/close.svg","alt",""],["src","assets/icons/file-photo.svg","alt","",1,"me-2"],[1,"file-image"],["src","assets/images/file-card.png","alt",""],[1,"v-mar"],[1,"users"],[1,"m-user"],["src","assets/images/profile/small/pic1.jpg","alt",""],[1,"other"],["src","assets/images/profile/small/pic9.jpg","alt",""],["src","assets/images/profile/small/pic3.jpg","alt",""],["src","assets/images/profile/small/pic4.jpg","alt",""],["href","#","data-bs-toggle","modal","data-bs-target","#exampleModal"],["src","assets/images/plus.svg","alt",""],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["id","exampleModalLabel",1,"modal-title"],["href",""],[1,"fa","fa-link"],["placeholder","Enter Name or Email address","displaySearchStatus","default","multiple","","showSelectAll","",3,"data","templates"],[1,"mt-3","title-1"],[1,"list-group","list-group-flush","list-of-user","mb-3"],[1,"list-group-item","d-flex","justify-content-between","align-items-center"],[1,"d-flex","prof"],["src","assets/images/profile/small/pic1.jpg","alt","",1,"me-2"],["name","","id","",1,"form-control-solid"],["value",""],["value","","selected",""],["src","assets/images/profile/small/pic9.jpg","alt","",1,"me-2"],["src","assets/images/profile/small/pic3.jpg","alt","",1,"me-2"],["src","assets/images/profile/small/pic4.jpg","alt","",1,"me-2"],["src","assets/images/profile/small/pic5.jpg","alt","",1,"me-2"],[1,"tags"],[1,"custom-check"],["for","tag1",1,"tag"],["for","tag2",1,"tag"],["for","tag3",1,"tag"],["for","tag4",1,"tag"],["for","tag4",1,"tag","active"],[1,"fa","fa-plus","me-1"],["data-bs-toggle","modal","data-bs-target","#exampleModal",1,"btn","btn-solid","me-3"],["src","./assets/icons/menu/user.svg","alt","",1,"me-2"],[1,"btn","btn-primary",3,"click"],["src","./assets/icons/info.svg","alt","",1,"me-2","filter"],[3,"fileName","progress"],[3,"showInfo","card","index"],[1,"image","me-2"],["alt","",3,"src"]],template:function(t,i){if(t&1){let n=D();o(0,"div",2)(1,"div",3)(2,"div",4)(3,"div")(4,"h3"),l(5,"Project title"),r(),o(6,"div",5)(7,"span"),l(8,"105.3 MB | 235 items"),r()()(),M(9,Yd,7,0,"div",6),r(),o(10,"div",7)(11,"button",8),u(12,"img",9),o(13,"span",10),l(14,"Import Files via URL"),r()(),o(15,"button",11),w("click",function(){_(n);let c=H(24);return x(c.click())}),u(16,"img",9),o(17,"span",10),l(18,"Upload File"),r()(),o(19,"a",12),u(20,"i",13),o(21,"span",10),l(22,"Map Files"),r()(),o(23,"input",14,0),w("change",function(){_(n);let c=H(24);return x(i.onFilesSelected(c.files))}),r(),o(25,"div",15)(26,"h3",16)(27,"div"),l(28,"Loading "),o(29,"span"),l(30),r(),l(31," item."),r(),u(32,"img",17),r(),o(33,"div",18),M(34,Kd,2,2,"div",19),r()()(),o(35,"div",20)(36,"div",21)(37,"div",22)(38,"div",23)(39,"div",24)(40,"h5",25),l(41,"Upload files"),r(),o(42,"div"),u(43,"button",26),r()()(),o(44,"div",27)(45,"div",28)(46,"label",29),l(47,"Files url"),r(),u(48,"input",30),r(),u(49,"hr"),o(50,"div",31)(51,"button",32),l(52,"Done"),r()()()()()(),o(53,"div",33)(54,"strong"),l(55,"Sorting"),r(),o(56,"div",34)(57,"app-sort-files",35),w("optionSelected",function(c){return _(n),x(i.onTypeSelect(c))}),r(),o(58,"app-sort-files",35),w("optionSelected",function(c){return _(n),x(i.onPeopleSelect(c))}),r(),o(59,"app-sort-files",35),w("optionSelected",function(c){return _(n),x(i.onModifiedSelect(c))}),r()()(),o(60,"div",36)(61,"div",37),u(62,"img",38),o(63,"strong"),l(64,"Folders"),r()(),o(65,"div",39)(66,"div",40)(67,"a",41)(68,"div",42),u(69,"img",43),r(),o(70,"div",44)(71,"span"),l(72,"Sub folder"),r()(),o(73,"div",5)(74,"span"),l(75," 105.3 MB | 223 items"),r()()()()(),o(76,"div",37),u(77,"img",38),o(78,"strong"),l(79,"recent file"),r()(),o(80,"div",39),M(81,Gd,2,2,"div",45),r()()(),o(82,"div",3)(83,"div",46)(84,"div",47),w("click",function(){return _(n),x(i.closeInfo())}),u(85,"img",48),r(),o(86,"h3"),u(87,"img",49),l(88," WOTN drive.jpg"),r(),o(89,"div",50),u(90,"img",51),r(),o(91,"div",52)(92,"h3"),l(93,"Who has access"),r(),o(94,"div",53)(95,"div",54),u(96,"img",55),r(),o(97,"div",56),u(98,"img",57)(99,"img",58)(100,"img",59),o(101,"a",60),u(102,"img",61),r()()(),o(103,"p"),l(104,"Owend by you."),r()(),o(105,"div",62)(106,"div",21)(107,"div",22)(108,"div",23)(109,"div",24)(110,"h5",63),l(111,'Share "WOTN drive.mp4"'),r(),o(112,"div")(113,"a",64),u(114,"i",65),l(115," copy link"),r(),u(116,"button",26),r()()(),o(117,"div",27)(118,"select2",66),M(119,Jd,2,2,"ng-template",null,1,ue),r(),o(121,"h3",67),l(122,"Who has access"),r(),o(123,"ul",68)(124,"a",69)(125,"div",70),u(126,"img",71),o(127,"div")(128,"h5"),l(129,"Ahmed El Hammad"),r(),o(130,"p"),l(131,"Ahmed@exapmle.com.sa"),r()()(),o(132,"div")(133,"select",72)(134,"option",73),l(135,"Editor"),r(),o(136,"option",74),l(137,"Viewer"),r()()()(),o(138,"a",69)(139,"div",70),u(140,"img",75),o(141,"div")(142,"h5"),l(143,"Kareem El Hussainy"),r(),o(144,"p"),l(145,"Ahmed@exapmle.com.sa"),r()()(),o(146,"div")(147,"select",72)(148,"option",73),l(149,"Editor"),r(),o(150,"option",73),l(151,"Viewer"),r()()()(),o(152,"a",69)(153,"div",70),u(154,"img",76),o(155,"div")(156,"h5"),l(157,"Saad El Daly"),r(),o(158,"p"),l(159,"Ahmed@exapmle.com.sa"),r()()(),o(160,"div")(161,"select",72)(162,"option",73),l(163,"Editor"),r(),o(164,"option",73),l(165,"Viewer"),r()()()(),o(166,"a",69)(167,"div",70),u(168,"img",77),o(169,"div")(170,"h5"),l(171,"Amr Hassas"),r(),o(172,"p"),l(173,"Ahmed@exapmle.com.sa"),r()()(),o(174,"div")(175,"select",72)(176,"option",73),l(177,"Editor"),r(),o(178,"option",74),l(179,"Viewer"),r()()()(),o(180,"a",69)(181,"div",70),u(182,"img",78),o(183,"div")(184,"h5"),l(185,"Mostafa El Hammad"),r(),o(186,"p"),l(187,"Ahmed@exapmle.com.sa"),r()()(),o(188,"div")(189,"select",72)(190,"option",73),l(191,"Editor"),r(),o(192,"option",73),l(193,"Viewer"),r()()()()(),o(194,"div",31)(195,"button",32),l(196,"Done"),r()()()()()(),o(197,"div",52)(198,"h3"),l(199,"Tags"),r(),o(200,"div",28)(201,"div",79)(202,"div",80)(203,"label",81),l(204,"Website"),r()(),o(205,"div",80)(206,"label",82),l(207,"Government agencies"),r()(),o(208,"div",80)(209,"label",83),l(210,"Photo"),r()(),o(211,"div",80)(212,"label",84),l(213,"Videos"),r()(),o(214,"div",80)(215,"label",85),u(216,"i",86),l(217," Add Tag"),r()()()()(),o(218,"div",52)(219,"h3"),l(220,"Description"),r(),o(221,"p"),l(222,"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. "),r()(),o(223,"div",52)(224,"h3"),l(225,"Project Details"),r(),o(226,"h4"),l(227,"Project Type"),r(),o(228,"p"),l(229,"conference"),r(),o(230,"h4"),l(231,"Size"),r(),o(232,"p"),l(233,"105.3 MB"),r(),o(234,"h4"),l(235,"Owner"),r(),o(236,"p"),l(237,"You are Owner"),r(),o(238,"h4"),l(239,"Created"),r(),o(240,"p"),l(241,"25 May 2025"),r()()()()()}if(t&2){let n=H(120);B("expand",i.shownInfo),f(9),S("ngIf",i.shownInfo),f(10),S("routerLink",A(24,Hd))("queryParams",A(25,Ud)),f(6),B("load",i.isUpload),f(5),N(i.count),f(4),S("ngForOf",i.uploads),f(23),S("label","Type")("icon","assets/icons/file-text.svg")("options",A(26,$d)),f(),S("label","People")("icon","assets/icons/profile-middle.svg")("options",A(27,Wd)),f(),S("label","Modified")("icon","assets/icons/modified-middle.svg")("options",A(28,qd)),f(8),S("routerLink",A(29,Zd)),f(14),S("ngForOf",i.cards),f(),B("active",i.shownInfo),f(36),S("data",i.data)("templates",te(30,Xd,n))}},dependencies:[ee,X,_a,Se,Pe,Fe,fe,he,xe],encapsulation:2})};var em=()=>["PDF","Word","Excel"],tm=()=>["Name 1","Name 2","Name 3"],im=()=>["Newest","Oldest","Recently Edited"],nm=a=>({template1:a}),om=()=>["/projects/project-map"],am=a=>({id:a}),rm=()=>["/projects/folder-details"],sm=(a,e)=>({id:a,projectId:e});function lm(a,e){if(a&1&&(o(0,"span"),l(1),F(2,"number"),r()),a&2){let t,i=C();f(),O("",K(2,1,((t=i.folder==null?null:i.folder.filesSize)!==null&&t!==void 0?t:0)/1.024,"1.2-2")," MB")}}function cm(a,e){if(a&1&&(o(0,"span"),l(1),F(2,"number"),r()),a&2){let t,i=C();f(),O("",K(2,1,((t=i.folder==null?null:i.folder.filesSize)!==null&&t!==void 0?t:0)*1024,"1.2-2")," KB")}}function dm(a,e){if(a&1){let t=D();o(0,"div")(1,"button",115),u(2,"img",116),l(3,"Share"),r(),o(4,"button",117),w("click",function(){_(t);let n=C();return x(n.closeInfo())}),u(5,"img",118),l(6,"Information"),r()()}}function mm(a,e){if(a&1){let t=D();o(0,"a",12),w("click",function(){_(t),C();let n=H(28);return x(n.click())}),u(1,"img",13),o(2,"span",14),l(3,"Add Map"),r()()}}function pm(a,e){if(a&1&&(o(0,"a",119),u(1,"i",120),o(2,"span",14),l(3,"Open Map"),r()()),a&2){let t=C();S("routerLink",A(2,om))("queryParams",te(3,am,t.folderMap.folderId))}}function um(a,e){a&1&&(o(0,"div"),l(1," File url is required "),r())}function gm(a,e){if(a&1&&(o(0,"div",121),M(1,um,2,0,"div",10),r()),a&2){C();let t=H(47);f(),S("ngIf",t==null||t.errors==null?null:t.errors.required)}}function fm(a,e){if(a&1&&u(0,"img",127),a&2){let t=C().$implicit;S("src",t.imageUrl,V)}}function hm(a,e){if(a&1&&(o(0,"span"),l(1),F(2,"number"),r()),a&2){let t,i=C().$implicit;f(),O("",K(2,1,((t=i.filesSize)!==null&&t!==void 0?t:0)/1.024,"1.2-2")," MB")}}function vm(a,e){if(a&1&&(o(0,"span"),l(1),F(2,"number"),r()),a&2){let t,i=C().$implicit;f(),O("",K(2,1,((t=i.filesSize)!==null&&t!==void 0?t:0)*1024,"1.2-2")," KB")}}function bm(a,e){if(a&1&&(o(0,"div",122)(1,"a",123)(2,"div",124),M(3,fm,1,1,"img",125),r(),o(4,"div",126)(5,"span"),l(6),r()(),o(7,"div",9)(8,"span"),M(9,hm,3,4,"span")(10,vm,3,4,"span"),l(11),r()()()()),a&2){let t,i,n=e.$implicit,s=C();f(),S("routerLink",A(10,rm))("queryParams",ni(11,sm,n.folderId,s.projectId)),f(),ii("background",s.getColor(n.colorId)?"linear-gradient(0deg, rgba(58,81,100,1) 21%, "+s.getColor(n.colorId)+" 100%)":"#3A5164")("border-bottom",n.imageUrl?"7px solid "+s.getColor(n.colorId):"none"),f(),S("ngIf",n.imageUrl),f(3),N(n.title),f(3),Y(((t=n.filesSize)!==null&&t!==void 0?t:0)>1?9:10),f(2),O(" | ",(i=n.filesNum)!==null&&i!==void 0?i:0," items")}}function Sm(a,e){if(a&1){let t=D();o(0,"div",122)(1,"app-file-card",128),w("showInfo",function(n){_(t);let s=C();return x(s.showInfo(n))})("favorite",function(n){_(t);let s=C();return x(s.favorite(n))}),r()()}if(a&2){let t=e.$implicit,i=e.index;f(),S("card",t)("index",i)}}function ym(a,e){if(a&1&&(o(0,"div",129),u(1,"img",130),r()),a&2){let t=C().data;f(),Z("src",t==null?null:t.image,V)}}function _m(a,e){if(a&1&&(M(0,ym,2,1,"div",129),l(1)),a&2){let t=e.data;Y(t!=null&&t.image?0:-1),f(),O(" ",t==null?null:t.name," ")}}var Wn=class a{constructor(e,t,i,n,s,c,d,m,g,p,h,b){this.route=e;this.renderer=t;this.projectCoverService=i;this.fileUploadService=n;this.projectService=s;this.modalService=c;this.toaster=d;this.router=m;this.translate=g;this.el=p;this.uploadService=h;this.categoriesService=b}active=1;uploads=[];projectFolders=[];projectFiles=[];isUpload=!1;count=0;bootstrap;extFile="";subscriptions=[];folderId;folder;isFetching=!1;isFetchingProjects=!1;isFetchingFiles=!1;isFetchingMap=!1;colors=[];tagsInput="";tags=[];isFetchingColors=!1;fetchProjectFolders;projectId;folderMap=null;ngOnInit(){J.bind(this.el.nativeElement,"[data-fancybox]",{}),this.route.queryParams.subscribe(e=>{this.folderId=e.id,this.projectId=e.projectId,this.fetchFolder(this.folderId),this.fetchFolderFiles(this.projectId),this.fetchFolderFolders(this.projectId),this.fetchFolderMap(this.folderId),this.fetchColors()})}fetchFolder(e){if(!e||this.isFetching)return;this.isFetching=!0;let t=this.projectService.fetchFolder(e).subscribe(i=>{i&&(console.log("folder",i),this.folder=i,this.folder?.imageUrl&&setTimeout(()=>{this.projectCoverService.setShow(!1)})),this.isFetching=!1});this.subscriptions.push(t)}fetchFolderFolders(e){if(!e||this.isFetchingProjects)return;this.isFetchingProjects=!0;let t=this.projectService.fetchProjectFolders(e,this.folderId,1,1e4,null,null,0,!0).subscribe(i=>{i&&(console.log("projectFolders",i),this.projectFolders=i.data),this.isFetchingProjects=!1});this.subscriptions.push(t)}fetchFolderFiles(e){if(!e||this.isFetchingFiles)return;this.isFetchingFiles=!0;let t=this.projectService.fetchProjectFiles(e,this.folderId,1,1e4,null,null,!0).subscribe(i=>{i&&(console.log("projectFiles",i),this.projectFiles=i.data),this.isFetchingFiles=!1});this.subscriptions.push(t)}fetchFolderMap(e,t=!1){if(!e||this.isFetchingMap)return;this.isFetchingMap=!0;let i=this.projectService.fetchProjectFolders(this.projectId,this.folderId,1,1e4,null,null,1,!1).subscribe(n=>{n&&(this.folderMap=n.data[0],t&&this.folderMap&&this.router.navigate(["/projects/project-map"],{queryParams:{id:this.folderMap.folderId}})),this.isFetchingMap=!1});this.subscriptions.push(i)}fetchColors(){if(this.isFetchingColors)return;this.isFetchingColors=!0;let e=this.categoriesService.fetchColors().subscribe(t=>{t&&(this.colors=t.data),this.isFetchingColors=!1});this.subscriptions.push(e)}getColor(e){let t=this.colors.find(i=>i.catId===e);return t?t.colorDegree:null}onMapFileSelected=e=>{if(e.length===0)return;let t=e[0];if(!t.type.startsWith("image/")){alert("Please upload a valid image file.");return}let i=new FileReader;i.onload=n=>{let s=n.target?.result;this.uploads=[],this.isUpload=!0;let c=new FormData;c.append("imageFile",t,t.name);let d=this.getFileType(t);d!==null&&c.append("fileType",d.toString()),c.append("title",t.name),c.append("isActive","true"),c.append("TypeId","11"),c.append("projectId",this.projectId?.toString()??""),c.append("folderHtml",JSON.stringify({img:s})),c.append("parentId",this.folderId?.toString()??""),c.append("type",1 .toString());let m={fileName:t.name,progress:0};this.uploads.push(m),this.projectService.createMap(c).pipe(Ct(p=>{p.type===Re.UploadProgress?p.total&&(m.progress=Math.round(100*p.loaded/p.total)):p.type===Re.Response&&(m.progress=100,console.log("Upload map complete for",m.fileName,p.body),this.fetchFolderMap(this.folderId,!0))})).subscribe({next:p=>{console.log("Upload completed!",p),setTimeout(()=>{this.isUpload=!1,this.closeProjectUploadModal()},3e3)},error:p=>{console.error("Error during file upload:",p),this.isUpload=!1}})},i.readAsDataURL(t)};favorite(e){console.log(e),this.projectService.setFavourite(e).subscribe(t=>{this.toaster.success("",this.translate.instant("Favorite list updated successfully")),this.fetchFolderFiles(this.projectId)})}data=[{options:[{value:"Omar Ezz",label:"Omar Ezz",data:{name:"Omar Ezz",email:"Omar_Ezz@exapmle.com.sa",image:"assets/images/profile/pic1.jpg"},templateId:"template1",templateSelectionId:"template1Selection",id:"1"},{value:"Emad hamdi",label:"Emad Hamdi",data:{name:"Emad hamdi",email:"emad_hamdi@exapmle.com.sa",image:"assets/images/profile/user4.jpg"},templateId:"template1",templateSelectionId:"template1Selection",id:"2"},{value:"Ehab Zakaria",label:"Ehab Zakaria",data:{name:"Ehab Zakaria",email:"ehab_zakaria@exapmle.com.sa",image:"assets/images/profile/default-profile-img.png"},templateId:"template1",templateSelectionId:"template1Selection",id:"3"},{value:"mohamed Ezz",label:"mohamed Ezz",data:{name:"mohamed Ezz",email:"mohamed@exapmle.com.sa",image:"assets/images/profile/pic1.jpg"},templateId:"template1",templateSelectionId:"template1Selection",id:"4"},{value:"Ali hamdi",label:"Ali Hamdi",data:{name:"Ali hamdi",email:"Ali@exapmle.com.sa",image:"assets/images/profile/user4.jpg"},templateId:"template1",templateSelectionId:"template1Selection",id:"5"},{value:"hassan Zakaria",label:"hassan Zakaria",data:{name:"hassan Zakaria",email:"hassan@exapmle.com.sa",image:"assets/images/profile/default-profile-img.png"},templateId:"template1",templateSelectionId:"template1Selection",id:"6"}]}];onTypeSelect(e){}onPeopleSelect(e){}onModifiedSelect(e){}shownInfo=!1;showInfo(e){this.shownInfo==!1&&(this.shownInfo=!this.shownInfo)}closeInfo(){this.shownInfo=!this.shownInfo}externalUpload(){let e=new FormData,t=new File([this.extFile],this.extFile,{type:"text/plain"});e.append("Title",t.name);let i=this.getFileType(t);i!==null&&e.append("fileType",i.toString()),e.append("isActive","true"),e.append("TypeId","12"),e.append("projectId",this.projectId?.toString()??""),e.append("folderId",this.folderId?.toString()??""),e.append("ExternalFileUrl",this.extFile),console.log("formData",e),this.projectService.createFile1(e).subscribe(n=>{n&&(console.log("Upload complete for",n),this.closeProjectUploadModal(),this.fetchFolderFiles(this.projectId))})}onFilesSelected=e=>{if(e.length===0)return;this.uploads=[],this.isUpload=!0,this.count=e.length;let t=[];for(let i=0;i<e.length;i++){let n=e[i],s=new FormData;s.append("fileFile",n,n.name);let c=this.uploadService.startUpload(n.name),d=this.getFileType(n);d!==null&&s.append("fileType",d.toString()),s.append("Title",n.name),s.append("isActive","true"),s.append("TypeId","12"),s.append("projectId",this.projectId?.toString()??""),s.append("folderId",this.folderId?.toString()??"");let m={fileName:n.name,progress:0};this.uploads.push(m);let g=this.projectService.createFile(s).pipe(Ct(p=>{p.type===Re.UploadProgress?p.total&&(console.log("event",p),m.progress=Math.round(100*p.loaded/p.total),this.uploadService.updateProgress(c,m.progress)):p.type===Re.Response&&(m.progress=100,this.uploadService.updateProgress(c,m.progress),console.log("Upload complete for",m.fileName,p.body),this.fetchFolderFiles(this.projectId))}));t.push(g)}wt(t).subscribe({next:i=>{console.log("All uploads completed!",i),setTimeout(()=>{this.isUpload=!1,this.closeProjectUploadModal()},3e3)},error:i=>{console.error("Error during file upload:",i),this.isUpload=!1}})};getFileType(e){switch(e.name.split(".").pop()?.toLowerCase()){case"jpg":case"jpeg":case"png":case"gif":return 0;case"mp4":case"avi":return 1;case"pdf":return 2;case"doc":case"docx":return 3;case"xls":case"xlsx":return 4;case"ppt":case"pptx":return 5;case"txt":return 6;case"zip":return 7;default:return null}}modalInstance;ngAfterViewInit(){let e=document.getElementById("projectUploadModal");if(e){let t=window.bootstrap;this.modalInstance=new t.Modal(e)}}closeProjectUploadModal(){this.modalInstance?.hide()}openAddFolderModal(){let e=this.modalService.open(_i,{backdrop:"static",keyboard:!1});e.componentInstance.projectId=this.folder.projectId,e.componentInstance.parentId=this.folderId;let t=e.componentInstance.isSuccess.subscribe(i=>{i&&this.fetchFolderFolders(this.projectId)});this.subscriptions.push(t)}ngOnDestroy(){J.unbind(this.el.nativeElement),J.close(),setTimeout(()=>{this.projectCoverService.setShow(!1)}),this.subscriptions.forEach(e=>e.unsubscribe())}static \u0275fac=function(t){return new(t||a)(I(Ke),I(re),I(et),I(Ee),I(pe),I(Je),I(me),I(Dt),I(ge),I(de),I(mi),I(Vt))};static \u0275cmp=R({type:a,selectors:[["app-folder-details"]],standalone:!1,decls:356,vars:30,consts:[["mapFile",""],["file",""],["extFileForm","ngForm"],["extFile1","ngModel"],["sidebarRef",""],["template1",""],[1,"row","home-layout"],[1,"col"],[1,"d-flex","justify-content-between","heady"],[1,"recent-file-footer","pt-2","d-flex","flex-row","align-items-center"],[4,"ngIf"],[1,"upper","d-flex","flex-row"],[1,"upload-btn",3,"click"],["src","assets/icons/plus.svg","alt",""],[1,"pt-3"],["data-bs-toggle","modal","data-bs-target","#projectUploadModal",1,"upload-btn"],["class","upload-btn",3,"click",4,"ngIf"],["class","upload-btn",3,"routerLink","queryParams",4,"ngIf"],["type","file","accept","image/*",1,"form-control",2,"display","none",3,"change"],["type","file","placeholder","Choose file","multiple","",1,"form-control",2,"display","none",3,"change"],["id","projectUploadModal","tabindex","-1","aria-labelledby","projectUploadModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered","modal-lg"],[1,"modal-content"],[1,"modal-header"],[1,"d-flex","mod-head","justify-content-between"],["id","projectUploadModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close","ms-2"],[1,"modal-body"],[1,"form",3,"ngSubmit"],[1,"form-group"],["for",""],["type","text","placeholder","Files url","id","extFile","name","extFile","required","",1,"form-control",3,"ngModelChange","ngModel"],["class","alert alert-danger",4,"ngIf"],[1,"d-flex","justify-content-end"],["type","submit",1,"btn","btn-primary"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger","ms-3"],[1,"sorting"],[1,"pt-3","d-flex","flex-row","gap-3","sorting-row"],[3,"optionSelected","label","icon","options"],[1,"recent-file","pt-5"],[1,"d-flex","flex-row","align-items-center"],["src","assets/icons/middle-arrow-down.svg","alt",""],[1,"row","pt-3","recent-file-row"],["class","col-xxl-2 col-xl-3 col-lg-4 col-sm-6",4,"ngFor","ngForOf"],[1,"file-info"],[1,"close-info",3,"click"],["src","./assets/icons/close.svg","alt",""],["id","myTab","role","tablist",1,"nav","nav-tabs","mb-3"],["role","presentation",1,"nav-item"],["id","Details-tab","data-bs-toggle","tab","data-bs-target","#Details-tab-pane","type","button","role","tab","aria-controls","Details-tab-pane","aria-selected","true",1,"nav-link","active"],["src","./assets/icons/timeline.svg","alt","",1,"me-1"],["id","Timeline-tab","data-bs-toggle","tab","data-bs-target","#Timeline-tab-pane","type","button","role","tab","aria-controls","Timeline-tab-pane","aria-selected","false",1,"nav-link"],["src","./assets/icons/clock.svg","alt","",1,"me-1"],["id","myTabContent",1,"tab-content"],["id","Details-tab-pane","role","tabpanel","aria-labelledby","Details-tab","tabindex","0",1,"tab-pane","fade","show","active"],["src","assets/icons/file-photo.svg","alt","",1,"me-2"],[1,"file-image"],["src","assets/images/file-card.png","alt",""],[1,"v-mar"],[1,"users"],[1,"m-user"],["src","assets/images/profile/small/pic1.jpg","alt",""],[1,"other"],["src","assets/images/profile/small/pic9.jpg","alt",""],["src","assets/images/profile/small/pic3.jpg","alt",""],["src","assets/images/profile/small/pic4.jpg","alt",""],["href","#","data-bs-toggle","modal","data-bs-target","#exampleModal"],["src","./assets/images/plus.svg","alt",""],[1,"tags"],[1,"custom-check"],["for","tag1",1,"tag"],["for","tag2",1,"tag"],["for","tag3",1,"tag"],["for","tag4",1,"tag"],["for","tag4",1,"tag","active"],[1,"fa","fa-plus","me-1"],["id","Timeline-tab-pane","role","tabpanel","aria-labelledby","Timeline-tab","tabindex","0",1,"tab-pane","fade"],[1,"activities"],["href","",1,"replied"],["src","./assets/icons/reply1.svg","alt","",1,"me-1"],[1,"file-timeline","mt-3"],[1,"ms-4"],[1,"active"],[1,"comment-header"],["src","./assets/images/pp.jpg","alt","User"],[1,"comment-name"],[1,"deta"],[1,"commented"],[1,"comment-text"],[1,"attachment"],["href",""],["src","./assets/icons/attachment.svg","alt","",1,"me-1"],[1,"time","d-flex","justify-content-end"],["href","#",1,"reply-button"],[1,"latest"],["src","./assets/images/1.jpg","alt","User"],["href","",1,"replied","dark"],["src","./assets/icons/reply.svg","alt","",1,"me-1"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["id","exampleModalLabel",1,"modal-title"],[1,"fa","fa-link"],["placeholder","Enter Name or Email address","displaySearchStatus","default","multiple","","showSelectAll","",3,"data","templates"],[1,"mt-3","title-1"],[1,"list-group","list-group-flush","list-of-user","mb-3"],[1,"list-group-item","d-flex","justify-content-between","align-items-center"],[1,"d-flex","prof"],["src","assets/images/profile/small/pic1.jpg","alt","",1,"me-2"],["name","","id","",1,"form-control-solid"],["value",""],["value","","selected",""],["src","assets/images/profile/small/pic9.jpg","alt","",1,"me-2"],["src","assets/images/profile/small/pic3.jpg","alt","",1,"me-2"],["src","assets/images/profile/small/pic4.jpg","alt","",1,"me-2"],["src","assets/images/profile/small/pic5.jpg","alt","",1,"me-2"],["type","button","data-bs-dismiss","modal",1,"btn","btn-primary"],["data-bs-toggle","modal","data-bs-target","#exampleModal",1,"btn","btn-solid","me-3"],["src","./assets/icons/menu/user.svg","alt","",1,"me-2"],[1,"btn","btn-primary",3,"click"],["src","./assets/icons/info.svg","alt","",1,"me-2","filter"],[1,"upload-btn",3,"routerLink","queryParams"],[1,"las","la-map","la-2x"],[1,"alert","alert-danger"],[1,"col-xxl-2","col-xl-3","col-lg-4","col-sm-6"],[1,"recent-file-card","projects-block",3,"routerLink","queryParams"],[1,"proj-img-holder"],[3,"src",4,"ngIf"],[1,"recent-file-type","pt-2","d-flex","flex-row","align-items-center"],[3,"src"],[3,"showInfo","favorite","card","index"],[1,"image","me-2"],["alt","",3,"src"]],template:function(t,i){if(t&1){let n=D();o(0,"div",6)(1,"div",7)(2,"div",8)(3,"div")(4,"h3"),l(5),r(),o(6,"div",9)(7,"span"),M(8,lm,3,4,"span")(9,cm,3,4,"span"),l(10),r()()(),M(11,dm,7,0,"div",10),r(),o(12,"div",11)(13,"button",12),w("click",function(){return _(n),x(i.openAddFolderModal())}),u(14,"img",13),o(15,"span",14),l(16,"Create Folder"),r()(),o(17,"button",15),u(18,"img",13),o(19,"span",14),l(20,"Import Files via URL"),r()(),o(21,"button",12),w("click",function(){_(n);let c=H(30);return x(c.click())}),u(22,"img",13),o(23,"span",14),l(24,"Upload File"),r()(),M(25,mm,4,0,"a",16)(26,pm,4,5,"a",17),o(27,"input",18,0),w("change",function(){_(n);let c=H(28);return x(i.onMapFileSelected(c.files))}),r(),o(29,"input",19,1),w("change",function(){_(n);let c=H(30);return x(i.onFilesSelected(c.files))}),r()(),o(31,"div",20)(32,"div",21)(33,"div",22)(34,"div",23)(35,"div",24)(36,"h5",25),l(37,"Upload files"),r(),o(38,"div"),u(39,"button",26),r()()(),o(40,"div",27)(41,"form",28,2),w("ngSubmit",function(){_(n);let c=H(42);return x(c.form.valid&&i.externalUpload())}),o(43,"div",29)(44,"label",30),l(45,"Files url"),r(),o(46,"input",31,3),Bi("ngModelChange",function(c){return _(n),Vi(i.extFile,c)||(i.extFile=c),x(c)}),r(),M(48,gm,2,1,"div",32),r(),u(49,"hr"),o(50,"div",33)(51,"button",34),l(52,"Upload"),r(),o(53,"button",35),l(54,"Close"),r()()()()()()(),o(55,"div",36)(56,"strong"),l(57,"Sorting"),r(),o(58,"div",37)(59,"app-sort-files",38),w("optionSelected",function(c){return _(n),x(i.onTypeSelect(c))}),r(),o(60,"app-sort-files",38),w("optionSelected",function(c){return _(n),x(i.onPeopleSelect(c))}),r(),o(61,"app-sort-files",38),w("optionSelected",function(c){return _(n),x(i.onModifiedSelect(c))}),r()()(),o(62,"div",39)(63,"div",40),u(64,"img",41),o(65,"strong"),l(66,"Folders"),r()(),o(67,"div",42),M(68,bm,12,14,"div",43),r(),o(69,"div",40),u(70,"img",41),o(71,"strong"),l(72,"Files"),r()(),o(73,"div",42),M(74,Sm,2,2,"div",43),r()()(),o(75,"div",7)(76,"div",44,4)(78,"div",45),w("click",function(){return _(n),x(i.closeInfo())}),u(79,"img",46),r(),o(80,"ul",47)(81,"li",48)(82,"button",49),u(83,"img",50),l(84," Details "),r()(),o(85,"li",48)(86,"button",51),u(87,"img",52),l(88," Timeline "),r()()(),o(89,"div",53)(90,"div",54)(91,"h3"),u(92,"img",55),l(93," WOTN drive.jpg"),r(),o(94,"div",56),u(95,"img",57),r(),o(96,"div",58)(97,"h3"),l(98,"Who has access"),r(),o(99,"div",59)(100,"div",60),u(101,"img",61),r(),o(102,"div",62),u(103,"img",63)(104,"img",64)(105,"img",65),o(106,"a",66),u(107,"img",67),r()()(),o(108,"p"),l(109,"Owend by you."),r()(),o(110,"div",58)(111,"h3"),l(112,"Tags"),r(),o(113,"div",29)(114,"div",68)(115,"div",69)(116,"label",70),l(117,"Website"),r()(),o(118,"div",69)(119,"label",71),l(120,"Government agencies"),r()(),o(121,"div",69)(122,"label",72),l(123,"Photo"),r()(),o(124,"div",69)(125,"label",73),l(126,"Videos"),r()(),o(127,"div",69)(128,"label",74),u(129,"i",75),l(130," Add Tag"),r()()()()(),o(131,"div",58)(132,"h3"),l(133,"Description"),r(),o(134,"p"),l(135,"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. "),r()(),o(136,"div",58)(137,"h3"),l(138,"Project Details"),r(),o(139,"h4"),l(140,"Project Type"),r(),o(141,"p"),l(142,"conference"),r(),o(143,"h4"),l(144,"Size"),r(),o(145,"p"),l(146,"105.3 MB"),r(),o(147,"h4"),l(148,"Owner"),r(),o(149,"p"),l(150,"You are Owner"),r(),o(151,"h4"),l(152,"Created"),r(),o(153,"p"),l(154,"25 May 2025"),r()()(),o(155,"div",76)(156,"div",77)(157,"h3"),l(158,"No longer reply from"),r(),o(159,"a",78),u(160,"img",79),l(161," Mohamed Khaled"),r(),o(162,"a",78),u(163,"img",79),l(164," Ahmed Mohamed"),r(),o(165,"div",80)(166,"h3"),l(167,"Today"),r(),o(168,"ul",81)(169,"li",82)(170,"div",83),u(171,"img",84),o(172,"div",85),l(173,"Samir Mohamed"),r()(),o(174,"div",86)(175,"div",87),l(176,"Commented"),r(),o(177,"div",88),l(178," Maybe increasing the padding or using a grid layout could help. "),r(),o(179,"div",89)(180,"a",90),u(181,"img",91),l(182,"Attachment .file.pdf"),r()(),o(183,"a",78),u(184,"img",79),l(185," Ahmed Mohamed"),r(),o(186,"div",92),l(187,"12:19 PM"),r(),o(188,"a",93),l(189,"Reply to Mohamed Khaled"),r()()(),o(190,"li",94)(191,"div",83),u(192,"img",95),o(193,"div",85),l(194,"Branch Manager"),r()(),o(195,"div",86)(196,"div",87),l(197,"Commented"),r(),o(198,"div",88),l(199," Could we adjust the spacing between the card components on the dashboard screen? Right now it feels a bit cramped, especially on smaller screens. "),r(),o(200,"a",96),u(201,"img",97),l(202," Ahmed Mohamed"),r(),o(203,"div",92),l(204,"12:19 PM"),r(),o(205,"a",93),l(206,"Reply to Mohamed Khaled"),r()()()(),o(207,"h3"),l(208,"12 Sep 2024"),r(),o(209,"ul",81)(210,"li")(211,"div",83),u(212,"img",84),o(213,"div",85),l(214,"Ahmed Mohamed"),r()(),o(215,"div",86)(216,"div",87),l(217,"File updated"),r(),o(218,"div",88),l(219," updates done check this link kindly. "),r(),o(220,"div",89)(221,"a",90),u(222,"img",91),l(223,"Attachment .file.pdf"),r()(),o(224,"a",78),u(225,"img",79),l(226,"Mohamed Khaled"),r()()(),o(227,"li",94)(228,"div",83),u(229,"img",95),o(230,"div",85),l(231,"Mohamed Khaled"),r()(),o(232,"div",86)(233,"div",87),l(234,"Commented"),r(),o(235,"div",88),l(236," Could we adjust the spacing between the card components on the dashboard screen? Right now it feels a bit cramped, especially on smaller screens. "),r(),o(237,"a",96),u(238,"img",97),l(239,"Ahmed Mohamed"),r(),o(240,"div",92),l(241,"12:19 PM"),r(),o(242,"a",93),l(243,"Reply to Mohamed Khaled"),r()()()(),o(244,"h3"),l(245,"20 May 2025"),r(),o(246,"ul",81)(247,"li")(248,"div",83),u(249,"img",84),o(250,"div",85),l(251,"Ahmed Mohamed"),r()(),o(252,"div",86)(253,"div",87),l(254,"File Created"),r(),o(255,"div",89)(256,"a",90),u(257,"img",91),l(258,"Attachment .file.pdf"),r()(),o(259,"a",78),u(260,"img",79),l(261,"Mohamed Khaled, Branch Manger"),r(),o(262,"div",92),l(263,"13:17 Pm"),r()()()()()()()(),o(264,"div",98)(265,"div",21)(266,"div",22)(267,"div",23)(268,"div",24)(269,"h5",99),l(270,'Share "WOTN drive.mp4"'),r(),o(271,"div")(272,"a",90),u(273,"i",100),l(274," copy link"),r(),u(275,"button",26),r()()(),o(276,"div",27)(277,"select2",101),M(278,_m,2,2,"ng-template",null,5,ue),r(),o(280,"h3",102),l(281,"Who has access"),r(),o(282,"ul",103)(283,"a",104)(284,"div",105),u(285,"img",106),o(286,"div")(287,"h5"),l(288,"Ahmed El Hammad"),r(),o(289,"p"),l(290,"Ahmed@exapmle.com.sa"),r()()(),o(291,"div")(292,"select",107)(293,"option",108),l(294,"Editor"),r(),o(295,"option",109),l(296,"Viewer"),r()()()(),o(297,"a",104)(298,"div",105),u(299,"img",110),o(300,"div")(301,"h5"),l(302,"Kareem El Hussainy"),r(),o(303,"p"),l(304,"Ahmed@exapmle.com.sa"),r()()(),o(305,"div")(306,"select",107)(307,"option",108),l(308,"Editor"),r(),o(309,"option",108),l(310,"Viewer"),r()()()(),o(311,"a",104)(312,"div",105),u(313,"img",111),o(314,"div")(315,"h5"),l(316,"Saad El Daly"),r(),o(317,"p"),l(318,"Ahmed@exapmle.com.sa"),r()()(),o(319,"div")(320,"select",107)(321,"option",108),l(322,"Editor"),r(),o(323,"option",108),l(324,"Viewer"),r()()()(),o(325,"a",104)(326,"div",105),u(327,"img",112),o(328,"div")(329,"h5"),l(330,"Amr Hassas"),r(),o(331,"p"),l(332,"Ahmed@exapmle.com.sa"),r()()(),o(333,"div")(334,"select",107)(335,"option",108),l(336,"Editor"),r(),o(337,"option",109),l(338,"Viewer"),r()()()(),o(339,"a",104)(340,"div",105),u(341,"img",113),o(342,"div")(343,"h5"),l(344,"Mostafa El Hammad"),r(),o(345,"p"),l(346,"Ahmed@exapmle.com.sa"),r()()(),o(347,"div")(348,"select",107)(349,"option",108),l(350,"Editor"),r(),o(351,"option",108),l(352,"Viewer"),r()()()()(),o(353,"div",33)(354,"button",114),l(355,"Done"),r()()()()()()()()()}if(t&2){let n,s,c=H(42),d=H(47),m=H(279);B("expand",i.shownInfo),f(5),N(i.folder==null?null:i.folder.title),f(3),Y(((n=i.folder==null?null:i.folder.filesSize)!==null&&n!==void 0?n:0)>1?8:9),f(2),O("| ",(s=i.folder==null?null:i.folder.filesNum)!==null&&s!==void 0?s:0," items"),f(),S("ngIf",i.shownInfo),f(14),S("ngIf",!i.isFetchingMap&&!i.folderMap),f(),S("ngIf",!i.isFetchingMap&&i.folderMap),f(20),Li("ngModel",i.extFile),f(2),S("ngIf",d.invalid&&(d.dirty||d.touched||c.submitted)),f(11),S("label","Type")("icon","assets/icons/file-text.svg")("options",A(25,em)),f(),S("label","People")("icon","assets/icons/profile-middle.svg")("options",A(26,tm)),f(),S("label","Modified")("icon","assets/icons/modified-middle.svg")("options",A(27,im)),f(7),S("ngForOf",i.projectFolders),f(6),S("ngForOf",i.projectFiles),f(),B("active",i.shownInfo),f(202),S("data",i.data)("templates",te(28,nm,m))}},dependencies:[ee,X,Se,Pe,Fe,Le,fe,he,Ge,Qe,Ne,Zi,qi,si,xe,Me],encapsulation:2})};var xm=[{path:"",component:tn,children:[{path:"",component:Tn,data:{title:"Home"}},{path:"recent-files",component:Fn,data:{title:"Recent files"}},{path:"projects",component:jn,data:{title:"Projects"}},{path:"bin",component:On,data:{title:"Trash"}},{path:"shared",component:kn,data:{title:"Shared with me"}},{path:"my-files",component:Dn,data:{title:"My Files"}},{path:"favorite",component:An,data:{title:"favorite"}},{path:"projects/project-details",component:Bn,data:{title:"Project details",breadcrumb:"projects"}},{path:"projects/project-map",component:Un,data:{title:"Project Map",breadcrumb:"projects"}},{path:"projects/project-screen-details",component:$n,data:{title:"Project screen details",breadcrumb:"projects"}},{path:"projects/folder-details",component:Wn,data:{title:"Folder details",breadcrumb:"projects"}}]}],qn=class a{static \u0275fac=function(t){return new(t||a)};static \u0275mod=It({type:a});static \u0275inj=Et({imports:[Pi.forChild(xm),Pi]})};var wr=class a{static \u0275fac=function(t){return new(t||a)};static \u0275mod=It({type:a});static \u0275inj=Et({imports:[ut,wa,xa,qn,ut,Yi,Xi,Pi,ya,xe,fa,xr]})};export{wr as PagesModule};
